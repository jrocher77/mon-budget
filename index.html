<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
  <title>Mon Budget</title>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADdUlEQVR4nL2XT2gVRxjAfzMxkkQl7QtJk1QTSrDSHko0GqiEilBoXyVQ6EWaVCitF9NS8GBziiBGPIgURJKTilawPYqQ0ouokGptUrF/sGraNNqoCW/x1fzBvrwdD7uzO9l9u/teaPxgD9ndmd/v++Z7kx1BIFI1jSp47/8MKzMpzL9XBOFDxze1LadAugdlSngCGp7uGR1JmiRVXR75zMrmYsc6DF9ClALXYNuOXiUpRaKIZlmZSSGKgQfBMXxcfqKIZsroqcJwW/lwpcKXlrOVLxu3XACxAqnqcgfswk2wd9+4QiLu/TiJSAFzkK3C4EIVCD4zlypKYkXBuxrsZu5l5U7uVKJQIwjvPSmFI+FmoHuiKAGv9AbDhJeVwYc7mnmn4yVS1SuZtp7y5/1ZLl6bZvjnDAt55Um4fHCXItiUiU2oS2tmvr/ndTq3N3Dk5B069wxzcPAW6+qr6NvzGu1vvFhwXFSEBApl78so0m/Vs7W1hq9O3+XHXyzmn+b5bexf+o79bvRKeLBuymAvxPaAmYVSjtTO9Dqs7H9c+mkaZfvvjk/OcvfvGQ8mUYDwlkIUboF4gWA0N1axtr6SH25ksPM6M4UUAmXDp30jSBENW7KAEHD68BYa6yoBeLO1hitfb/Oe53I2H3xxlccz8f8HliygFHz05XXef/tlPu9q4eyFCQbP/QX4FQAQiS0djpKG6OZSyoeZ8FLLDwkVEAJ3Q1GcOtROY10FAN2dTXR3NgHwx/gTdveNeiKOFAhXJq4BCwpY2ZzzUwns/7t6r9PUUMWJ/jau3bToPfqr9xs3M9fwYEhXpuSNyMxi4sEc/zyaZ8MraxCCRRfAyf7NvNtRHxoXFwUFrGwOKQXm9q0n++a7+7ywppzt7bVOVu71avNqGmorGL6R8eBJ2UNCD0gpnKXAWQYpBUOXH9KxsYbPulqYnctz83aWlqZV7PtkAwPnxpiZW/DgQvjwqIgU8HrBzUBvelIKDgzcYud7a9n78XpS1St5MDXPt0P3+H54alHZTW7Ul1FsBUwJ3ZRCwELe5sz5Cc6cn1j0vrneZuZx34eJTagH657QWQWb0My6WDgUuRPqScxqREWx4JIEIkVi3ik2ShJYKiQupJWZFOme0ZHlPpKZYR5MJDgHxuclYcJBf8a68XwOpz48JKAlllMgeDx/BlYuBVBY1RiQAAAAAElFTkSuQmCC" />
  <link rel="apple-touch-icon" sizes="180x180" href="data:image/png;base64,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" />
  <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjogIk1vbiBCdWRnZXQiLCAic2hvcnRfbmFtZSI6ICJCdWRnZXQiLCAic3RhcnRfdXJsIjogIi4iLCAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwgImJhY2tncm91bmRfY29sb3IiOiAiIzBlMGYxMyIsICJ0aGVtZV9jb2xvciI6ICIjMGUwZjEzIiwgImljb25zIjogW3sic3JjIjogImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBTUFBQUFEQUNBWUFBQUJTM0d3SEFBQWM3a2xFUVZSNG5PMWRhNVJkUlpYK1RqL1M2VWRlM2VUVmVRTkpBSlZvQWhvZEpBcU9Hc1VnREM1SFpWQWp1bVlFUjM4d2kvSEhqSTZqbzJzNTQ3aEdXQXZueHdnb29EZ2k4aEFZUmw2T0lvUWtrSVNRQlBKT09xR1RkS2Z6Nk83Ymozdm14KzNUZlI3MTJGV256dXZlK3JMdVd1bFRWYnZxblBOOWUrK3FVK2RlQnhtaXZhUFR6YkovaTN5ZzUwU1hrMVhmRFdsMXhDTDdZN2V2WEpWVy94YjV4ZHFiRU9GR1dxSklWQUIrMHJQSXZ2YW1UUnVUN04raUdHQnpZMElVU1lvaEVjTXM0bHV5VzZpQXhac2toR0RVb0VkOHY2SXQ4UzNpZ01VbGswSXdZaWhNZkV0Nml5UVE1cGNKSWNRMjRDZS9KYjVGR3ZCekxhNElZalZ1NytoMHJkZTN5QUorM3NVUmdWWkQ2L1V0OG9LNDBhQk90WUVsdjBXZXNQYW1UUnU5YUtEellGVkpNWmI4Nm1pZjFoamJSay9mc0lHUlZEZDBJd0c1b2lVL0h5S1N1d1kyZXppQ3UyVEZNUUVkRVpBcVdmSUh3U0s4Q2FLcmdpV01XaGVFcWdpa0ZTejVLL0NUUGd1eVUrRVhSYTJLUVVVRUpBSFVLdm1Oa042RVdEUVgrV3BaREI1bll3bWdGc212VGZvc29vS0NNR3BSREJRUmNBdHFqZndlOGNta3oyTWFSQlNFSjRaYUVJSk1CTXp0MExYMG9ncVorSnBYeERXZ0ZJZks3SEJYbkdiZXVYcm5YZ3RDYU8vb2RGa2k0RDRJcTNidjN6NnRFZTNUR3VHNkF2Szd2bzhFTHVlZkNXamJsb3pmTzNmdldsUWovQS9LV0lnb290cFRINUxISnhJK2J5QkZDa0dWYWs2TmVLbFFhcTlFWmcwVHhOY2hmZElQd2dKOStjYkhGWU03WGlGYVZJT3BVZUF5VktQM2owdDhGZEtuK1h5QUtncEFFaGxxS0NLd29vRHlacmdpUVVwK1VYNU15TE85SEZvNGowZ0lLbjBMejBVeVJ3RE03R2ZLSzhaVG9HcGErU0VSbjNsWVRuZ2R4TG13VkVjZkhoc3JRZ2hUSkU1cVZJMXBrWDlGS0JBQnFpSDlFWktmNCsxazNwN3E0VjNPSnc1MGJjckd6RDFuM2pXcWdtakFXaEdxcWhTSXU2eXBRWHhLZW1HUzZLcWc5aTA3RHhVaCtKZE5xd1VPVVB6SnI5VHJNdy96aVMrQ0Z0SFR5SUVVbXZBbTBOekpNdU53a1NmSS9zbHc0U09BS3ZsNUhrL3NKWWxlUGljNWtLd2E3MXlGMFlCaEF5aCtOQ2kwQUZSU25qakU1NklBT1pBeElWUnBTbFJZQVhqa2o0QnpReVBIZEltdlFYaWVFNmQ4dERvUkZEUExCRUpnR21LMEw2b0lDaWtBRStSbmdVUjhDZExJZ01pTjFJcHFVZ1JPMFNiQVRQSWJJTDVhZ1ZLVnhCSG41VmRlVzlaRW1UbEpEaDF5bkdKTWpEM09GMm92a0dueTZ4SmZsZlJ1ak1mRURtSFBnOTg2dDdiTHJzQTVETmVOaXNDRnkzNkE1anZrUllJaWlBQW9VQXFVQ3ZrSnFZT015cTdyUmo1eG9HcFBPazVPSVRPajFFeUppcFFPRlVJQXV1Um5UZTY0NU5DWkZ5QkswRFJBN1ZNcUJFSjk5aldzSGhIa1hnQVU4ck9XN2VKNmZmRmtVWTN3NFkxcktoK2FmZkY0aEtMWGpBYmNwZEpRbTd5TElOY0NvSkkvRENYeU13N0ppQytDTG9sTjJkTVdndndRTFNVcW1BaHlLd0JUNUdmZWRBWFBWN0VwU1RVTWtaMEswajRsaVJDWUJ3blhydHBFa0VzQm1DUi90Qkw3RU52akNVaVVNdWw1a0kyRGR3NXhva0UxaVNCM0FtQmVwSVRKSDdVbEozNGVvU3NFeWtFVElnRHlKNEpjUGdkUUpaaVUvQXJFTnpHZXJPRWZiMlF0ZjZ6US8zekJxeDZveWpqb2h1cXduaFhJeHFWU1B3M2tLZ0xvcEQ1RklYOVNLMENVZnRuSDlhS0JMQklVTFJYS2pRRHlSdjQ0SkRSRlp0TjJvc2V0Q0hJaEFKMjgzd1Q1V1hteEx0SFNtaFRINllmVmpua05tSTJGZnlxTEFNaUhDSEl6QnhBdTZjVWt2NHJYVjRGS2ZSMWR5TkpsVWE0dmE4ZWFHNURtQlFwekF1YmVJY0VZc2tEbUVZQzZ6V0c4S0Fma2w2N0JNejQ2VUxHakdoVzBVeUxGU0NCc200TlVLRk1CNkM1NWNxcHFrVitGT01KbFJzUWpPeFd5ZnVLZWp3a1JCTXZ5blFwbG5nSUZycmRpM2grcUxQcHpyTDJDUFdJOU11RjFrblpKanNCTVUwTGRVZEtNU09vU1NvZTh2a1Rwa05CZU9CWHl0YzA2RmNvc0FuRGY2aHFEY3Q0dmdXbnlTNzE5RXN0QXZHcUNzZWllcCtyT1Z1VkpjYWh1VmxFZzh3Z3dqZ1R6ZmgzeWk0aXYzTWlIaFowdFdIbmhkSnk3b0JXTE9sc3dxMzB5bWlmWG82VzVIdVd5aThGU0dZT2xVWnc0T1lUdW5oS09IaC9FN2dObnNQdkFXZXcvMG85eW1lL2FlUkdCR2cxa2tVQVdCV1NUNHNoZ2N6QUp6a1FBcXQ0L1dDWStrQlQ1dWMwSUJ1Zk1uSXlQcnBtTEQ2eWVoVmtkVGR4NjlYVU9HaHZxTUtXMUFUUGJtM0RCdVZNQzVmMERvOWl5cXcrYnR2ZmkrWmQ3ME5VOVVDbGdwQ3NBN1MwdjF1bVlGRUd3cW5oVktJczN5ZklSQVJTOHY2aGRxdVNYR0hOZFlNR2NabnpodWlWNDc2cHpqT1M1TGMzMVdMMmlIYXRYdE9QTG56b1ByKzgvZzJjM0hNT1RmK3pHOGQ0U1V3aFppSURjWHc2aVFPb0NVUEgrS25sL1hQS2I4UHJlNGNsTjlmalNKNVpnM1JWelVWZVgzQjFldXFnTlN4ZTFZZjIxaS9IQ2xoNDgrdXhSL0dsTFQyQjRyR2hBU1ltVVJlQnZ5K2pQYTVxM0tKQjlCQWpjTFAzVUoxQ1VGUGtseEFlQWk4NmJpcTkvYVRubXpXNFdkMm9RZFhVTzN2MzJEcno3N1IwNDNEMkEvMzc4TUo3NDQ1c29EWlVueGdqMWFFQlpIZUoxUUU2Rk1vNENxYTRDeWJ5L0gzR1hQRWwyT09WVThvY1haejUwMld6ODhPc3JVaVYvR1BObU5lT3JONXlQKy83MW5mak1WUXZRTXJsK3ZJeDFYanJYaDJ0UE41VU4xVXR6UlNqYkNLRHIvUVZsS3N0M0pQSVRueHAvN3BwRnVPSHFSZVMrK3dkSDhlS1dIcnk0dFJkN0RwM0YwZU9ET0Rzd0FnY09XbHZxMFRtekdVc1h0ZUdTdDg3QXV5NmVnY1lHTlY4MXJhMFI2Njlkak9zK09BLzNQMzRZRC82dUN3T2xVZTE1d1VSZC9WUW9XSmFQS0pDYUFKTHkvc0YyOU5USEpQblhYN3NZMTY5YnlPL01oNU9uaDNIUHd3Znd5TE5ITVRBNHlob1podnJLT0hscUdOdDNuOEp2bnVyQzFMWkdYUE9CVG56eXcvUFI3UFBvRkV4dGE4U04xeTNHMEhBWnYzcnk4RmdQYWlLSWt3cFIrd2pYUzJzdWtGMEUwUEgrZ3RSSDkwRVh4elNaL0ovNjZBSXkrWjk4dmhzLyt1a2JPSFYyUkQ0ZVgxOTlwNGR4MTRQNzhkdm5qdUx2YjF5T2xSZE5KL1VYc2hqNVM4WHBpa1FnV2hYS2V4UklaUTVnelB2NzY4V3dJWCt3RmhVVHE4MWxxODdCamRjdEVYYzIxdjcyZTNmak8zZnNJSkdmWjZQN1JBbTNmSDhMSHZ4ZGw1YU55SG1KaTJYTmhiWjBiSVRycFRFWHlHWXJoQTdKRlZJZm9VME44clBHdFdSK0s3Nyt4ZVdra1A3dmQ3Mk9YejV4bUR4R0VjcGw0SWQzdjRFSG50UzBGMU1Fd2JvMFJaQk5La1p0RThoOE83Um8zWi9mUmxDbWtQZnJrcit4b1E3LzhOY1hrUEx4bno1MEFBODlmVVJhVHhVL3VtYzNubis1UjY5eERCR1lqZ0paLytCNDRnS0lwRDhaZW4raFNRbjVYVitiOVgreEdFdm10MHI3MkxUOUpIN3l3RDZ0OGNuZ3VzQjMvM01IanA4Y0l0Y1hIZENsWVpKUklJMDBLTk1Jb1BYTDY2SXkzWFZvQXZrOUxGdmNoazkrZUw3QVdBV0RRMlY4Lzc5Mm9SeTI1VWEvN0ZiMyswVlBuUjNCYmZmc0p0ZVhpWUJZWkNRS0JOdGtGd1V5VDRFOHNCN2Z5OXZRMGllbExSV1N1amQvK2p4UzNuL1B3d2R3NU5pZ0ZybFYyanp6NGpGc2UvMFV5VzdGdHFCTXBXN0FVeFBQaTJnN1RTUXFBTjMwSndDZE1Fb3pOM2FBdUFRTDRQM3Ztb20zTFpzbTdlUGs2V0hjLy9naDdmUXNNZzZKRU81OGNIOGM0OEUvOVMyeGJjUzk1d21uUVpsRkFKM0piNkE5Mlp2U0MwVjFIUWY0L01jWGsvcTgvN0ZER0N5eEhuSk56Q1ZFSC81dzJVSjRhVnN2OWgzdUo0MnRZa2QyZ0ZRVUdac3E4akFaemswSzVFSEhleVN4ZWhTdXUrYVNtVmd3Vjc3SFozaWtqRWVlRGE3NlVNaXRVcDlGdG5DZjBqNE1yK2FJSzZyYlRndUpDVURsNFJjRndmelJyUGVYa2Q5MWdjOThiQUdweitjMkhFZmY2ZUZ4TzNFdkFjOUdPQm84dStHNC9FRld4QWJ2RDBFOWtYMy9OYVUxSWRwTkxnMUtMd0lrRk82MHZMOUMzdSs2d0Z1WFRzWDVDOXRJL2Z6dWhXNHg4VFZ6SUpFUUFPQllUd2s3OTUyV2prOTR1VFFJYk5iSnBSOHFNaytCdUtzL01TK0FpYTBYWHRsVjc1dExzdFUvT0lvWHR2UXlERUZJYnBYNkloRnNldlVrc1FOL1c3UDErQWFZLzgxOE5TaHpBVkNnay83dzJxdDRmd0JvYmE3SCs5NDVrOVRQeGxkN01Ud3k4UkpLVWprUXk2enJ1dGk4NHlUWkpMOHdYaHFUVkJxVUZCSVJRRm92Tk1UMUhoVHYvNTUzZEdEeUpOcGxldWxWbi9lWDJPWjkrSTNraDNiczRhZEFLZ3NBcWtqTGl5ZkJxOFFpQUcvOVA0M2xMcTJIYXB6MmF5NmhlWDhBMlB6YVNXNm5KSkxMNmtsRWNPck1NTHA3U2tMYkFsUHNOcHoyU1lFM0QwaXE3MnkzUWlTVS8xTTZwRnpReVUzMXVQUnRNMGltK3dkSGNhQ3JQNXF1RUVqUEE3T3R4TmJCSS9UbkFlRysySDhZUkE3bkFibWZBL0R5LzZTV1dQMTR4NFhUMEVSTWYzYnVQWTF5T1hpTU4wYkZCU0NwQ1B4L0hqbzZRQm92dzB3czhMWkc1SDBla1AyM1FoaUdUcGpudFY5MUVjMzdBOER1ZzJlNWRsVEc0OVdSdnJMb2d2a3RERCs0NjNYODRLN1h1YThzUnV3UXgrUTEwV21mWitRK0FoaURSdlJZK1picFpQUDdmVnNSV0EvV1ZNWElYdWxoVk9LMWo3azFJZlAxeVpSUWRSRkFGYng3UHJXdEVVdm15ZmY4ZXpnd2xudFRkNTZ5Q01yeTJpRkhMNHdFNGJvOCtHMVEyMVFyakVjQTBRN1F1QnZnMHNUeUpXMUtvYjZyZTRCRWZ2RlBzTkoreWpUSkRXcFpnYnN4THJRU1pIb3BOQmNwRUc4RktJMEpNQThYTEpraXJ6U0dzb3ZJbTFsUjBxcS9EeUN5eHl2TWt2S2tpWEJPeHVvaEZ3SXdCZjZ5cXZxbFhyYVl0dmNIQUhyN2hqQXl3dTlEKzdWTkF4dlVZb0ZENGdJRkZpbHFiZzdndXNDODJjMjQrM3VYR2x2TjZKZytDYi8vMlJvenhnZzQzanVFVDN6dFR4Z052MitwQU40OG9OcFdlV1NvcWdoQXhjZXY3Q3owVFg3Z3ljTVlHZVZQT0hpcG8wVVVOU2VBcGtsMStOQmxzN01laGpaS1EyVTg5RlRsNVJmTDdmaW9PUUY4OE05bW82Mmx1Sm5mRS8vM0p2ck9wUHNyS3RXTW1oUEExVmQwWmowRWJiZ3VjUDhUaDdJZVJsV2hwZ1J3OGZKcE9IY0IvZUZXM3ZEaTFoNmxsOTh0NUNodUxxQ0JMVHY3Y01Ybm5odi9tN2UwdC9hOWMzRHJqY3ZJZG4vOGk3MzQyY01IR0RaNUQ3ejR0bmlUYys3WGtWdkVRazFGQUNyYVd0UytnNzkvVU8wYm4va2tWekpqWVFCV0FBeTBLazZTQjBwbDVuR1IxdzRYaWNodnZYOXlxS2tVaUlxbVJqVy9VQnFhK0JJc0IvUkgvRHE4OWpleHVvZ1BHd0VZcUs5WFk5YndNSi95Y2IwM3ViM0QvSytOSGhMVW5BQWNMbEVtL2wrblNKcVIwV0FLbEJUbFROcWxYSWRhUUZVSmdIZFRWZStxOHNzcmt2MHp1bDVZWlE2UkNIeWRWS3RJY2lFQWgvTUhMNVFuZlFNQzMrMURRQU1qWlFvZmNSeUhMQVJXWFdGTG52QlRSc0FCY2NTVGw3RjZNQzZBbnI3aElFRURKNXdlaWVOZ2FGaFJBR08vNFJ0WjJXSFVGUW1CVnhZVkUyMWNSY3IvSFE1UEF2OTFZUHluVTJ0K0ZjaS9hdU00bFhTbU5LUW1nTWFHb0xEOUQ3cDRxMExrYUJCcHg2OUFwVHMzVmF4QjVDSUZTZ1VLS1JUN0I2ejVhR2dJR21SRkFsV2lzZHFJeUI5cHIrSDlnNUc3TnFSUmRRS0k2OTBjUjEwQTlYVk9wRE1XZnloQzROV1JrVi9IKzFOUnpicklmUW9VVEZHYzhmMDE0VlJEQmZObU5lTXVnMitFM1hyamN0eDY0M0l6eHNidzVXKzlqSzI3K2dDb2sxODN2WW9EMGdRNGg4ZzBBdkNYTFpQdDhPcWN2eEgyMnA3VDJMcXJENDZqbHZZQWNaWmNlWDhZUkE2ZlBTUW1BTXBLVUJwOWgzc3J3aHRodjN6OEVKc1VuTFNLQ3AzME1HMmlpbGFBa2tBaUFqQzlWTVdEemtYNTgvZmsrNDJ3WTcwbFBQUGlzV2dCZ2Z5NkQ4N2lraXN0RDU0RXJ3b3hDZVk5RU5OcG4vYzN3aDU0c2l2NHdqdGpWc3hlSWFKZkYvRkR0WGo1ZTVIeWZ5QUhBa2hxSHNEaXc4WEw4djFHMk9CUUdROC8zVFhCY0dMS0l5Ty9DZThmMjh2bk1QOEgwbHdGOGkzbk9IQ00vVkFHZFRYSUFiQmxWeCt1WFAvN3lnSEJOODI1QVA3NWI5K0N5MVoya01iUTB6ZUVhNzd5Zk9TNHlTOXQ0UEZFbGZ5bXZiOUpBdlB5L3lTUldBU0liSW1JQ1owMFNGaE44R0RNUWVYNy9xbVlNWFVTSmpWRzN5TFRlUUJHdFVIWld5UWpQM1hsUjJmcmhla2wxcVRtbFptblFHSG9wRUVhVythbE5uWVJmbkxVMzNaMlJ4Ti9qdy9VeENDclQzRUFTdVJuOUU4QjJjR2w3OWpKeUV3QWNUZkdtWTRDNFQ5MzdEbXQ5S0J0M3V6bThYRUpWMk1JSC81d2FUdEtaVldpenhiTWVuOHF1QnZnVWtTaUFoRHREQ1hEc1BlSTJPRGN1Tk5uUjdEMzBGbG1HUXVMNTdXRXpOSzNQOHVndHBXYWNVeWhnZkZySFBlZUo1aitBRGxLZ2JRZTBoQTN1S2xNQlAxMU4yMC9TUndKc0tpemhYbmNJNi9PK3dDcUlxS1FYeVgxb1Y1VG5hMFhXYS8rZU1oMks0U0dlMURKNDZsbHZGUm8wL1plOHJqT1gwajdPdlV3dVZrZkhXaVJQNEVIWjNvT1B6czFKQzRBM1RTSUdrYTFDUk0xRlBsejgyc255ZThHbkxlZ2xmeUxraWJCMmkvRW1rdkl5SzlMUWVIMTEwbGZVMHgvZ0J6c0J2VS9FMUJaMCtkVkU5a0lsMFhzaENvTURaZXhZV3NQTGx0MWpuUk05ZlVPbGkyZU1yNkRNdzJ3dVBmOVc5NkdTOTQ2ZzFuL3BXMjl1UFhmdGtySm43VDN6OFBrMTBNMktWQ0dVVUE2SHdoVmVPNmw0MlRiS3krYW5uaHU2M2w4WHNwei9pSitLcloxVjE4czhrZkhrcHozVHd1cENFRGxvVmdTYS9xeWNwRUlubi81QkFaTHRCZGtMaDN6dkR5Q3hvSElwcGZ5ekowNUdkT244SDlFYnV2cnB5THR3bjNJeHNBdEV6Y2w5K0d2bDhhbXl1d213Y1F3S0lvQ3dWVUY5a1JXWXpnQkEvMkRvM2lhdFR1VGdRdlBuWUtwYlJNRTlIdHI1ZkVRMm9aei9SWExwM0h0OVErTTR0VTNKZ1NncXMrSTB4QTk5U1Y2L3l5MlBvU1JtZ0NNUlFHRlZFZzFsK1dKNE5GbmpnZ0dOSUg2ZWdlWEMrWUxZVktMUGlLd0pya0FzSXFUK3dQQWhtMjk0N3RNV1cyVmxwRTFRMEhldkQrUTlYTUFuU2dnS1RPOWJnN0h3V3Q3ejJBbmNXdkVGYXRuR3RrRHhCcVh5RzVqZzRQVks5cTU3Zit3K2NTNG5ZanRHSG0vcHEvS2hmY0hVaFpBVWxIQTVIeUFaKy9lUnc2S0RZM2g3UmRNeC93NXplTjJaTVRsam92WTFvc1k3N3E0SGEzTjdFVzlnZElvL3JENWhCYjVsWng5d2J3L2tIVUVBUFNqZ0tGVWlGY2VQdlNIelNkSXY4N2lPSlZmb1dTV0tYd28vZmpIdmZieU9keTZ6MjQ0amhKaklxKzhXS0NnaGlKNGZ5QURBY2lpZ0dpVFhKeFVpSEt6UlErVVhCZTQ4OEg5WWlOaitPaWF1V2lmTm9sVVZ3VzhPY0tDT2MxWXZZTC83c0pEVDNVeDdjajZDdjZ0bi9wUTEvM1Q5djVBSGlJQW9CODZKUUxSV1JrU1JZUGZienlPVjNiMFNXMDBUYXJEWDYxYmFIUVZTTlQrK25XTHVPV3Y3T2pEcm4xbkFuWXBmUWYvbHBEZjBQM0xBcGtJUUNVS1JNdkVCNUlVZ1FQZ3R2dDJvMHo0aGZhUHZYOHVsb1llU3BsYUJmSWJ1K0RjcWJoeTlTeHV0WHNmUFJob1FqRWIvRnVOL09UVWg5RnYydDRmeUVzRUFKUzhTRm9pWU5YYmUvQXM3dnV0L0tkSzYrb2MzTEorR1JvYkRGN2lrRUlhRytyd2QrdVhjYy9ucFcyOTJQaHFMMWxVcHNtZmQrOFBaQ2dBMVNpZ01oOWcydE1RQWEvZVQzK3pIMjhjT0JNdENPSDhoVzI0K2ZyejFmTWZmK2VDc0hEelo4Nkx2SWZnWVdUVXhSMi8yS3Q5bnFxYkRHWGt6NlAzQjNJUUFRSVhTbkxSNGk2TnhoR0J2KzdJcUl2di9IZ24rZ2ZrV3lTdVdqTUhuNzVxZ1ZyK1EzRFpmL21SK2JocURYL2w1NzVIRDJKL0YrMkZIZ3I1NCtUOUVmSTcvTHBwSTFNQk1GV3Y0am1rYlJsdEdDTFFFY0xCSS8zNHpvOTNrSGF2ZnVIYXhmanMxZnlKcWdvY0FEZXNXNGd2WHJlRVcyZlh2ak80OTVFRGNsdU1jOWNodjFMZXo2aWNsZmNIY2hBQm1LbFFndk9CaWczR1RWWWdwMGVjRjdiMDRJNmY3eUcxdWVIcWhmam1UUmRoeGxUNjhxZ1Qrc3lZMm9oL3V2a2lmUGJqaTdodCtrNFA0NXUzYnc5K3VSYm5IS0xINHBOZktVcG5tUHA0eVB4OUFBK09JOWpIaitEM0NJWHJPZ2p2Nnc4ZThLNjd2NDcvbTZZcFkrQ04rWUgvUFl6SmsrdncrV3NXUyt0ZnRySURLNVpQdzg5L2V4QVBQM09FbEVJQlFFdHpQZGE5dnhPZlhEc2ZVMXI1dDJ5d05JcHYzTFlkeDNwSzBuRkhqMGttdkl5RGNmUCtQQ0FYQXVqcEcwYjd0TkEyM2dpSjQ0bUFkY2k3Nlg0aGVEZEdSUWplTmdtS0NLYTBOdUNMbjFpQzY5Y3R4SXRiZXZIU3RsN3NQbmdHUjQrWDBEOHdBamhBNitRR3pKazVHVXNYdGVFZEYwN0g2aFh0MHJmTmhvYkwrTVp0MndNN1BzUFE5dnFNZzhya3oxbnE0eUVYQWdBbVJCQWdYZ29pcU5oaFJ3T0FMb1I3SHptSW84ZEt1R1g5VXRMU1ozTlRQZFpjZWc3V1hDcC8yMHlHdmpQRCtNZi8ySTd0dTluazUzbmJyTWlmaDlUSFErWnpBRDhvOHdIbDVWR1cxMlAwemYvaE91WmhKcDU2b1J0ZisrNHJPSGhFdm1mSUZIYnVQWTJ2ZlB0bFMzNU41RW9BSGxUelE1SUlHSFdpTjVQeks0MjBsVWtBbFJXWXYvbldadnpxZnc1amxQREVXQmREdzJYYy9adjkrT3EvdklJanh3WURaYUx4OG42Q2xYck53djJvSUM5NXZ4KzVTWUU4Nk13SEFFSTZ4RG5JUzRrQVJOSWlyNTlLR2Y4Y1NrTmwzUEdMUFhqbzZTTllmKzBpWEg3SlRHTTNmMlRVeGRNdkhNT2R2OTZIN3RCa1YvaGdrUmZoaUFjcDVDOUszdTlIN2dRQTZNMEhnSGdpQUtNdVJRaVZjdVpwb0t0N0FOKytZd2RtZCt6RlJ5NmZpeXZmUFF1ek81cllsU1hZMzlXUFp6WWN3MlBQSGNXSmswUE1jYkNnUkh4T2dRbnk1eTMxOFpCTEFRQm1SUUF3SnNlUmd4ekJRQ3dFcjA4UHJDcHZuaWpoSjcvZWg1LzhlaDhXekczQnlndW40N3dGclZqWTJZSlo3VTFvYWE1SGMxTTl5bVZnY0dnVXA4NE00K2p4RWc2OU9ZQ2RlMDVqMnh0OTZPb2VaUGJIZyt6N1NTa0gyWE1sVnIxaWtoL0lzUUFBY3lKZ05PTWU1RVdEaWwyeEVMeSt3L0JYUDNpa1gybVM3Tm1qUDYxV0pENm5vQmJJRCtSMEV1d0hkV1dJc20rSTYvazRkWG1FVWYrdVQvMFB6YjU0UE54ekVadzc2eHlDZGFMWHZHamtCd29nQUlDK1hZSWxBdFlLRVRVRkVOWWY3eVArOTNxcWd0cW5jT3hFMGJPdm9WdzFSU0EvVUJBQkFQb2lBT0pIQTMrUmpPS212dXhXMTU1MG5ERzhmcVZlOVpBZnlQa2NJQXpLbktCeWlENHZRTFM1ZUNLQTRQMm1yUFFuSFJsSTFnWENaaDZ2QWZJREJZb0FIcmlSZ0RndjRFVURZVVFRTU15aFZUTUtjcCtDU3J5MnZKU0htZThYblB4QUFRVUFDTjRtaTVFU2VjMVZVd2RlTlZPaTBMSkhTT1dZWlpwZTMydGJOUElEQlJVQVlFWUVzWVNnd0d3V2lha2ZyVTRFeGN3eWJtU3NidklEQlJZQU1DRUMzWlFJaUNFRWY0VTA4eC9Gdm5XSlQwMTVpa3grb09BQ0FDWXV2a28wMEJXQ2xPT3gzYmdabTdKcVNzVDNEREpzQU1VbVAxQ3dWU0FldkpzUVdTRUNLamVQc1ZURCs3VjYyV1kzUHhmSWV6MVRpQTZVTG9TYjVVUzVFOE5PMFludm9mQVJ3QStWbEtoeW1PUHhNT0VseGFUSmZRWWtQUStoMTYvQ2xDZU1xaElBUUVpSkZJWGcyU0p0UU9OODRrRFhwbHk4ZE9KNzlvRHFJajlRSlNsUUdQNlVDR0NrTTk0TlpqeEF3M2lSZUFzMDB5NEhhVVFIbWtBbDRVeGd0OXFJNzZIcUlvQWZ3bWdBU0pZTnhWSEJzNnU2Y2MwVVZQb1dub3ZvR2xRNStZRXFqUUIrU0tNQndJMElsU0p4VkFqVVpSQko1ZHNsVk94SzIxQ1dpaVQ5VlRQeFBWUzlBRHpFRlVLbG1DNkc4VFlwUmdiU2IrNWE0Z2RRTXdMd1lFSUlsU3BCSmxFRllSSktQekp0aWM5RXpRbkFnNUlRQU9taVA0K01Kb1NoL1d2cXNpeW9ob252b1dZRjRJRWtCQ0JLSnZJS1VLbzVFSzJhSmY0NGFsNEFIc0pDQUNRVFdFMUJHSVZLQnVTcmE0ay9BU3VBRVB6a0lJc0I0SlBSaERCME15QkxlaW1zQUFUUUZvTWZHVHdmOEdCSkw0Y1ZBQkU4TVhnd3NkNnZDdFlTcXlXOUdod0FhTy9vZEIrN2ZlV3F0VGR0MnBqMWdJb0lsaUE4SlAwZ3pCSmVIUjdYZTA1ME9UWUNHSUNJaENKeG1MQnZFUTlXQUFuRGtqZmZxT3JOY0JZV01sZ0JXTlEwNmdDZzUwU1hzL2FtVFJzZnUzM2xxcXdIWkdHUkpQd1RZTUJHQUlzYVIwQUFOZ3BZVkROWVMvM2pBdkJDZ29WRnRjUFBkWnNDV2RRMEFnS3drMkdMYWtWNDh1dkJSZ0NMbWtaRUFEWUtXRlFiZU40ZkVFUUFLd0tMYW9Cc2t5ZFRBSFpGeUtMYXdPTTBOd0xZVk1paTZCQ2xQaDZFazJBckFvdWlna0orZ0xnS1pFVmdVU1Nvdk53bEZZQ25JQ3NDaXlMQVQzN0tYSllVQWF3SUxJb0FWZklEQ2cvQ3JBZ3M4Z3dkOGdPS1Q0S3RDQ3p5Q0YzeUF4cGJJYXdJTFBLRU9PUUhZbjV0ay9kMUtrQkZFSEZzV1Zpb3dNKzdPQTl1WXoveGJlL29kTDBCV1JGWXBJRzRYdDhQSTFzZS9DSUFiRFN3U0FaaGZwbllzbU4wejA5WUNJQVZnMFU4c0xoa2NxOWFJcHZlUENFQU5pcFk2SUhGbXlRMmFTYTY2NU1sQkQrc0tDd0FPVGVTM0oyYzJyWm52eGc4MkdWVUM0RHRDTlBha3AvcHZuK1dLQ3hxRDFtK2YvTC9sUHZnMDFYd2M4NEFBQUFBU1VWT1JLNUNZSUk9IiwgInNpemVzIjogIjE5MngxOTIiLCAidHlwZSI6ICJpbWFnZS9wbmcifSwgeyJzcmMiOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFnQUFBQUlBQ0FZQUFBRDBlTlQ2QUFCVjNVbEVRVlI0bk8yOWViaGRSM25tKys0elNEcWFCMnVlYkZteUxYazJHSVB0WUJ1TXdVeG1TQ0NoZ2R3UW1vZGdBblEzbmRDM0lWd0Nob1RjM0hSSXVHQUk2ZENCQmhzekdZT05zYkVOSHJEQWd6eEt0aVZaMHRFOEQwZEhaOXo5eDlFKzJ0cG5ENnRXZlZYMVZhMzN4N01mWkdtdHFscFR2Vzk5WDlWYUpSQm56Snkxb0J5NkRZUVFFalA3OW00cmhXNURxblNFYmtEc05CUDUyNzk4MFV0OHRvVVFRbExqMnV2UnNJK2xPYkNESjgrQWVtSlBrU2VFa0RCY2UvMmpqOVQrSFUxQmRuaWltbEFyK0taaVgrL21KSVFRa2gzYmZwZUdvREU4TVZYa0VYeUtQQ0dFaENGUEgwMURjSUxDbndnVDBhZllFMEtJYmt6NjhLS2JnY0llZkxYd043cGhLUGlFRUJJM1dmcjNvaHFCUWgwMFJaOFFRb29MemNESkZPSkFXd2svUlo4UVFvcEZLeTBvZ2hGSStnQXJ3ay9SSjRRUTBvaG1HcEd5RVVqeXdDajhoQkJDVENtYUVVanFnQm9KUDBXZkVFS0lDWTEwSkNVamtNU0JVUGdKSVlTNElHVWpFUFVCVVBnSklZVDRJRVVqRUczRDY0ay9oWjhRUW9oTDZtbE9yQ1lndWtaejFFOElJU1FrcVVRRG9tcnN6RmtMeWhSK1FnZ2hHcWluUnpHWmdDZ2F5bkEvSVlRUXJjU2FGbWdMM1lCV1VQd0pJWVJvcGxxVEtscFYrNkU1amFoMktMVWhmd28vSVlRUXpkUnFsdVpJZ01xR2NkUlBDQ0VrVm1KSkNhaExBVkQ4Q1NHRXhFd3NLUUZWam9RaGYwSUlJU21oT1NXZ0pnSkE4U2VFRUpJYXRkRUFUWkdBNEU2RUlYOUNDQ0dwbzNGZVFOREthOFdmd2s4SUlTUmxhdlV1cEFrSVZqSEZueEE1Wms3cjlGN252b01EM3Vza0pBVzBtSUFnbFZMOENjbEdWbUV2QjhncWxqTDJIalFLaEl4Rmd3bndYaUhGbjVDVGFTYnlJWVJkbW1aR2dlYUFGSm5RSnNCclpSUi9VbVFhQ1gwS0lwK1hSdWFBeG9BVWhaQW13RnRGRkg5U0pPcUpmWkdGM3BSNnhvQ21nS1JLS0JQZ3BSS0tQMGtaaXIwZmFBcEl5b1F3QWM0cm9QaVQxS0RnNjRDR2dLU0dieFBneFFCUS9FbnMxSW8rQlY4ZnRZYUFab0RFU0xWZVJtMEFLUDRrVmlqNDhVTkRRR0xGbHdsd1ZqREZuOFJHdGVoSEtmZysyeHo4SmVMbVZCc0NtZ0dpSFI4bXdNbkhnR28vN0VPSVZtWk82eHo5bGNzWS9hbWhiUEJqdTVwU2ZYMnJyenNobW5INUFTRnhBMURiVUk3K2lUYlVpWDRFNG1tRnd1T2pHU0RhcWRWT0Z5WkFQS3pBMEQvUmlKcndmaXFpN3BLQTZRV21DWWcyWEtZQ1JBdWorQk50VklRL2lPaFQ3T1VJWUFvcVpvQkdnSVRHbFFrUVN3RXc3MCswVUMvRTd3VWw0ZTBrQ1hCdW1TSWcycENlRHlCaUFKajNKeHJ3bnRlbjRJZkQ0N212TjErQUVKKzRtZzhnRWtwZzZKK0V3bXR1bnlJZkQ0NVRCcHdyUUVJZ25RcXdMb0RpVDBMZ0xiY2ZrZWlYUFRhMkZOT0xBRHlaQVJvQjRnTkpFMkNWQW1EZW4vakdlVzVmWVZpL25QRi9SVzlUUXh4ZlU2WUhTQWdrNWdPSVRRTGs2Sis0d3Zta1BnV0NyMTVFYzZMeXVCeGRiMDRhSkQ2UTFOcmM0UU9HL29scm5PZjNBMmhRN0lMdWd5RHBCUWRWY3A0QWNZbEVLaUJYQk1EVmF3a0pBVTRPcFlxUCtIMHZKZE15Nm8ySUlPZk13WDFSZmU4eUlrQmNrbGVUYzZjQU9Qb24wamdUZmwvTHhUU0Z1UlBDKzNrVnZsOW9CSWdMS3Rwck13L1AyQUJ3NGgrUnhybndPNFJpSHdidlprQ2lLQm9CNG9pOEV3S3RKZ0Z5OUU5c0VSZCt4Nk45anZEMTRlV2FDTjVYdFVhQWtMellhckRSeEFGTy9DTlNpSy9qZDZqRnNRaTl6KzhkbENKNURZRFRDWVZDUmZNOUFzU1d2Qk1DTzl3MWlaQ3h4Q0w4bWtRLzZOY0xHNUMxVGFHTlF2VjFGRGNEbGFJdGk2Mk5CdEFJRUY5a3ZuVTUraWMyeENEOG9VVmZvOUM3SXJReGNCSVpZRVNBQkNSUEZFRHNSVUNFTkVMMEJUN1NTN1VDNVBPclB5N2o3Y05GeWdoOURweGNkK0U1QXB3ZlFGeVR5U1Z3OUUveUlEYnFsMzVqbStlUmZ0SEVYUkxma1FMeHlJQmxjWXdHRUJOTW93Q2NBMERFS2JMd1UreGxxWGMrWFpxQ3lqMGlaZ1FzNXdsd2ZnQnhTY3Zia3FOL1lrSWwzRytOMU5wcmluN1MrSWdRaUprQmdXSktKWm9BMGh5VEtBQWpBRVFFYmFOK2w4SlB3ZGREN2JWd1lRakVvZ0lDcXdhcTV3YlFDQkJibWhvQXZ2T2Z0S0lvd2grRDZQdHNvdGJYQUZSZkoya3pvTVVJTUMxQXNqSnoxb0p5c3loQXkxVUFEUCtUUm9pSXY5VE1hUWN6K1RYTjBDOW4rQlc1UGZWd2RmM0U3alhMRThXM0NaSjZtSHdqZ01zQVNTNnNsL1lKcUlTTHBWd2hSVit6bU9aQjAvRzR1SzVpOTUvRlNlR1NRV0pEdzlBQUovK1Jlb2lOK3ExMmx4L3AreVpXVVhkSmlMU0NkSnJBT2oxZ3NUdVhESkpxc2t3R1pBU0FaQ2IwcU4vVmFOOEhvVWZBTVJEaUhMbUtDbGdVd0dnQThVWmRBOERKZjZTYXlxZExVeEIrSHlGK0RTSHZGUEI1SHFYdmk5QkdnSjhiSnRVMDB2U0dFUUNHL3drZ0VQSlhFdTczS2ZyRUhUN05nRWhaRXZNRDh1ekdDWUtGSjh0a1FLWUFTRU9zUXY1S1J2MnVoSjhqL1BDNHZnWlM5MDZvYUFCVEFxUVZZOTREd1BBL0NUbnFseEo5RjBUeFlQaG9wTktYQUZRZnVtUVRwZDR0WVAwZWdUSnlIUmhmSGtTQSt1OEVxQnNCWVBpL3VGaUp2MDNlVW1ERTcyYk50NUpSZnJNMWRkNW56aWxxU3dOY05VUGlIck82MXkyaUFRQ2pBVVdqVlJxQUtRQXlpblhJUHllYWhkODdDc1UwTjBxT1JiTVJzTmpaZkJlbUJFZ04vQllBc1IvMTUwUkMrQ1h4cmsyeENyc3Q5WTdiUTFyQlJZcWdjZy9tVFExWXBRVXFCMlM0SzFNQ3BNSkp0dzVmL2xNOFFvaS9KdUgzcHNGRkZYc2JQTTAxa0t6RzlzVkN1ZWNINU5pTkx3NHFEbzFlQ3NRVVFJRUpFZkszRVgvWjVWa2VORG4yRUg1b1BKMC95U3BzNzFHcnVRR211ekFsVUhob0FBcEs3aGY3NUoyRVpEbkpMd3JoVHlGdnJ4VVA1MWJhQ09SdlI4NW54V0tDSUUxQU1lRWNnSUlSVzhoZlpoMjJReWowWVhDUjBCY3VXbUorUU82NUFad1hRREl3ZXBzdy81OCt2c1UvV2VGWExQbyttcWIwTlFBak9HcWNSTEUyOHdOeUdRSE9DeUJWMUpzSHdCUkFRY2d0L2hZaC96eklMSzl5SUlRS1F2dU5WdFg1YnBxV2R0VEZVU01raXJTNXQzMmxCUGkrZ0dKQkExQUFyTVRmZUpmOHVYNTF3aDlJMGRTSmFnNVVISU9EaXFXTVFMNjZMZVlHbUd4T0UxQVlhQUFTSi9kTS80aEcvYUo5dkdlMUNpNlNuZ2wydk1JVjJoWVZKQnBnc25tWmt3T0xBQTFBd2xqTjlEZmV4ZitvMzRud082Um9ZcDhWNytkRm1SSElWNjk3RXdEUUJLUk9DZUFFd0JUSkpmNFJDYjhZSGtTZjJPRjgwcUZnQlRaRjVaMGs2R09DWUtuRWlZRXBVRHNSa0JHQUJLSDRaeWpFMFZDVEkzeDVuSjlUd2NKVGpRWXdFcEFtTkFDSm9Wbjg3ZktlQXYyekI5RW43dkZpQmdJVmtmY1pvUWtnZWFBQlNBZ2Y0cDkzSm5KcXdrL1IxNEd6NjZEQUNKalhsK1BacEFrb05Id1RZQ0w0RW45VGdvYjdIWWkrZHNyU24waXNROG4yaXplT3FENXlzUlpXQ3JVb3NKeHo5N3h2RWpSK2c2QmhBeXNtZ0hNQzRvY0dJQUZTRTM5TndxOU45SDBJdkcwYk5CZ0VjVE5nYVFSc2RpK1hhUUtJRzVnQ2lCeGo4YzhSbDR4Ry9CVXQ3N0t1djF5dSs0c0JiVzBYdlphV2hmbE9DUmp1WU5SQXBnUGlwOFFsZ1BHU1MveU5ObzlJK0lVSUlWT3hDTHNMUWtRTFJHdTBlcjkvenYxeXJmb3pYZmRuc0NtWENFWkZ0ZDR6QWhBcHFZaS85ZWhNYU9tV3p4Ry9scEd4QmtLY0M5SHJiUmtOeUxPN3QyaEExazBaQ1lnV0dvQUlTVW44Y3hONGxyWlJQUlQ4elBnK1Z4cFdtZEFFa0ZEUUFFU0dOdkhQdjI0NUp4RUlQd1ZmRGwvbk1yUVJ5R3NDVEU4SlRRQ3BoZ1lnSWpTS3Z5bFdIYTFpNGFmZys4SDFlUll6QWg3cnBna2dlZUV5d0VoSVJmeHpJU0Q4THRBcTlpNmJwV0NGM3lqVjUxOTZNcUhOc2ozYkFneFg1STNzVXphN05pNlhDWEtKWUR3d0FoQUJoUlYvZ2R5cUN5ME1PZEt2aEgyYi9WS3V2M0c3M0Z3VGtVbXFucDRYUmdLSUtUUUF5b2xkL0hOM29NcUUzL3RNZFVYaWFrckl0cnU2VGlKR3dFT2ROQUhFQkJvQXhXZ1MvM3dUam5KZ09aSEtsZkM3SmthaE44WDNNYW96QXA2aUFhYm5seWFndU5BQUtNWDRvWEVzL3FhRUdQVkw0V1hXZVFFRXZ4Vyt6b0dMNnhraUdtQzhqeElUQU5BRWFJVUdRQ0dWaHlYekE2eEkvSDJIL0NWSC9VNW5sMVB3VytMakhFbGVZK3RvZ0lmNk5KaUFTaHRvQXZSQkE2Q00yTVhmR0l1d3FIYmhwK0RiNGZMOHFUQUNIbE1DMmN1bUNTZ1NOQUFLY1RiNjBTaisvblliVzQ2TEhERkYzd211enF1MEVmQzFveW9UNEtBTnhBODBBSXB3T2VrdkJmR1hHdldMNTRNcCtsNXhjYjZsN2dtZktUQTFKb0NUQXFPRkJrQUpoUkYvVDJIUHVtVklqdllvK2lxUXZnNlNSaURYVG82ZlA1b0FVZzBOZ0FJS0pmNDVkckh0amwwSVA5R0hOaVBnS3hwQUUwRHlRZ01RR0pmTC9WeUpmNjZPTGVDbzM3NE1DbjlNU0Y2dm9ORUF3ODJOeGhBS1RBQkFFeEFhR2dBRnVKang3MUw4alFnVThoY1p3VkgwbzBmaUdrcEZBM0x0NURBYUVOb0U4TmtLRHcxQVFJeEMvN0dLZjQ1ZGJQb0ZDaitwaHdZam9ERWxvTUVFTUFvUURocUFRQmpuL1RNU3UvamJRT0VuclpBeUFsYjdlOWhKaFFrd3FKOG1JQXcwQUFGd2xmY3Zxdmhiajh3by9JWEQ5cHBMUkFOYzd4VGNCSEErZ0hvNlFqZWdxRWlIL21NVi81Q2ovbFJGMytWeG1YeHpQZ1lxNXlydmNaWExaWlJ5N2x5NVRFWjdsODEyTU5tOFhNNStIc29vbzVTbDVJd05NS21ieU1FSWdHZGM1UDJMS1A0Mkk3RFlSL3pWczl6ci9WS3QyeVUyN2ZjZURVZzBFc0JVZ0g5b0FEemlhdEpmVmxJUy8zejd4U2RTc1lsc2JPMnR4ZFlJNUs3WDhRNnVUSUIwQTJnQy9FSUQ0QWxYTjNWV0Y1NkMrTnVPK3JVVHUzZzJJc2JqQ2hFTjBQVGNaVDBFVjk4Tm9BbndBdzJBUjBLRi9yV0lmemxQK1pWOUV4MzF4eVNLa3NSdzNDR2lBY2JQU0V3bXdDQUtRUHhBQStDQjBIbi9yQmgzUEM2TlJmVytDWTM2WXhzSiswRDdPVkdmRXZENExEWXVrL01CWW9RR3dER2h4VCs3aXpkQWVjaGZtNUJvRmplTmFEeGZlZHVqTlNXUXVVc3lLcE1tSURab0FCSW1kdkUzMzBlUGFHZ1VzUmpSZGg1dGpFQ3UraHp1NE1JRWtMaWdBWEJJeU5GL3lKbThPVGMvc1Y5TzhkZUFGckVxTy9pRlJzdTVCZEl4QVptTEREZ2ZnRkVBZDlBQU9DSVc4WGZWbitZcDF5YmtINUlRbzlRUVlxM0ZJR2lKQ3ZoTUNXaDRUbWtDMG9NR3dBRkdOMnNzNHUvWVZNUVk4dmRWdjhiUmVEMUN0RFBXZThDNUNYRDB2SVl5QVFCTmdBdG9BQndSZW5UU0NnMmR5ZWcra1kzNlhZcE9MR0tmRlcvUkNRVkd3SHlmT0UxQUNMVDNwN0ZDQXlCTURLRi9UWjFJVE9MdlNtUlNFZnVzdUR6ZWtFYWdLQ2FBcVlCMG9BRUlCY1hmdVBNTDFibTdxTGRvb3Q4SVYrY2hwbnVGSnNDZ1lpSUtEWUFnUnFQL0RGRDhxN2ZQVVlrbDBpSkMwVytPaS9NVDBnaVliVThUa0xWT1JnSGtvQUVRSXZTSGZrUXB1UGhMaWdaRlB4L1M1eTJFRVlqWkJBU0JxUUR2ZElSdVFPSFFIdm92c1BoTGluNXdYSnk0UUI5c3J6NFMyeFpVVG91dlF5bVh6ZW9xbDhzb0dUYXVESVB6a25IanJHVm1QYjR5eWloSlZreEVZQVJBZ0dSQy80ckUzL3U2ZW9HNnZJLzBxeGZFMS81U3FLOWVFeUJ6am4zZlcwYkxjNVZFQXBnS1NCOUdBSHdpYVJJU0YzOWZTQW0vYzdTdmc2clhQb2ZEN0VwdE5qVm9qZ2FrR2duSUJLTUEzbUFFd0pMTW8vOEFMdGtGcVlpL3hNRFYyWWcvNEFoYkZBL0hJWEVOZko1aVZaR0FBRWl1Q21BVXdCNGFBQXVLRnZwUFNmeXQ5b2VEampaMnNjK0tvK09VTWdJK1VHTUNtQW9vUERRQVBrZ2c5SitDK052cWpyandGMFgwRytIZytHMnZrYS9MVVhRVElGb3B5UTNuQU9RazFPZy9XMW5TRytab2cwTHh6NzJ2WERPQ2l2M01hZU93ZE1GRXpKczlBUXRtVDhEY1dSTXdiVW9ucGszcHhOVEpIZWdhMzQ3T3pqWjB0cmVodmIyRW9lRXlCZ2VITVRoVVJ2L0FNSTRjSFVSUDd4QjZqZzdpd09FQjdOM2ZoNzBIKzdGbmZ6KzI3KzdGdGwzSGNPVG9ZTDdHVlo4WGdXU3k3UndCMFp5MlFCMTU1Z1JrYndoRTV3TmtxekxqcW9Bc1pSMlBBdXc3T0NCU1hwR2dBWEJObGx5V2NPaGZHdE5xVXhGL3NhWUZ1SEFUdTlweHpvcHBPTytNYVRqajFNazRmZkZrVEo5cUZpcnRhQytobzcxOTlMOW5UaHZYY3A5RFJ3YlF2YU1YRzdwN3NLRzdCK3MzOTJEOTVpUG83UnZLWHJHZ0diQXhBckdiZ0ZCejZVU1hCbkpDb0ZOb0FISWdQZkV2QzdHRS9qV0pmOUdFZi9uU3liajBnbGw0K2ZrenNXTHBaTFMxK2U4NXAwN3V4S3JsblZpMWZPcm8zNVhMd0l0YmUvRE0ra040NW9YRFdMUHVBTGJ2UHBhdFFLR3Arbm1OZ0krVkFpcE1nSEFVd1BlcUFFWUI4a0VERUJqTm9YK0t2K2ZLYzNEYW9rbTQ1cks1dU9xUzJaZzlZN3kzZWswb2xVYmFlZHFpU1hqREZmTUJBRHYzSHNOanp4N0FvMDhmd09vbjkrRndUNHZVZ2FBUjBCZ05TTkVFWkt0U0xoVkF6S0VCTUVUcjZKL2liMWQrVE1JL1lYdzdYblBwSEx6eHl2bFl2bVN5bHpxbG1UdHJBbDUzK1R5ODd2SjVHQjR1NDVuMWgvRFE0L3Z3d0tON3NHVkhiK01kQll5QVRUU0FKaUQ3Wm93QzZJY0d3QURwNVNaWlJ2OHhUQkRYSXY1QlJ2MGVMOUFwTThiajdhOVppR3RmT1E5VEpxWHo2TGExbFhET2ltazRaOFUwL01jL09BMGJ0dlRnbnRXN2NkL3EzZGk2cTRFWkVKZ25rR2NrNnpvbG9HWmlvQkJaamtjNkNrQVRrSjEwZWhGUFNJMytVd245eHl6KzFzMXhMUDZWNGsrWk1SN3ZldU5pdk9HS2VlanNTSC9sN3JMRms3QnM4U1Q4NmR0UHhiTWJEdVBPKzNmaW50VzdHcWNKTElhYUdxTUJya3hBOUttQWpGRUE1WjVJRlRRQUdRbnhzb2tRYTJvcC9vNHF6RkhzcEs0T3ZPZTZKWGpyMVFzS0lmejFXTGxzQ2xZdW00SVB2V3NaSG54c0wzNzJxeDE0NU9uOVl5K0I1ZEE4YnpTZzZDWWdVMUVCUkpsUmdHelFBQmpnYy9Rdk91dmZVZDQvSzhtSXY0dFgyZFlwc2xRQzNuamxmUHpKMjA3RjlDbDh5eGtBZEhhMDRZcUxaK09LaTJkajY2NWUvUFRlN2JqajF6dHg4RWhOSjI5aEJHSTJBVWJsUXM0RVNLNEtZQlRBUHpRQUdkRDZxc21RMHdPeWp2NDFpYjkyNFFlQVpZc200ZVB2T3dObkxac2lYbWNxTEp6VGhRKzhZeG4rNUcybjRwZS8yWTN2MzltTjlWdDZUdDRvcHhISWt4TFFZQUpDemdlUVRBVkl3aWhBYTJnQU1xSng5SitKZ0tGL2luLzJvanJhUzNqUGRVdnhSMjlZakk1MmpkMnBQam83MnZEYXkrZml0WmZQeGVQUEhzRDNmN0VWRHoyKzkrVHpuRk9kVFVVdE5oT2dOUlhBS0lCZmFBQmFrSG4wNzNrNEhpcjBuK2U5NU5KNEVYOVB3ZzhBaStaMjRiOS84Q3ljZVJwSC9YbTVZT1YwWExCeU9qWnZQNHFiZnRhTnV4N2FpY0doNHlmZUlocWd4UVJrYjBNWUUrQTlDcEN4UWtZQm1sUE1tVVdHU0dtQjFPZy9RSURBdkZ3SEJaZkxadVdXRVZiOHM3VDN0WmZQeFkyZnVZamlMOFNTK1JQeFgvLzBESHpyaXkvRDI2OVppQW5qVDd6S09NOTFOYjJIVE85UmszSmQ0THN2eWRhL3lUMS9wRGswQUUyUUhQMUxMdnZMaEpOT0tGem8zOXVvWDZEeFdZcnBhQy9oUC8zeEN2emwrODlFMTRUMjVoc1RZMmJQSEk4UC9kSHArUGJmdlF6dnZIYlJDU09ROHhxYjdoSHlHWEFTcGZQZWZjbU5oTFRPNGRJQURVQUxmTHBJemFQL1FvaS9KVm0xWmNiVWNmajd2endQYjdwcXZuV2RwRG5UcDNUaUErOVlWdDhJR0pLcUNkQVlCWkNDVVlEbWNBNkFCelJPL0tQNFcxUmlzZnZTQlJQeHQvL2xYTXlacGVPOS9mMER3MWkvdVFmUGJUcU1yVHQ3c1hYbk1ldzcySS85aHdadzVPZ2dCZ2FITVRBNGpBbmoyekZ4d3ZGZlZ3ZG1UUi81dFBEUytST3hkTUZFbkxwdzRzbmhkbVZVak1BN1hyY1kzNzV0TTM1eXozWU1EQTVIT1M4ZzJLUkFqUk1DaVJVMEFBMEk4YzUva2FvSzdIaU5EOTJqOEFQQXVXZE13K2MrZW5idzEvaXUzWGdZRDYvWmg5OCt0Ui9yTmg0K01WbXVDYjNIaHRCN2JBaDdxLzd1d2NkTy9GZEgrOGpyZkM4NWJ3WmVkdTVNTEZzOHlVSEw3WmsrdFJQWHYrdDAvUDVyRitLYlA5cUVYenk0QzhQRFppcnRmY0tiSnJSTkNNeTRJb0NUQWV0REErQ1kyQ2YreFRMNjl5bitlWGE5N0tKWitLc1ByUXoyUnI5ZCsvcHcyNzNiY2RkRHU3Si9pdGVBd2FFeUhsOTdBSSt2UFlBYmI5NkkrYk1uNE0xWHpjZTF2emNQMHhTK3pHanVyQW40aXo4OUUzOTQ3V0w4eS9jMzRvRkg5em96QVVsRkFUS1NwU3hHQWNKREExQUhqYVAvVEJRMDlLOWQvSys0ZURZKytjR3owQjVnZmYvem00N2czMi9kakFjZTJ6c3kwdlhFOXQzSGNPUE5HL0d2UDlpRXExNDJHKys4ZHBIS3FNQ1NCUlB4MTM5K05wNTg3aUMrZXRNR3JOMTRKUE8raFRVQjJrSWdqQUxraGdiQUlScEgvOUlVUmZ6ekh1ZXJYajRILy9jSHprUmJtOThlYzh1T1h0eDQ4d2JjLzhqZTFodTN3RWE0QmdhSGNlZURPL0dMaDNiaURhK2NqL2U5ZlNsbVRCMW4zU1pwemoxakd2NzVreGZpM3RXNzhTL2ZmeEU3OW1TTGtzUmlBa0xBS0lCK2FBQnE0T2ovK0xhQnBzODZFMy9QbzM0QWVPVkxUL0V1L3NmNmgvRnZQM3dSdC94OGE2YmNmaGFhSFgvMkQ5WUF0OTIzSGI5OGVCZmUvYVlsZU9lMWk3eWJvbGFVU3NCVmw4ekd1SEZ0K0tzdlBaMzU0RUtiZ0d6MU1nckFLTUJZYUFBQ0lqYjZGOWJxVUtIL2xNVC9wZWZNd0NjL3VOS3J5RDMxL0NIOHpkZlhvWHRucjdjNmE4OVBLNDA1ZW13SVgvdmVSankwWmg4KytjR3pNR2VtanRVUWRURlE2NUFtSU5qM0FvUW1CR3FPWXFRTzN3T1FoMHpDclN0RUlOMmExTVhmNXAxQXE1WlB4V2MvY2pZNk92ejBhdVV5OEw5L3VnVWYrZndhcitMZnFDM1Z2MFk4K2R4QnZQOVRqK0QrUisxVEZFNXh0SjQrNVBPVHFUelo0cXlSZkRFUU9RRU5RQldady84QytCejlTNGYraXlEK3VmWURNSDlPRjI3NDZOa1lQODdQbzNXc2J3aWYrcWVuOGJXYk4zcWQ1SmVWWm1iZ2NNOGdQdldscC9HdlAzalJlN3VNU01nRWlMOGdTS2ovOGRudjhzMkFKMkFLd0pRSVIvOVowZkNobjJab0ZmL0tMbE1tZGVCdi92TTUzcGE5N1QvWWowLzh3OU5ZdC9Hd2wvcHNxVDYzMVNIZmY3OTFNdzcxRE9LajcxNnVOeFRzS0IwUWdwQ2ZEclpCNmt1QjVBU01BQnlIby85c2hCcjl1eGIvdkNIL3lpN3Q3U1g4OVordnd1SjVYZWFGNUdEM3ZqNTgrSVkxMFloL0xiWG4rOGQzYjhNTk42NFZtN2pvQkFlUmdDUlNBWXdDUkFzTmdEQWMvWnZVbVhFN0Y0WGE3VExtSzNGLzlzNWx1T0NzNmVZRjVXRFh2ajU4OVBOcnNEVnd2bCtDNmhUQjNiL1poUnUrdWxiMys5c2pNQUhaNnRSOGtoc1RhLytxRlJvQUUzdzVWS0dOTkkvK1l4Zi9hbDc5OGpsNCt6VUx6UXZLd2FFakEvajRGNS9FTmdkdjh3dE51UXpjczNvM3ZuclRodEJOYVk1eUV4QnpGRUFFZW9UTTBBQkFMdnp2L2FNL1FvU1krQ2RPSVBFL2JkRWsvTmYzbldGZVVBNzYrb2Z4aWYvdmFXemVmdFJMZmFHNDZmWnUvUEN1YmFHYjBSemxENFQwaEVCZlpFdVAycmViYVlBUmFBQ3lrdWpvUDRuUXZ3ZnhydzM1QThDNHpqYjgxWit0OURiai8rLys5VGs4cy82UWw3cEM4MC9mZWdHL1diTXZkRE9hay9WOUdiTEZpWkw1blI5Q0d6RUtvSXZDR3dCdGsvODBvanIwNzBuODYvR2hQMXFHVXhkT05LNC9EemZkM28yN0h0cmxwUzROREplQkwzeDlIZlllNkEvZGxPWW9OZ0hzYjFyWFUvUW9RT0VOZ0JUZUpxZDRIdjJyRm4rSGJSamR2c0hmWDNyQkxGejNxZ1hXN2NuQzB5OGN3dGUrdDlGTFhabzRlSGdBWC9qNnVtaUZyQmF0SnNCM0ZFQUNUZ2FVZ1FZZ0N4THpBelNGeDFMQnNLYzBmZUZRbzgyblRPckF4OSszd3FqdXZQVDBEdUt6WDFtTEljM0w0eHp5dTZmMjQzcy83L1picWVtcFRzV2hlTUxia2tCZWxwWVUyZ0Q0blB3bkFrZi81Z1htMkx6VnBoOTU5M0p2WDdUN3AyK3Z6L3hsdWxUNSt2YzJZdE0ydnhNZmplLzl5Rk1CUlkwQ0ZEME5VR2dEb0ltVXpXcEs0bi9wQmJOdzlTdm1HTldmbDk4K3VSOTMvSHFubDdvME16Qll4cGUrdGQ1N3ZTbVpBRzBrZkdoUlFRUFFDay9oZndtMGp2NnpFSVA0ZDAxb3g4ZmV1OXlvL3J6MDlRL2ovLzIzNTYzTEtaZkwxajhOUFBMMGZ0ei9pUDhQQjRVMkFWSjRqd0lJd0RTQWV3cHJBRFNGL3pXRjFhUUpxUitTNGc4QWYzemRVc3oyOVBuYWI5KzJHVHNOUS8rdXhGdUxLZmp5ZDlhamYyRFllNzJ4M01PcThEVG5pV2tBT3dwckFETEIwYjhYWEl6K3BjWC8xSVVUdmIzdGI4ZWVZL2p1ejFwUGZBc3B5aUhxM3I3N0dHNjYzZk9Fd09NWUhhS3lrZlJvZll3Q2tCcG9BR0lnMGh0WWRPVkRRUEVIUmliK2RiVDcrY3pZTjI1NXNlNUlWOE1vdkJHKzJ2YTlPN3JSZTJ6SVdmbk5DR1VDbEYzcTdNVGE3Z0pSU0FNUVhmaGZDSitqZjlGT3kxRVBtTFhVeXk2YWhRdFhUbmZTaGxyV2IrbkIzYjg1K1lVL0dnVy9GYTdhZktobkVMZmVzMTI4WENjSUhyL1A1OUxudmNZMFFGZ0thUUF5b1NYOG4vRDdBMXkwVzNyRlFYdDdDUi80ZzlOeXQ4ZVVmLzNCaXhndVErMUkzeFFYeDNIVDdkMUI1Z0lBYnJ4b3JGZlkxOXdscGdIY1FRTlFFTFNOL2tPRy9rME84dzJ2bkk4bDgvMjg3bmREZHc4ZWVIUlA5S0xmQ0NranNPOWdQMzcycXgwQ0xjcEg3S2tBYlZFQUVvN0NHWURVd3Y5SlA2YUJ4WDljWnh2KytDMUxEUGF3NDF1M2JvNDMzMnVBaEJHNCtZNnQ4Y3pPVC9paWF1bkRtQWJJUitFTWdDOWlDMXVwSFAwSHBGd0czdkxxQlpnNXpjOGIvM2J1N2NNOXEzYzdLYnRzOFhPSmpSSFl0cXNYYTlZZGtHMVFZTFJGQWNUUWtnWWdZNkFCcUllSG04Mm5QNGd5bkJkdzlGOHVBeFBHdGVFUFg3ODRjeHRzK2VGZFd6RThMQk5Wa2hSeEg2WWc3LzM1MDN2RHBRR0E5S01BUHBjRWVqazc4VjBDNTlBQTVDQzFMMUdwRy8wSER2MER3SFd2WG9BWlUvMkVBL3Y2aDNIYnZmbG10dnNjc2J1c00wODA0TDdmN2NIaG5rR2hGdFMwSit0MndpWWcyU2lBQjFMcmwzMVFLQU1nbGY5dmhhYndmNVNqLzR5NEVQOXlHZWpzYU1NN1hyY29WNXZ5Y08vcTNVWkM1bHZ3V3lIWkhwUDd0WDlnR0hjOXRLdjFobm5ia25VN0xSZkNBV0w5UnlScGdLTE5BeWlVQWNoRVl1Ri9YNFFZL1V0VHFmcWF5K1pnMW5RL3VYOEF1TzIrMXFOL2JhTGZDSWwybWtRRDdud2dzbzhsS1lzQ1NCRk5uNmJzdklXR0JzQ1ExTUpNMmpxU3JMakkrd05BcVFTODgxcC9vLzh0TzNyeHhMcUREZjg5QnRGdmhJUVJhTVhhallleDUwQy9SUzB0MnBCMXUwZ3ZVcXp0YmtScS9iTnJDbU1BZklWMWloais5ejM2ZHlYK3dNam5mbjJ0K3dlQXV4NnFQNEtOV2ZocnNUbVdWdmR3dVF3OCtLamJyd1NLbTRESW9nQkZTd01BeFVrREZNWUFBRHJjcmlKL29PSjh1Q0p2WCt6cmd6OFZhblBZS1FsL0xYbVByVlZLNEg3SEJnQkk5NW9BZ3BNS2xaUmhTOHI5WWkyRk1nQXRTZWpDRjMzMG40ZkY4N3R3MGFycDdpcW9ZZDJMaDlHOW8zZjB2eE82L1pvaUhRMTQ3Tm45Nk9rTjg0R2dXaGdGaUlDRURzVVdHZ0FEdk9TWGluaHpDbmN1ZWZ2Z3Q3NTZnV2c3V3ZHcjMrMFphUWM4WFBiYXRYdFpmaDZhWTd4Zm5YdGxZTENNMVUvdXMyNVR5N3JGQ3l6Z3crNmxDeTNnZWMxSklReEFWUG4vVm5WSWxlTXBIeWQ1U2lUcnF5MXJ3dmgydlBieWVjWnRzdUgrUi9hNDZhcWt4TnlES1pBeUFZOC8yM2dpcFNTK1IrVys2dE9VQm1oWkIrY0JpRkVJQXdEb01OdSttcEJVdU00QjlVN1BsUmVmZ2tsZDdkN2EwTDJqRnh1M0hwVXB6T1BJM1VWZGVZcXF2Y2RUZXkyd1JyeWxGYjNVMHB5aWRLR0ZNUUF0YVhIQkdmNDN4M2Z1MytiMFhmdDdma2YvRDYwUm1MaW1ZY2Fnc0JFdzJyN3Fwbmh4NjFFY09Ed2cwNUJXOVdiWnh2TmNnS2pRa0FaSTdxVG1nd1pBQ0liLzQ2QmV1eGZNNmNKNVowN3oybzZIbjlpZmIwZGZJMzFUaE5wbFl3S2F2VThoZFRROTB5bWxBVktIQnNBVFJRdi9heHo5TnlybmRaZlBSYW1VcVNraTlQVVA0L0cxQjh4MjBpajZqYkJzYTE0VHNHYXRQd05RMUNoQWtkSUFSU0I1QStEci9mOUZJclh6ZWZVclpudXQ3OG5uRHFKL1lEamJ4akVKZnkwV2JUZmR0Vnd1NDhubml4c0JBTko3TGtOVGhPOENKRzhBTXFIaHdmSFVCaldkaEpMUi81bW5UY0dDT1YyWjJpTEZZMWxILzFxdWxTMmVvZ0VidTQ5aWFFam1wTG0rNy9KdjZCWnZ6ZEJ3dUJyYUVCZ2FnQXhvV0ZjYXZnWFo4ZGxXMjdwZWRZbmYwVDhBUFBic2dlWWJPQmoxbDh2bVA5a0d3Q29ha0lYK2dTRnMzaTYwc2lJak1kM3JQdEhRVmczOXRuWm9BQVJRWXQ2OTVPZGt2blVnTi9xM0thZFVBcTd5YkFDTzlROWo3WWJEalRjUVBHWmJNWGRpQ0J5YmdCYzI5K1Nyb0Y2ZGp1OC9GeFg2K1dTdWpnNVBTVE9paGdiQUF5M3YwNktGL3ozUzdKalBPbTBLNXN3Yzc2OHhBTlp0UEl6QlJtRnEyeG4wcmtidjB1VTd2QTlmMkh4RXREdytNeTRyc3ZwbklrRFNCaUNWQ1lBeEhZTFlRRkVvQjl1TXl5NmFaVm1DT1UrL2NHanNYOXFFeHgyTHZyTjZjeHh6bHMyZjN5UnJBTElnT2hkQW9DNHR4TlRXUnFRK0VUQnBBNUNKbGk0MGhkdFlCcC9oZndsYVZYWDVSYWY0YVVnVll3eUFwZkJyd05vSUNHNitZWXU4QWZCNm5pTkpBOFFDWHdqVUhCb0FTN1E4YkZyeWNyNndQZG9GYzdwdzZzS0pJbTB4NGRrTlZRWWd4MEZvRXY1YWNyZE4wQVRzUHpTQW84ZjhmeGxRNlNWeGhwYitSa2t6b29VR3dERmE3aysrcWZCa0xyMXdwbjBsaHV3L05JQTkrL3RIL2lPbitNZEFhQk93YlZkdmszL05COSswRndZbHpVZ1dHb0RRRk9rT0YrcFZKRXA1MmJrekJFb3g0L2xOeDJmL200cWQ0bEYvSTNLMVdlZ1l0KzA2SmxPUUlXS1hLTGFMYlVPQkRsVWpOQURLMGZKOCtPcVRmTlF6cnJNTjU1ODUzWDFGTlR6MzRwRmM0aTlGMmVBblZxZERFOUJvVXhjUkFDbFNlbzZ5b0tRWnBBSEpHb0JNS3dBU3VUczE1T1BDdCtBRXJVN0hlV2RPdy9oeC9tLzlEVnZNMXFqYlhsWWJVWmMwQkw1TmdLc0lnSUxIYkJRTlRkSFE3NGpRYXA1Z3dpc0JralVBRXFTeUFrREZjNm9vL0gveE9mN0Qvd0N3c1R1YkFiQjZlUTlrUkZ1NlhKOXBqSzBCSXdBcHBRRVVORUdFVlBweEYzU0Via0RNdEhwQVVybnRZZ3BiWmluandwWFQ3U3N5WkhpNGpNM2JXd3VUamZEN29sSlhuZzhvbHN2STl1WEZjdllLYWpmOTNWUDdjY1Y3N3h1elhVbmdrNCtaMisrNERFMzF1S2JWclpES2NZYUFFWUNRSk9JUVlqcU1TVjBkV0w1MHN2ZDZ1M2YyWW1DdytSY0E4NGkvaTlHKzY3cXp2eHJYckMydDY0M3BUbTFOTWtlVHpJSEVCdzJBWXBKNUxoU0YvODg5WXlyYUFvd1d0dXhvUHZyUEsvNGEwR0lDdEpCU0drQ0NOSTRpVFdnQUlxZlZxQ2FSUGlRVFdZNzFnck9tTzI5SFBicGJHQUFUUW83Nkc2R2hUYjZpQUh5bXF2KzlRQ2NqUVdnQWlBcDg5U1BubnpuTlQwVTFORE1BSnNldXZiczFhVi9LVVlCV1VEZUpCcEkwQUVWYUF1Z2FMUjJWUkRNNk8wcEI4di9BeUJ5QWV2Z1cvM0s1M1BKblhZZFJlMlFMVlhLNzZtbUhsb1pvcDZCTEFia0tvQUd0bG83d3dScEJ5Mm5JY2oxV0xKMkN6bzR3MDRXMzd4NXJBSHlJZng1QnI5MG56K3g1ZzBuODNtZHhsOHRsNnhVQldtYWVtNXpubEdsMVBjb29vOFF6TllZa0l3QWFhTm50YWxGTzF5aHlTcXVXVHdsUzczQVoyTFczTC9mKytTYlp5WXptYmNvU3YvS1JSUUZFVVBUOE9LVWdTNnExUVFPZ2xDTGQ4TDc2dUZXblQvVlRVUTE3RC9SaGNPamtnOHg2ekthblJsTDRKY3JPSE9IM2ZNTnJtTHltb0FuZUtOQ2hSZ1VOUU1RVVpRV0ExR0djdFN4TUJHRG5ucE5IL3k3RjN3ZEJUVUJFOTNSRVRXMEtWd0trQ3cwQWFVZ3N6M1dXZGs3cWFzZjhVeWE0YjB3ZGR1ODNELytiVGFSek4rcVhxdFAzcmVTanZwU2VEMUpNYUFCSWJtTHFWNVl2bVJ4czB0YmUvZjJqZjVidWpFT1B2cVRycDFpWncxTkc4a0lEUU55aHFEZGZFV2o1SHdEc01Zd0FaQStaNnppL1dkc2g5NFk4b1dLVW5MK1d4TkpPRWgwMEFDUW92ajZvRkdyOVB3RHNPVEFTQWNqU2o4Y20vaFVrVFlEVW9XazRReTFmUjZLaGthU3c4RDBBUkJXZnZuNFZycmo0bE5ETkVPV1RIendMbi96Z1dhR2JFUVYzUHJBVG4vM0sydFliS2xrQXIrVjlBSVRrSWJrSVFLYTNBQktWbkRKalBDNi9hRmJvWnBDQTNIUjdkK2dtRUZLWEZOOEdtSndCeUVUTHNMUGQ4anI2ajN5OCthcjVhRy9uY0txb3JGbDdFTSs5ZUFTQXY5QzR0bFFLYVl4dE9xVlZ2MTdFanJ1WUJpQTBBdmRoYWgxWFIwY0piN2h5WHVobWtJQzRHUDJuOVpUb0pVdC94TGVqNm9NR0lGRnMvWUZ2ZjNIbHhiTXhZK280djVVU05XemJkUXdQUExySGJDY0tSbVppNncrSUgyZ0FTQzVhdTNtekh1TXRWeS9JM1JZU1A3Zjh2QnZETmJjTVJhZUtWbS85OU5RTWtoWTBBQ1FZbFQ1dHhkTEp3ZDdUVDhMVDB6dUVuOTYzSTNRem5NR2xnRVFyTkFBa09HOTl6Y0xRVFNBQnVlM2U3VGg2YkNoWS9iYnphU2pnSkZab0FFaFFwazd1eEtzdW1SMjZHU1FRdzhObDNITG5WcWQxVUo4SnFROE5BQW5LRzY2WWgzR2R2QTJMeXE4ZjJZTWR1NDgxL1BlV28ydXFPeUc1WWM5TGdsRXFBVys2YW43b1pwQ0FmUGQydDZOL1FraGphQUJJTUM2OWNCYm1CZnBFTHduUHN4c080OG5uRG9adUJpR0ZoUWFBQk9NdHIrYlN2eUp6OHgxODdTOGhJYUVCSUVGWVBLOExGNjJhRWJvWkpCQzc5L2Zobm9kM2gyNEdJWVdHQm9BRTRTMVhMK1JYMUFyTTkrL2Noc0VoenVBakpDUTBBTVE3WGVQYmNjMmxjME0zZ3dUaVdQOHdicjFuVytobUVGSjRPa0kzZ0JTUDNyNGh2T2xERDFoL1ZUSExDMWd1WERrZC8vQ0o4ekszVFpyUDM3Z1d0Lzk2WjhOL2IzMk00VjlTWXh1cEtUSFVRNGhLR0FFZ1NUTjVZbGlQZS9ob3VEZmNFVUpJTTJnQVNOS0VOZ0JIZXdlRDFtOC9lcGRwQnlGRUh6UUFKR21tVEFwdEFCZ0JJSVRvaEFhQUpFM3dDSURsUjI0azh1ZDVpNUFZL1RQL1Q0aGVhQUJJMG9TT0FQVDJOVGNBdnVUUlZJZDk2VGJ0QVNIaG9BRWdTUk02QXRBL29DY0ZrRlhVTlEzYVc3WkZVVnNKaVEwdUF5UkpNM0ZDZTlENmovVU5CNjIvbG9xZzFsc2VxRW40SlVuMHNBaXhoZ2FBUkV1cDFIcWRlOGhQRFpmTFFQK0F2UUVvbFVyVzd3TVlXNlpvY1EzcWlFTjZiZHNaeVdFU01nYW1BRWd3V25XY0V2MXFaMmU0M3Jrdm8vZ1hWVCtLY3R3dHN4aEZPUkZFSFRRQUpCY3QreXdsdlZwSGU3aGJ2TDkveEFBVWNUWjl5TlVMU2RMaVpQQlVrVHpRQUNRS1h3QXpRbnRidUFPUkNQK1RKaVJ5ai9xQS9RR3BCdzFBQ0FSQzM3R05DRVBSM2g3dVBBME1aamNBS1YzekxPMzB0dnpSVXoxRlIrU2E4Mko1cDVnR29LVUF0d2kzZWNoZEV4bENhdVpBVlFSQXFoM2FUWUJVKzd5OWgwRDUrU1Fuc0oxTDBhcGZMMkxIblp3QjJIZHdnT0VxTWtySWU4SDBlL2RGdVcyTGNwd2tMVXFsRVgxSmllUU1BQ2tXMXE3ZkljUENTL2NxYUIyMWVtMlhrbE9nOUZJUWtna2FBQklVMStrVVZ5S2NoVnBCekNJV1dZOVhtd25JMnA1c2N4M3MybUpTbDJ1NEJKQm9oZ2FBdUVOQjcyWWFocGNrN3dxRTJFeUFwUGo3TEVqTCtXdEpMTzBrMFVFRFFISVRRN2MwRUhBcFhtZkgyRE1rM1plSEZqSHArcWwxNXZDVWtielFBSkNHeE5JWk4ydG55TFg0SFIzNUh5K1RVMThxbGJ3YkFkTTZmZDlLUHVwTDRma2d4WVlHSUdKYWRjQ3BQUGcyaHhIU0FOU0xBQUFHWCtVenJNK1hDVEN0SjN0S1E3QXdCVVRVMUthMG5LZVRTa2RUUUdnQWxGS2tSOHBsLzVIMWZmd3U2R3dTQVhCcEFseDF5SG5LRmhWL1FUU0lsb0ltZUtOQWh4b1ZOQUNPNEZ1dmpoTzRsK3ZyRDJnQWhMNUVtT2NNU2hxQnZHV0pYM2xIcGtrMVJYRUpmRWRQRVBnNTRBYVVVRUlaaldlUVova1ViUkVvQVUzT2tqOGFYWTlqZlVQK0czT2NjUTFTQUJWTTdxRzg1N2xXdUxOOFZsamtRejRtMjBZNCt0ZWl5MHFhRVJ6Tjd3UFJUSklSZ0V4dkErVDlrSW5ZTzdxUUVZQzJ0aExhV2l3Rk5EbS9FcGVpTXBwdjlyT3V3Nmc5c29VcXVWMzF0RU5MUTdUVGNwNURlbThCQkJJMUFDUStYSFZVdlFFakFFRGppWURWK0RZQkxna3AvakZCWVNZYW9BR0luS0tzQk1oQ3ZXTU5tUUlBN0pZQ05xSUVmWnFvb1UzWjNqS1lUdmpmQjF3QmtEWTBBSXBKNXRHU21veVdZNS9lWStGU0FFRDJ6eEhuT1VWYTdvOThreFFkRmg0WXVUY2VSbmp3ZFVqaktOS0VCaUFraVR3Wm1nL2o2TEhCb1BXM3R5RjcvanFuQ1FoMS92UFc3VUw4ZlkzK05aSE0wU1J6SVBGQkEyQ0I2dy9aYU1IZnQ5bmx5emg2TEd3S1lIUVNvRU1UVUNuZTEvMW1VMWNvOFpmQ3hUM3FpbFQ4VHN2NTNJa2Nad2hvQUpxUXl0SVJGUTlJb0RSQXo5SEFCaURQK3ZtU3ZSR1F2dVMyNWRvY2t3VGUzcElvVmxENGgxWkJFMFJJcFI5M1FiTHZBZGgzY0FBenAzVTJYMmV0WlJHN0phVlNLZFA2YnFkdGdNeXAvUFQxcTNERnhhY0lsS1NENy8vankwTTN3Um5EdzJXODR6ODlqSjE3KzVwdVp5d2tDWS8rcGREUWxHUlNLZ1ZkQWdnd0FxQWVMWStZajJmOWxCbmpjZmxMWnJtdmlJaHczMi8zUkNIK21vU3FhT0YvSmMwZ0RhQUJDRTJSbnBBV3ZkS2JycHFQOWhZdnppRjZ1UG1PN29iL2xpdms3K0RTK3hUL2xNTC8zaWpRb1dxRUJzQXhXdTV2SDMyS1RSVWRIU1c4NFlwNVltMGhibmxtL1NFODlmeWh1ditXNjE0ejNNZjNjNlZwOHArUFk5ZmlRWlEwSTFsb0FDeFI4NkJvYVVoT3JyaDRObVpNSFJlNkdTUWpOOSt4ZGN6ZjVaN281MGo4b3h6OVI0S1cva1pKTTZLRkJxRGxVajdlWVJWRUhyWUdoYnpsMVFzRUNpYysyTDJ2RC9ldTNqMzYzMVl6L0NNUWY2OGl3emNWaXRLeS95NzR1VXJhQUdUNktGQUV4SFFJZWRxNll1bGtyRHA5cW5oYmlCdHV1WE1yaG9mTDlzS3ZQT3lmbFd3dklmSlhseFppYW1zalVsNEJBQ1J1QUxUUThrRW8yTXpnV3Q1NjljTFFUU0FaT2RZM2hOdnUzVzVYaU9QN01OclJ2eEs4SFRNSDU4R2hBUkJBU3lmaEl5OG5uUWFZT3JrVFYxMHlXNkJRNG9QYmY3MFRoM3NzWHE5czhZS2pUTnNwRlAvc2J6K01JL3pQL0g4NjBBQmtRTU04Z1BBdHlJNUpXMS8veW5rWTE4bmJNQWJLWmVDV256ZGUrdGNVaTljSWFwejBOMXBub25YWm9xR3RHdnB0N2JEbkJiVGNyWDZxMFhDc0FGQXFvVlFhV2Z0UDR1Q2h4L2RpeTQ1ZTh4MHQ3cmxRdDJ1VzUwUTA5Ni9rd2RRUy92ZUNoallFSm5rRGtNcEVRRTFJbmM5TEw1aUZlYWRNa0NtTU9LZlppMy9xWWpucU45bFZTMWc2SkR3RnNxUStBUkFvZ0FIUWdqZGpyYVFYeU5LS3QzRHlYelNzMzlLRFI1ODVrRzFqQytHdjdHNjB2ZkE5cjNIMHIrT3A5dGUvYURuZTFLRUJFRUw3bS9aT0trZkJXODBXeit2Q2hTdW4yemVFZU9GN3JVYi9KVmdMZjZVWW8rMERpTDlHTkR6VG8rWElGTk84amtpdmt6Wm9BQ3BvZUNGUVlqZDFzOE41eTZzWDhDR09oUDJIQnZDTEIzZlYvMGNCMGE4dXltajdRRGRRVVVmL1luanBTcm5HTUF1Rk1RQWF4S1pvYVlCR2RJMXZ4eldYemczZERKS1JIOTI5RFFPRHd5UC9VWUxZYUw5Q25xSmMzT1BLSDV2Z0ZDbjhYNVI3b1NOMEEzeXc3K0FBWms3cmRGNVBxVFN5Vk1wcEhRQWtxcEJvYTVZeTZyVzN0MjhJYjdyK3dSTi9ZZENRTEp2VzIrUVQ3ejhUcjcwOGpPbTQ0Y2ExdVBPQm5RMy8zZkV0azcrU1VvTS9DNUtuMkpEaTcvT3RmejdyWS9oL0xLbFBBQVFLRkFHUWdHa0FSMGpuY2V2ODNYT2Jqb2pXWWNLY1dlT2IvcnZnWUxwMUpTWS9EODB4M2srNStEdXBPQ1UwaFAvSktEUUExU1IwMzNnTDF3bk5tTTdhR2VZOXJCZENHb0NaelExQWhZUnV2NmJrUFU3dHFTM0FmKzdmMXltSjRkeG5KcUZEc2FWUUJrRERQU3pSQkUyckFiUlNlMmd2YkQ3aVBEM1RpTmtaRFFEZ0tSb1FDSnRSdnlzQkNqYjZWNFNtOEwrRzg1eHl2MWhMWVF5QXIzeU96THZ5QmNvQW93RFZteDA5Tm9TdE8zTzh4VTZBZWJQTVgzYVVraEd3T1JhWDk3QzArSFAwMzZvZ2dTS1kveGVsTUFaQWl0VHlTN0c2M1R5ZDk3TWJEanRwU3l2bXo4Ny90c09ZallCdDI1TVVmMlhFMnU1R3BOWS91NFlHb0paSTV2bHB1ODE5UndIeThNejZRODdLYmtiWGhIYk1uRGJPU3RBOHpjMnpScUtkTGtQK0krVTdLMXFrY2syai82eEUwNmNwTzIraEtaUUI4UFZkZ0NLbUFVSmdPb3A3K29Vd0JnQUE1aDJQQWtoY0QyMW1RTEk5cnU5WGsrSlRILzFub1dqaC95SzgvNythUWhrQUtWSUxNL244N3JsMEZNREVCR3pvN2tGZi8zRG1zaVZaTktmclJGc0VSN2dsK0RjRUx1cDBQZW8zeFluNEt4djlLenJkSXFUV0wvdUFCcUFlaWFVQk5IV3NtWEZnQW9hSHluaDJRNWdvd09MNUU4ZjhuWk0xN1hWK21zcXJXNGVpeWFwQU9QSFhSdGJyb2lqZ3FhQ1N1S0FCY0lTbU5FQ21xclJGQVJ6eHhMcURRZXBkUEwrcjd0LzdHUG5XRS9Hc1A2ZnQ4ampxajBGL2t4MzlSeEwrTHlLRk13QlM4d0Frd2syUmVRVC9PSWdDUEw0MmpBRllVaWNDVUkyMkVMaExmQjlyOEx4L3d0ZFZTeDhtMGg4WExQOFBGTkFBRkpVc0hhN0tLSUN3Q1hqbWhVTW5QbXpqa2NYenV0RFdsdVVhcEdzRVFnaC9MT0t2YmZTZjZqMUlUb1lHb0JGYXdsYktRK28ydU1rbk4vLzMvb0ZoUEx2ZS8vc0F4blcyWWRIYyttbUFlbFRFTXZhT09OUnhtRmJuUlB5RjY5Wkd0Z205QXZWb0NUTWtTQ0VOUUdwcGdNeDFLWXNDaENrTStOM1QrMFhMeThycGl5ZmwyaTlHSXhDeXphN0UzeGpCNDA5MTlNL3dmMWdLYVFDaUk2NitmeFN0cVlEZlBobkdBQ3pMYVFBcVZJK210UmtDTFcxektmNnhoLzY5RTJ1N0N3UU5RRE8waEsreTFKTjFPNDlSZ0t6NE5nSFB2WGdZQnc3N2Qvc3JsazRXTFMrazZHb1IvR3BTRkg5SkpFZi92dHJPOEw5YkNtc0Fva3NEUkhvVGg5U0dSbldYeThBakFkSUFaNTQyeFduNXRhSXM5ckloUitWS1lUclpEM0FvL3NJb085WFo4VFIzaWVGL093cHJBRExES0lBWFhFUUJtbTMrOEpwOVJ1VklNR05xSitZWWZCcFlnbnJpYmZyVFRKN21PUlYvWlNQbzBmbzQraWQxb0FGUVFzcjNhZFlIMmFjSitNMmFmUmdhS2h1Vkk0SHJLRUNSU0YzOGxYc3ZLeEkrdEtqb0NOMkFrT3c3T0lDWjB6cFJ0dFNCRWtvb3c0T1lsSUJXMVdUWVpHUzdVZ25sRmdkZUtzSDYzSmlXbGJYOXBvMnIzZnpJMFVHc1dYY1FGNjJhbnJrTUNjNVpNUlcvZm1TUDF6cFRvNVV3L3BmL2F3WGVlT1Y4c2ZvKy9jL1A0UDVXMTB5eCtIc2YvWHVMZURMOGJ3c2pBRm53bEFhZ0t6YkVNaEp3LzZQK2hmaWNGVk85MTVrU1dTNzU4aVd5a3kyZmV1NWc4dzFTSHFvN3dOdktCMTZXbHRBQUNPSHRTMVNDUnNMM1hBRHhWSUJsR3g1NGRLOVloQ01yWjV3NkdaMGRmT3hNeVRyUnIxUUNUbHRrdDl5eW1zM2JqNHF0R09Ib1h3NSsrVStHd3ZkRVVxc0JzaERyUUVHMUNjalJ1TW91dS9mMTRabjFmcjhPMk5uUmhsV25jeDVBVmt4bitDK1pQeEhqeDhsMWEwOEtqZjYxaXI5R2ZQYkhSUTcvQXpRQTJkRXp3UGNlQlpCR2t3bTQrNkZkeHZ2YWNxSG5lUWV4a3VmV2xBNy9QL2xjRTRPb1dQeXo0bnYwNyswUUl6VS92cUVCZ045M0FtaDA1UnFYQlJxVDB3VGMrOXZkR0I3Mm13ZDRDUTFBVS9LczY2K3dmSWxjK0I5b0VnRlEva0JJaHY1OWttMnVGQ2YvU1VFRFlFS2lVWUNzcUU0Rm1CUmF4Y0hEQTNqMG1RUEcrOW13OHZTcDZKclE3clhPR0xBUmZtRGtYamxueFRTeDl1elozNGNkZTQ3VnFTaDdJMU1JL1d2dGo4SlhGRDgwQU1MRU9qa2xpVlNBU2FGVjNQbkFUdU45Yk9ob0wrR2xaMCszRnJ3VXFKd0RXK0V2WWVTTGkyY0p2bWRoemJvNm8zL2w0cDhWamFQL0xNVGF2MnFGQnVBNDJpWURhblhkNHFNTEJTYmcxNC9zd1pHamcwYjcySExKK1ROSC8xeEVJeUIxek5WRnJEcDlLam82NUU3a21MZEZSaUQrTVkvK09mblBQelFBcG5qS1VZVkErNmpBbFFub0h4akczYi94T3hud2tuTm5qdms3aWRHd1ppU1ByekxxcitiOHMrVEMvOFBEWmF4K3Nzb0FPQkQvVUdoL3podVJxVitOODlDQ1FRTlFCYU1BWVNZRW1wVG55Z1RjL3FzZEppVmJNM3ZtK0thdkJVN0ZERWdmUnozaHIzRGVtWElHNE1ubkQrRnd6L0dva0NQeEQvRWNtWWcvUi8vcFF3T1Fod2lqQUtta0FnQTNKdUQ1VFVld2J1TmhrNUt0K2IyWG5KSnB1Mm9SMVc0SVhMVzFtZkFEd1BoeGJWaDF1dHhiRmg5NmZPL3hpdE1SZjZQeVpJdXpocU4vTjlBQUJNUm5GTUNFekd1REV6TUJQN3hybTBtcDFsengwbXdHb0JaTmhzQkhXN0lVKzVLelo0aStBT2loeC9jbUovN2lvZi9JUnY5a0xEUUFOV1JPQTJpN2FRT2tBbHpnMUFTMEtQeWUxYnR3NEpDLzhPQ2llVjFZc2RUK3hUVzFJaXdlZG5kY2Z0MDZxMzVadVBUQ1dXSjFkKy9vUmZmT09zdi9HaEJTL0xQWDZ6LzA3NVZNNlErRy8ydWhBWENJMUl1QnREMXIxYmpvMEp5WmdCYUZEdzZXY2R0OTIwMUx0T0kxcjVqanRQeG00cDMxNXhNVDBSL2Rwd1M4NG9LeGt5cno4bUFsL0orbGJvTnlRejhydnBFYS9XdExwNllFRFVBZEdBVTR2bTJnVklCcG1aSW00TWQzYjhQQTRMQnBpYmw1MWN2bnFPN0VmWkZIK0N1c1BIMHFaa3dkSjlhV3V6SytIam9XOGVmb242UC9SdEFBT0VaakZJQW1vSEhoK3c3MjQrZjMrM3N4MEt6cDQrb3VDU3dDcG1IK1Jyd3k1MXlLZXJ5d3VRZnJ0L1MwM0s2dzRpOVlGa2YvNGFFQmFJREdLRUNVN3R3anVVeEFuWXQ4OCszZFhqOFQvS2FyNW91Sm9YYWtqN09qdllTckJkTW9XZDRLbWZvMWFvcTJsQ1ZILzFiUUFIakErMGVDQ3BvS0FISjJQaldWYk4zVmkvdCt1enRQU2JsNCtma3pjY3FNOFNlYWc3VE1nSXZqcVhpM2w1MDNFek9ueVlUL2g0Ykx1UHZoNXVIL1BQTVRwRWtoOU0vUnZ3NW9BRnJnTXovTFZJQk1tUkltNE45djNlUXRDdERXVnNLYlh6Vy83citWRUo4aGNObm0ycUROYXkrZksxYjJ3MC9zYTdvS3BORGlMMWlXdGo2MXlOQUFOQ0Z6MkVpam0zWFMrUlRBQkJ5djZNV3RSM0hQYW4rdkIzN3pWZk16cldQWGFBaDh0S2xldG1iYTVFNjg0bnk1NVg5M1B0RDRlcWNxL3Rrcmx5K3llWFZ5b3lHRy94dERBNUFCc2ZYVWtVOElOQ3JYVVFkb09qSFFKaHJ3elI5dHd2Q3duekRBMU1tZHVPWXk4OUZzcmZnNkczbDdxbWRNdlUydStldXZtQ2YyOForOUIvdngwSnF4eS85TWo5SFYwc21RTDFtU0xNdG42SitqLzliUUFMUkFNZ29naVdUT3prVXF3Q1crb2dIZE80L2g1eDQvRmZ5SHIxK005bmE1ODl0TXRFMS92bWtscEowZGJYamJheGFLMWZlRFgyekY0T0RKWmsvRHFOOFVKNkYvejRPU1RIRDBMd0lOUUVha1ZnUm9uQkJvc05uSXRnRlRBWG5MenR1VS8vbkRUVGpXTjVSemJ6UG16NTdnL01WQW1qRjUrZEExbDgwVm0velgyemVFMis0OStXTlFtc1EvYU41ZjhMakVSdjlaTmxGZ3htS0FCaUFEV2wxa3lIczhWaE5nMnB5OUIvcHgweDNkaG52bDU5MXZYb0lPd1NoQURCaW5ka3JBSDd4dWtWajlQL3ZWRGh3NU92TGx2enozaUlaN1BHUmtUdXZkcXJYZjFnUU5nQUVhb3dDaFVnRW1hT2dnVDlySGNQdWJidS9HbnYzOTVoWGxZTUdjTHJ6eHl2b3JBbExDNWxYRHIzenBiQ3llMXlYU2pxSGhNcjUvNTlhUk51WFlYOXU5bmFsY3dRMnpsc1hSdjA1b0FESVN3azJta2dvWTJkYWdZRU5jbTRDKy9tRjg1YVlONXBYazVMM1hMY1drcm5adjlmbEE2dnNDSFIwbHZQLzNUeFZyMTMyLzNZT2RlL3VpRnY4VVF2L1NjUFNmRFJvQVEzeEdBYklpL1ZBWHlRUmszZTNlMWJ2eHlOUDd6U3ZKd2ZTcG5YalBkVXZGUkRNRXJ0citsbGN2eElJNU1xUC9jaG40N3MrMlVQeHpiaWc3UHVIb1B3UTBBQVpJdTBydkV3SWRvY2tFdUl3Ry9PTzMxbnY3VU5EYlhyTVFTeFpNUE9udmFrVlZ5NzNocTExVEpuWGczVzlhSWxiZUx4N2NpUTBaM3Z0Zmpldno3a3I4UXhIaWpYOGMvV2VIQnNDUUVOOElFSDAzZ0NOM3I4VUU1QzAvU3pSZzY4NWVmT3NuVy9JMHlaaU85aEwrOHgrdmFIa3M5Y1RYaFVqNXFxY1pmL0xXVXpGbFVvZElXWDM5dy9pZlA5eGt0SSttKzlaVS9FUDBENzVUbUtVU3hkOFVHb0RBcEpJS0FPSTNBVURyWS83T1Q3ZmcrVTFIOGhWdXlMbG5UTU5icjg2LzFyMlphSnYrUW5QK3l1bDQ4NnNXaUpYM3c3dTJZdmUrdnN6YmE3cGZZeEQvN0ZVcXVMa0tEQTFBRHJSR0FZeXFMSWdKa0k0R0RBMlg4YmZmZUc3TVMyTmM4ZjdmUHcyTGhHYThSMG1waEs0SkhmaUw5NTBoZHI4Y1BES0E3L3cwMjlKT0h3WW9SZkhuNkQ4T2FBQmNJNWdEQ3pVU2k5a0UyTlRSeUFoczdPN0JOMjgxQ3gvblpmeTRObnpxejFhaXM2TkFqMnBONk9HRGY3Z004MDZaSUZiOHY5KzZHVDI5ZzVtYTRSb1Y0aTlNOXNHS1pHNlQ1S0ZBdllvc21hTUFHZEdjQ3NqVmhrUk1BRkRmQ0h6bnAxdXdadTFCbXlabFp2bVN5Zml6UDFybXBhNWdOTWczWEhIeEtYampGZlBFcWxtL3VRYy8rZVgyVE0xeGpab0pmNUdIL2puNnp3OE5nQThLbUFvQWRKb0FLU05RTGdPZi8vcGFIRHJpcCtPNTdsVUxjTzByNVlSUUJTMG1HU3hmTWdsLythZG5pbFUzT0ZUR0Y3K3hEa05OUHZEa2E4NkRhL0V2U3VpZjJFRURZRUdvS0FCTmdCMjI5VlNNd0o3OS9mamJienlIc3AvcEFQalllMWJnM0RPbSthbk1GUmxuRms2ZjBvblAvdm5abVQ2Um5KWHYvSFFMMWpkWjlxZngva3RSL0RuNjF3TU5nQ1hTRXdLMXo0cE55UVJJR0lHSDErekR0Mi9iTE5LbVZuUjBsUEM1ajU2TjB4Wk44bEtmTlRtWEU0d2YxNGJQZkhnVjVzd2FMOWFVamQwOStQWlA2bDhubnlzZDFJaC9JREwzYjV6NDV3VWFBSjhra0FvdzNQVEVQZ3BOUUtVdTIvcSsrYU5OZVBpSmZUSU5hc0hraVIzNDI0K2ZpNFh6SnJiZTJDZENhd2ZIajJ2REZ6NTJEczVaTVZXc2FVUERaWHp4Rzg5aGNLam1jNzhlaGI5U1gvWnRIWXMvUS84RU5BQWlGQzBWWUxqcGlYME1UWURXenJtV2NobjR3dGZXb1h0SHIxeURtakJyMmpqOHd5Zk93NUlGaytvTHI2c1Q1L2hGQWVQSHRlR0dqNTZOODgrU1RYUDhyeDl2SHZQdUJzMG1NMVh4WitoZkh6UUF2aEYrV0ZJMkFTUGI1NmdrSnpaYWR1VG9JUDc3LzNnYUJ6MU5DcXlZZ0pYTHB0VGZvSmxZNS8wNVpNcWtEbnpoWStmZ3dwWFRSY3Q5OFBHOStOOVZLUnJ0eHJMdzRzL1J2MWRvQUlRd2lnSm92OGtMYkFJcTllV3BjK3V1WHZ6Vmw1NUIvNENmN3dWTW45S0p2LytMOC9CN0x6bkZTMzJ1V0RKL0lyNzhxUXZFUi81YmR2VGliNzYrRHVXeWYrRUg0aFgvWUdUMUNCejlpMEVESUVneXFRRERqVk0wQVpVNlRldDkrb1ZEbzZMamcvSGoydkRwRDYzRUI5NXhHdHJidFBmd1kzbjVlVFB4NVU5ZWdJVkNYL2lyY1BUWUVENzlUOCtnOTloUXNIdkhiSHM5NHMvUWYzR2dBUWlGOWxTQTRjYStURUFNUnVCWHY5dUR2LzgzZjhzRFN5WGduYTliaFAveDM4N0R3cmx4dkRaNDRvUjJmUFE5eS9HNWo1Nk5pVjN0b21XWHk4QVh2N0VPVzNZY0ZTMDNDM251VVlxL1FjVkVGQm9BWVZ5a0FtZ0NhdmZKVVpFQUpwMzdIYi9laWE5OGQ0UGJCdFd3NnZTcCtQcG5Mc0k3WDdjSUhlMTZlOVNMejU2QmIzejJKWGp6VmZPZFhNdC91V1VqSG5oMHIzekJMY2h6TEJULzdCVno5QytQekxjMXlSaEtKWGdiQWVhaEJDQno4d3cyTmlxM3NrK3BoTExoeVFwNWZpc2RZS3Y2Zi9DTHJlanNLT0UvL3NGcDdodDFuUEhqMnZDQmQ1eUcxNzl5SHI3MnZZMTQ0REgvUWxoTmRkOSsrdUpKZU85MVMzSFpSYk9jMWZldFd6Zmo1anV5ZmVoSGtxS0lmeWhDbWY3VW9RRnd3TDZEQTVnNXJUUGJ4aGtWczRRU3loazJOQkhHRkV3QW9Oc0kzSFI3Ti9vSGhuSDl1MDczMDZqakxKclhoYi8rODFWNGZ0TVJmUHUyTFhqZ3NiMFlidklLWEFrYTlkR25MNTZFZDc5NUNTNi82QlNuSGZrdFArL0dOMys4eVYwRmRjaDdQTEdLZjhqUVAwZi84dEFBT0tKaUFqS0pVeXdtd0lDOEpnQkFWTkdBU3YwVjZyWGpoM2R0US8vQU1ENzIzaFhlUnpJcmxrN0cvM1A5U3V6YTI0ZmI3dHVPdTMrekd6djJITXRWbGtuVHAwenF3RldYek1ZMWw4M0ZXYWMxV0tvb3lHMzNic2VOTjI5MFhrODF2a2I5Z0xzUmVneml6OUMvTzJnQUhCS0xDY2lNb2Fybk5SZXhwUVJxMndHTWJjdFA3OXVCZzRjSDhOOCtjSmJvKysyek1tZldlTHp2YmFmaWZXODdGV3MzSHNicUovYmh0MC90eDNNYmp6VDlPRTVXU2lWZzJlSkp1T0NzNmJodzVYUzg1T3pwM2o1aGZNZjlPL0dsYjczZ3BhNEtxc1hmZ1Z1ZytLY0pEVURDWkJWRlY2bUFISnVmMkMvQ2xFQTE5YUlDOXorNkZ4Ly91eWZ3dVkrY2pXbFRNcWFJSEhEV2FWTncxbWxUOE43cmxxSi9ZQmd2YkQ2Q0Z6YjFvSHRuTDdidTdNWCtRLzNZZjJnQVBVY0gwVDg0aktHaE1zWjF0cUZyUWp1NnhyZWphMEk3WnM4WWo0Vnp1N0J3N2dRc210dUZNMDZkZ2ltVC9IY25OOTNlalgrNXhkL0kzMmZJSDNBci90S1Qva2g4MEFBNEptUVVBSWpmQkFENVVnSWorK1dvMUFIVkhlaXo2dy9qdzU5N0hKLzU4Q29zV3h6K296N2pPdHV3NnZTcFdIVzYzTHYzZlZBdUExKzlhUU4rOEl1dFh1cnpMZnhBZk9MUDBYOThjQm1nQjBJdURUVEJlSktScDFuR3VVZFBDa2N1cFJLd1k4OHhmT1R6aitPZTFidEROeWRLanZZTzRaUC8rQlRGdjNyandEUCtLZjV4UWdQZ0VlM3ZCekNvT3RjT2h2M1V5ZnRhbUFDTlJxQ3ZmeGlmdjNFdC92L3ZyTWZBb0o5WEI2ZkFwbTFIOGVFYkhzZnFKL2M3cjh2bTNyRUorYnVhN1crNmVjaThQL0VERFlBblhMbloyRXhBcnZJcis1VktTVVVEZ0pFVkFoLys3T1BZdE0zL1crdGk0ODRIZCtMNnp6NkdMZHZkbnlzYjRkZVk3emZkUE1ScmZxdmg2TjhQTkFBZUNmM0JvQlJNQUpCZU5HQkRkdyt1Lyt4aitQNmRXOVhNVzlERW9TTUR1T0hHdGZpN2J6eUh2bjYzMFpJUW8zNUExL1BtNUJsaDZGOGxOQUNlQ1QwZklDVVRrSklSNk9zZnhsZHYyb0NQM1BBNE5uVDNoRzZPR2g1NGRDL2UvNmxIY2EvaitSSzJ3bDlFOFdmZVAzNjRDaUFRbWRldEIxd1pZRkI5N2gwcWZVUGVnVytlNVlJbjlqMWV0NkpSOTlxTmgvR2h6enlHdDE2OUFQL2hUVXN3ZVdJeEg5RnR1NDdoeTk5Wmo5VlA3SE5hajYwUjlDcjhPWGFLU2Z5SmY0clp1d1RHNkZYQlFQSW1JT2N1Si9iTnVWend4UDQ0dm4vT0JnZ3pORnpHTFhkdXhaMFA3c0o3cjF1Q04xNDVQOHBQL2ViaHlORkJmUGRuVy9DRFgyeHpPamt5cFBBREZQOTZjUFR2SHhxQVFCaTlIOENBb3BvQXdDNGFNTEwveVA5ck1RS0hqZ3pnbjcrOUh0LzcrVmE4NncyTGNjMWxjMVYvNWMrR283MUQrUEU5MjNEejdkMDRjblRRV1QwU0kwMkt2eXdNL1llREJpQWdMbDRTTkxKcDNDWUE1cnVkMk44eUdqQlN4dkUyS0RFQ08vY2N3ejk4ODNsOCt5ZWI4ZlpyRnVKMWw4L0R4SzcyME0wU1lkL0JmdnpvN20yNDlaZmIwZE5MNFpmWVVZWDRNKzhmQlRRQUNwQ2VEekN5cVNJVEFOT2RaS0lCUUZwR1lOZStQbnpsdXh2d2J6L2NoR3N1bTRzM1hqa1BweTRNL3paQlU4cGw0SW5uRHVJbjkyekhBNC91d2VDUXV4T3NRZmdCUDZOKzAxMDBpRDhKQ3cxQVlGek5CeGpaMUowSlFQWm1uTmpKc3drQTdOTUNJMldjK0xNR005RGJONFFmLzNJYmZ2ekxiVmkrWkRLdWZzVWNYUG15MlpnMWZWem9walZsUTNjUDduMTROMzc1OEM3czNOdm5yQjVKWVlsRi9FM3JDQzMrRlRqNkR3c05nQUtNNXdNb01BR0d6Y2k1ZzMxS0FKQ0pCcHdvNjNoN0ZCZ0JBQ01mOHRsOEJEZmV2QUZubkRvRkx6OS9KaTQ1YnlhV0w1a2NmSVRWMnplRXA1NC9oTlZQN01ORGEvWmhaODdQRUdjbENlSFBzV09NNHMvUXZ3NW9BSlJRS0JNQTA1M2tvZ0dBckJFWUtjKzZPR3ZLWldEZHhzTll0L0V3dnZtalRaZzhzUU5uTDUrS2M4K1loak5Pbll4bGl5ZGgybVIzWHlBc2w0SHVuYjE0ZnROaFBQL2lFVHoxd2lFOC82TE1wNGFiSVcxeUpJUWYwQm55QnlqKzVHUm9BQlJSR0JPUWN5ZUphQUFnYXdSR3lqdnhadzFtQUJoWlR2ZndFL3Z3Y05VNitsblR4MkhKL0ltWVAzc0M1cytlZ0xtekptRGFsRTVNbTl5SnFaTTcwRFdoSFIzdEpYUjJ0cUc5cllTaDRUSUdCOHNZSEJyRzBXTkQ2RGs2aU1NOWc5aC9hQUI3RC9SaHovNStiTjk5YlBRend2MERmcjVwNENLeUVWVDRjKzVJOFNlMjBBQW94RlNBTTVlYmdBbXcyRzFzT2NKR1lLVE1FMy9XWWdZcTdEM1FqNzBIK3ZIWXM2RmJZbzZyZElhVThBTUZGWDlIYlNCKzRLdUFsVkZ4eDY2K0dlRHF0Y0U1bW5KaXA1d2RvRlIvWXZzcTE4YmxudmdSYzF5ZVA4bHJudnRldExqM2piWjNLZjZHTS80NSt0Y0ZEWUJDWWpjQnZ2S2ZWdlhWSzh1UkVSZ3BtNGFnRlQ3T2tRcmhyK3pzb1Q2S1Aya0dEWUJTakI4V1JTWmdwUHdjV1BUTGtucFJFUWxYWm1Da0Rob0NYK2ZBeGZXMEtzblQ4NlJCL0N0US9IVkNBNkFZb3k4SEFzNU5nT2FVZ09XdWpjdDBiQVJPMUpPK0lmQjlqQzZ1bmZXbzMxUElYNHY0YzlLZmJtZ0FsS1BKQkFENlV3SldkVFlyMDBOVTRPVDY2djlpSUdUYlhWMG42M3RLWWNoL3BBNktmNUdoQVlpQTJFM0FTQjA1c094MVhSZ0J3RjlVb0g3ZHJYOHAxOSs0WFk0bWNrSkErQldHL0VmcW9QZ1hIUzREakFTWDd3Z1kyVHo3RWtFQXVaWXFHamJwNUIyUmQyZnIzUnVYVzlYalNpNGx0Q1dXU0lFdFR1ZG9CQ3lBNGs5OHdRaEFSS1FTQ2JES29WcmdLaUlBK0U4UkZCWFg1MW5rSHZFOGg0WGlUL0pDQXhBWkdrMkF0NVJBWlVmRlJnQTRXYVJvQ096d2RTN0ZoTjlDL0kzM3lmSHNVZnhKTlRRQUVhTE5CQUNlVFVCbForVkdZTFFlR29MTStENVhvWVcvc3J2eFBybWVONG8vT1JrYWdFaEp5UVQ0bmwzZHFBMitwSm1HNEFRaHpvWG85UTR3U1pYaVQ2U2dBWWdZSHliQVowb2daRnJBUVZIWjY2d1J3VlJOUWVqakZMMjJsdUYrbnlGL2lqOXBCQTFBNU9ReUFVcWpBU04xV1JDNUVUaXAvanBpR1lzeDBOWjJMY0pmMlQzWGZyNUcvUlQvUXNGbGdBbGd2RVFRZ090bGdnQnlMUlVjcVd1RTNBdnJyQXNZVzVSUWNkYTBFbElmeXhGak1DTGlMUlNZYjVKN1gyVWhmNERpbndvMEFJbWcyUVFBK1kyQWxad0pHb0hxNGdTTEZDY0djWGFGa3lNWG1tT1NhNy9jVVRTS1A4a0dVd0FKWVp3T0FMek1Dd0RzVWdLaFoyazNLN0s0Y3FzRFo5Y2g4Q3FUdktOK2lqOHhnUVlnTVh5WWdKRmQ4cG1BMUl4QWRiRTBBMzV3ZXI0VkNMK1hrUC9JVG1hYlUveVRnd1lnUVRTYkFDQy9DUmlwVXdDSENsSUNEWUUwenMrcFlPRytjLzBqZFZMOFNUNW9BQklsdHdud21CSUlHZzF3VWxqajRta0d6UEJ5M2dRckNEWHFkejNUSDZENHB3d05RTUxrTWdGQVZOR0FXSXhBZFJVMEJTZmovYndvRVg1QTk2Z2ZvUGluRGcxQTRsUk1nUGFVZ0RvajRFbWRpMllLZ2gydmNJVVN3cTlaL0N2dG8vaW5EUTFBQWFnOHhMNU1RSWhvd0VqZHdvSVNTSlhyaVdSc3hrREZNVGlvV0tJNEcrSDNKZjRBeGI4STBBQVVCQ3NURUZFMFlLUnVCMktqUUlrYmlhcnZwbWxwUjEwY05VSksrTDJQK2luK3BBazBBQVVpdHdrQWdrUURWQnFCNm9JVkRzdXppTFB0VHgwT0c2ZEIrSDNtK3dHS2Y1SGdtd0FMUnVYaE5uNXJJRERTcWVSNm81LzVHd1JIOXozZUtkbTg0YmE2THhSL2c1L1R3a2xESERvUnFhTHREV3h1MTJDK0MvUDloWVFSZ0lKaXRVTEFjelFBc085TVQ3VERvWGFvSHlwSGpJZHpLMW0wM2FSV2kxRS94WjhZUUFOUVlIS3ZFQUJ5OTVTMkppQUtJMUJiQ2MxQVBqeWRQMm5odHhYL25EdWE3MUtpK0JjZEdvQ0M0M3Rld01odTl0RUFhU1BnMVF6UUZJekY4L21ScmtaQytIMkxQMER4THpxY0EwRHM1d1VBdWVjR2pPd2FibjdBeWUwNWdaZDBmcjJPdXdqekNBS1pIeGZWQnN2emoreWNiemVPK3NseEdBRWdvNFJJQ1l6c2F0ZUxTa1lFUnN0RUlKMktadXA5QnBRY2k0dHFaVmFwK0JWL2h2eEpMVFFBNUNTc1V3S0IwZ0tBV3lNUVhJTWJpV2tJY2RYVWxnYTRhb2FVOEZ1Rit4bnlKMEl3QlVER1lKVVNBRVk2cUp5aGJOdTBBSEJ5QnkyVkhnQUNwQWp5RU55cGhNUFZvY3ZOTjdGMkR2bDI0NmlmTklBUkFOSVE2NVJBcUVsUjFlVTRpQW9BcWdhN2hjWDFOWkM2ZDZ6dlpZdFJQOFdmTklNR2dEVEZLaVVBV1BmTUVpWUFjR2NFUnNzSHpZQVBmSnhuMlZVbTRVYjlBTVdmTkljcEFOSVNrWlFBRURRdE1GcVdvL1RBU1hYVStUdTFLUVBGK0RSVDhuTkh3Z2cvd0ZFL3lRNGpBQ1F6VmlrQlFFMWFZTFE4eDFHQmsrb0Nvd1N0Q0RLZlVmZ2VDQlh1QnhqeUorWXdBa0NNc0k0R0FGYVRCRWQybDRzSUFINmlBbVBxclBOM1JZb1NoRFJCYnVhRWlFd1d5TDhyaFova2dCRUFrb3ZRMFlDUklrck9vZ0srSWdNbjFkM2tGeU9hanNmRmRSVzcvempxSjRHZ0FTQzVzWjRnQ0lncGdyUVJBTUthZ1RGdHlmQXJjbnZxNGVyNmlkMXJ0aWt4VHZRamxqQUZRS3lvVGdrQUZpRjB5NG1DSjRxUlRRK01saHNnVFdDS0J0RU5qZHVWSG1KTEEreDJwL0FUSVdnQWlBZ2ljd01BOVVZQUdDc3lXZzFCRWZBUm5kRWkvQUREL1VRV3BnQ0lLTlp6QXlvSXJzTjJrUjQ0cVE1RnFZSWk0T044aTk4M0FxTitpaitSaGhFQUlvNjJ0TUNKNHR4RkJVYnJxTlBSTTBLUUg5K21TdHdvTXR4UEZFTURRSndobmhZQVJNeEFkU2Z2MGd5TTFzZVVRV2JDckw3UUpmcWp4WERFVHh6REZBQnhqbGhhQUJDZll1NGpSVENtemxMOVg1RUlmUTZjWEhlcEZTME05eE5QTUFKQXZDQ1dGcWdnbkI0WUtkSnZaR0JNL1EzRUkrYUlnU1pqNDh6a0NZNzRBUW8vOFFjTkFQRktERVpncE5pd1pxQ2FyQ0xxMHlob0V2Wm1PSTNzVVBoSjVOQUFrQ0RFWWdSR2l0WmpCcG9SaXlpN3huazZoOEpQRW9GekFFaFFxdDhtS0RwSHdGbTB0K1FtZjB4eTQrV2FDTjVYMWZjNnhaK0VoQkVBRXB6cWFFQ2xZeFFKWnp1TUNweW9JbzdvUUdwNE0xK1Njd1NyeXFMd0V3M1FBQkExT0RjQ2dEY3pjS0k2bWdKYnZFZGFwRmNGVXZpSlVtZ0FpRHFjR1FIQW14azRVZDNKYWtKRDBKb2dxUlVIVlZMNGlYWm9BSWhhbkJvQndFdUtZR3lWOVpXbWlNWkF4UndLQ2o4cE1EUUFSRDNWbmFqWXFvRnFQRWNGNmplaHNSTEZiQTVVaUh3dHJ1WUpjbUlmaVF3YUFCSVY0c3NIYTZrVkJ3WGFtMVZFZlJvRmxjTGVDTmVyQWluOEpGSm9BRWlVMUJvQndOR0xjQlJFQjdJU2xTaTd4cFBvQXhSK0VpODBBQ1JxbktjSHFsRVlIU0RIOGJVcWtLTjlraEEwQUNRWnZFVUZLdEFRaE1Qbmg0TTQyaWVKUWdOQWtzTnJWS0FhR2dKM2hGZ1p5TkUrU1J3YUFKSTAzcU1DMWRRVExacUMxZ1NjeXNEUlBpa1NOQUNrRU5TTENnQUJQclZMVTNBeUN1WXRVdlJKVWFFQklJVkRqUm1vMEV3RVV6QUhDa1MrRm9vK0ljY2Z6Wm16RnBSdi8vSkZMd0dBYTY5LzlKR3dUU0lrRENyTWdBMCsyNnhRMUZ0QjBTZEZwMXJuOSszZFZtSUVnSkRqTklvTUFKRVlnZ2hGMlNXMW41ZW02Qk55TWpRQWhOU2hWaXlpTkFRRmc0SlBpQmswQUlSa29EWTZVQ3MyTkFUK3FiMEdBRVdmRUJOb0FBZ3hwRjUwZ0liQVBSUjhRbVNoQVNERWtub2lWSnN5QUdnS1RLRFlFK0llR2dCQ0hKRFZGQURGTmdiMWhCNmcyQlBpZzlISGowc0JDUWxESTJNQXBHRU9Hb2s4UUtFbnhCZTFTd0FCUmdBSUNVNHpFV3htRHFvSllSU2FDWHMxRkhsQ2RFSURRSWhpc29wblZxTWdDWVdka0xpaEFTQWtBU2pHaEJCVDJrSTNnQkJDQ0NIK0dUVUErL1p1SzFVbS8xVW1DeEJDQ0NFa2J1cE5BQVFZQVNDRUVFSUtDUTBBSVlRUVVrQm9BQWdoaEpBQ2NwSUI0RHdBUWdnaEpCMGE1ZjhCUmdBSUlZU1FRa0lEUUFnaGhCU1F1Z2FBYVFCQ0NDRWtibHA5MzJlTUFhak5FUkJDQ0NFa2J1cHBPMU1BaEJCQ1NBRnBhQUNZQmlDRUVFTGlwRlg0SDJoZ0FKZ0dJSVFRUXRLZ2thWXpCVUFJSVlRVWtJWUdnQzhGSW9RUVF1S2oyY3QvcW1FRWdCQkNDQ2tnTFEwQW93Q0VFRUpJSEdTWi9GZWhxUUhnWkVCQ0NDRWtUbHBwT0ZNQWhCQkNTQUZwYVFBNEdaQVFRZ2pSVDliSmZ4VVlBU0NFRUVJS1NDWUR3Q2dBSVlRUW9oZlQwVC9BQ0FBaGhCQlNTREliQUVZQkNDR0VFSDNrR2YwRGpBQVFRZ2doaGNUSUFEQUtRQWdoaE9naDcrZ2ZzSXdBMEFRUVFnZ2hZYkRWWUdNRFVCMEZJSVFRUWtoWThveitBWXNJQUZNQmhCQkNTQmhNM3ZuZmlGd0dnTjhJSUlRUVFuU1FWNU56UndBNElaQVFRZ2p4ajgzRXYyckVsZ0hTQkJCQ0NDRnVrZFJhS3dQQUNZR0VFRUtJZjJ4SC80QkFCSUNwQUVJSUljUTlVcUgvQ21JcEFKb0FRZ2doeEEwU3MvNXJFVEVBdFU2RUpvQVFRZ2lSb1ZaVHBWYmlpVVVBT0IrQUVFSUljWWRVNkwrQzZNZUFPQitBRUVJSWtVTTY3MStOazY4QjBnUVFRZ2doZHJqSSsxY2piZ0E0SDRBUVFnaXh3MVhldnhvbkVRRE9CeUNFRUVMc2NSSDZyK0RFQUFDY0QwQUlJWVRrd1dYZXZ4cG5CZ0NnQ1NDRUVFSk04Q1grZ0dNRFVJRW1nQkJDQ0dtTzYwbC90VGczQUJVSFF4TkFDQ0dFMUtkVy9GMlAvZ0ZQRVFDYUFFSUlJYVErSWNRZjhHUUFBSm9BUWdnaHBKWlE0Zzk0TkFBQVRRQWhoQkJTSWFUNEE1NE5BRUFUUUFnaGhJUVdmeUNBQVFCb0FnZ2hoQlFYRGVJUEJESUFBRTBBSVlTUTRxRkYvQUVnV01VVlpzNWFVQVpPTmdCOGpUQWhoSkNVcUtkeEljVWZVR0FBS3N5Y3RhQk1FMEFJSVNRMWFyVXR0UEJYQ0pZQ3FLWDJBMEpNQ1JCQ0NJa2RyZUlQS0lvQVZHQktnQkJDU094b0RQblhvaVlDVUtGMmNpREFhQUFoaEpCNGlFSDhBWVVSZ0dvNEw0QVFRa2hNYUE3NTE2SzJZUldZRWlDRUVLS2RXRWI5MWFoTEFkVENsQUFoaEJETnhDaitRQVFSZ0dwcVV3SUFvd0dFRUVMQ1VFK1BZaEQrQ3RFMHRFSzlsQUJBSTBBSUljUVBqZlFuSnZFSElqUUFGVGczZ0JCQ2lHOWlEZmZYSThwR1YyQTBnQkJDaUE5U0dmVlhFMjNEcTZFUklJUVE0b0lVaGI5QzlBZFFEWTBBSVlRUUNWSVcvZ3JKSEVnMWpZd0FRRE5BQ0NHa1BzMDBJeVhocjVEY0FWVkRJMEFJSWFRVlJSUCtDc2tlV0RVVkl3RFFEQkJDQ0dtdEJTa0xmNFhrRDdDYVZrWUFvQmtnaEpCVXlkTHZGMEg0S3hUbVFHdWhHU0NFa1BTaDZEZW1rQWRkVGJVUkFKcC9aNENHZ0JCQ2RHUFNoeGRWK0NzVSt1QnJNVEVERldnS0NDRWtESG42NktLTGZqVThFVTNJWXdpcW9Ua2doQkE3YlB0ZENuNWplR0lNcURVRUFEOU5UQWdob2FnM3lLTGdaNGNueXBKNnBxQUN6UUVoaE5qUkxKSktzYmVESjg4aHpjd0JJWVNRMWxEazNmRi9BRjUrNDZnM1lqaHZBQUFBQUVsRlRrU3VRbUNDIiwgInNpemVzIjogIjUxMng1MTIiLCAidHlwZSI6ICJpbWFnZS9wbmcifV19" />
  <meta name="theme-color" content="#0e0f13" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Mon Budget" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Firebase -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged }
      from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
    import { getFirestore, doc, getDoc, setDoc, onSnapshot, deleteField }
      from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDi5L92rZkehT514a5-JDqjTdOMc1_Ee8o",
      authDomain: "monbudget-207b8.firebaseapp.com",
      projectId: "monbudget-207b8",
      storageBucket: "monbudget-207b8.firebasestorage.app",
      messagingSenderId: "686570690847",
      appId: "1:686570690847:web:9634102ee6e5481a12f82a",
      measurementId: "G-66CK2ZJB89"
    };

    const app  = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db   = getFirestore(app);

    //  Expose Firebase to app 
    window._fb = { auth, db, doc, getDoc, setDoc, onSnapshot, deleteField, signInWithEmailAndPassword, signOut, onAuthStateChanged };
  </script>

  <!-- React + Babel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root[data-theme="dark"] {
      --bg: #0e0f13; --surface: #16181f; --surface2: #1e2029; --surface3: #252733;
      --border: rgba(255,255,255,0.07); --border2: rgba(255,255,255,0.12);
      --gold: #c9a84c; --gold-light: #e8c96a; --gold-dim: rgba(201,168,76,0.15);
      --green: #4caf82; --green-dim: rgba(76,175,130,0.15);
      --red: #e05c5c;   --red-dim: rgba(224,92,92,0.15);
      --text: #f0ece4;  --text-muted: rgba(240,236,228,0.45); --text-sub: rgba(240,236,228,0.25);
      --header-bg: linear-gradient(160deg, #1a1c25 0%, #12131a 100%);
      --header-text: #f0ece4; --header-muted: rgba(240,236,228,0.45);
      --header-input-bg: rgba(255,255,255,0.08); --header-input-border: rgba(255,255,255,0.12);
      --header-btn-bg: rgba(255,255,255,0.06);   --header-btn-border: rgba(255,255,255,0.15);
      --tab-bg: rgba(14,15,19,0.94); --select-bg: #1e2029; --colorscheme: dark;
      --shadow: 0 8px 32px rgba(0,0,0,0.4);
    }
    :root[data-theme="light"] {
      --bg: #f4f2ee; --surface: #ffffff; --surface2: #f0ede8; --surface3: #e8e4de;
      --border: rgba(0,0,0,0.08); --border2: rgba(0,0,0,0.14);
      --gold: #96680e; --gold-light: #b8832a; --gold-dim: rgba(150,104,14,0.10);
      --green: #1e7a48; --green-dim: rgba(30,122,72,0.12);
      --red: #b83232;   --red-dim: rgba(184,50,50,0.10);
      --text: #1c1a16;  --text-muted: rgba(28,26,22,0.52); --text-sub: rgba(28,26,22,0.34);
      --header-bg: linear-gradient(160deg, #2c2a26 0%, #1c1a16 100%);
      --header-text: #f0ece4; --header-muted: rgba(240,236,228,0.5);
      --header-input-bg: rgba(255,255,255,0.08); --header-input-border: rgba(255,255,255,0.15);
      --header-btn-bg: rgba(255,255,255,0.06);   --header-btn-border: rgba(255,255,255,0.18);
      --tab-bg: rgba(244,242,238,0.94); --select-bg: #f0ede8; --colorscheme: light;
      --shadow: 0 4px 20px rgba(0,0,0,0.09);
    }

    :root { --radius: 16px; --radius-sm: 10px; }
    html, body, #root { height: 100%; }
    body { font-family: 'DM Sans', sans-serif; background: var(--bg); color: var(--text); -webkit-font-smoothing: antialiased; transition: background 0.3s, color 0.3s; }
    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 2px; }
    input, select, textarea { font-family: 'DM Sans', sans-serif; color: var(--text); background: transparent; border: none; outline: none; }
    input::placeholder, textarea::placeholder { color: var(--text-muted); }
    button { cursor: pointer; font-family: 'DM Sans', sans-serif; }

    @keyframes fadeUp  { from { opacity:0; transform:translateY(14px); } to { opacity:1; transform:translateY(0); } }
    @keyframes slideIn { from { opacity:0; transform:translateX(-10px); } to { opacity:1; transform:translateX(0); } }
    @keyframes scaleIn { from { opacity:0; transform:scale(0.96); } to { opacity:1; transform:scale(1); } }
    @keyframes spin    { to { transform: rotate(360deg); } }
    .fade-up  { animation: fadeUp  0.4s ease both; }
    .slide-in { animation: slideIn 0.3s ease both; }
    .scale-in { animation: scaleIn 0.25s ease both; }
    .spinner  { animation: spin 0.9s linear infinite; }
  </style>
</head>
<body>
  <div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useMemo, useRef, createContext, useContext, useCallback } = React;

//  Helpers 
function genId()   { return Math.random().toString(36).slice(2, 10); }
function fmtEur(n) { return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR"}).format(n||0); }
function fmtDate(s){ return new Date(s+"T00:00:00").toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}); }
function mKey(s)   { return s.slice(0,7); }
function nowMKey() {
  const d = new Date();
  return `${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,'0')}`;
}
function isEven(mk){ return parseInt(mk.split("-")[1],10) % 2 === 0; }
function dBack(n)  { const d = new Date(); d.setDate(d.getDate()-n); return d.toISOString().split("T")[0]; }

//  Default data 
const DEFAULT_CLEANUP_DAY  = 10;
const DEFAULT_AUTO_CLEANUP = true;
const DEFAULT_SAVINGS_HISTORY = [];
const DEFAULT_SAVINGS_SNAP_DAYS   = [1, 15];
const DEFAULT_SAVINGS_SNAP_ACTIVE = true;
const DEFAULT_ACCOUNTS = [
  { id: genId(), name: "Compte courant", type: "checking", balance: 0 },
];
const DEFAULT_TPL = {}; // { [accountId]: { even:{items:[]}, odd:{items:[]} } }
const emptyAcctTpl = () => ({ even: { items: [] }, odd: { items: [] } });
const SAMPLE_TX = [
  { id:"s1",  title:"Salaire",               amount:2800,   type:"income",  date:dBack(1),  accountId: DEFAULT_ACCOUNTS[0].id, pointed:false },
  { id:"s2",  title:"Allocations familiales", amount:320,    type:"income",  date:dBack(5),  accountId: DEFAULT_ACCOUNTS[0].id, pointed:false },
  { id:"s3",  title:"Loyer",                  amount:950,    type:"expense", date:dBack(2),  accountId: DEFAULT_ACCOUNTS[0].id, pointed:false },
  { id:"s4",  title:"Courses",                amount:187.50, type:"expense", date:dBack(3),  accountId: DEFAULT_ACCOUNTS[0].id, pointed:false },
  { id:"s5",  title:"Netflix",                amount:17.99,  type:"expense", date:dBack(4),  accountId: DEFAULT_ACCOUNTS[0].id, pointed:false },
];

//  Demo data 
const DEMO_EMAIL    = "demo@monbudget.fr";
const DEMO_PASSWORD = "Demo1234!";
const DEMO_ACCOUNTS = [
  { id:"da1", name:"Compte courant",   type:"checking", balance:0,       savingsSubtype:"available" },
  { id:"da2", name:"Compte joint",     type:"checking", balance:0,       savingsSubtype:"available" },
  { id:"da3", name:"Livret A",         type:"savings",  balance:8500,    savingsSubtype:"available" },
  { id:"da4", name:"PEL",              type:"savings",  balance:24000,   savingsSubtype:"blocked"   },
  { id:"da5", name:"Assurance vie",    type:"savings",  balance:15750,   savingsSubtype:"blocked"   },
];
const DEMO_TX = [
  // Mois courant  da1
  { id:"dt01", title:"Salaire",          amount:3200,   type:"income",  date:dBack(2),  accountId:"da1", pointed:true  },
  { id:"dt02", title:"Loyer",            amount:1100,   type:"expense", date:dBack(3),  accountId:"da1", pointed:true  },
  { id:"dt03", title:"lectricit",      amount:68,     type:"expense", date:dBack(5),  accountId:"da1", pointed:false },
  { id:"dt04", title:"Courses Leclerc",  amount:143.20, type:"expense", date:dBack(4),  accountId:"da1", pointed:true  },
  { id:"dt05", title:"Courses Lidl",     amount:54.80,  type:"expense", date:dBack(6),  accountId:"da1", pointed:false },
  { id:"dt06", title:"Netflix",          amount:17.99,  type:"expense", date:dBack(7),  accountId:"da1", pointed:true  },
  { id:"dt07", title:"Spotify",          amount:10.99,  type:"expense", date:dBack(7),  accountId:"da1", pointed:false },
  { id:"dt08", title:"Restaurant",       amount:62.50,  type:"expense", date:dBack(8),  accountId:"da1", pointed:false },
  { id:"dt09", title:"Essence",          amount:85,     type:"expense", date:dBack(9),  accountId:"da1", pointed:true  },
  { id:"dt10", title:"Pharmacie",        amount:23.40,  type:"expense", date:dBack(10), accountId:"da1", pointed:false },
  { id:"dt11", title:"Virement pargne", amount:300,    type:"expense", date:dBack(3),  accountId:"da1", pointed:true  },
  // Mois courant  da2
  { id:"dt12", title:"Salaire conjoint", amount:2400,   type:"income",  date:dBack(2),  accountId:"da2", pointed:true  },
  { id:"dt13", title:"Crche",           amount:480,    type:"expense", date:dBack(4),  accountId:"da2", pointed:true  },
  { id:"dt14", title:"Activits enfants",amount:95,     type:"expense", date:dBack(6),  accountId:"da2", pointed:false },
  { id:"dt15", title:"Abonnement salle", amount:29.99,  type:"expense", date:dBack(8),  accountId:"da2", pointed:false },
  { id:"dt16", title:"Remboursement CB", amount:120,    type:"income",  date:dBack(10), accountId:"da2", pointed:false },
  // Mois prcdent  da1
  { id:"dt17", title:"Salaire",          amount:3200,   type:"income",  date:dBack(33), accountId:"da1", pointed:true  },
  { id:"dt18", title:"Loyer",            amount:1100,   type:"expense", date:dBack(34), accountId:"da1", pointed:true  },
  { id:"dt19", title:"Courses",          amount:198.60, type:"expense", date:dBack(35), accountId:"da1", pointed:true  },
  { id:"dt20", title:"EDF",              amount:72,     type:"expense", date:dBack(36), accountId:"da1", pointed:true  },
  { id:"dt21", title:"Mutuelle",         amount:135,    type:"expense", date:dBack(37), accountId:"da1", pointed:true  },
  { id:"dt22", title:"Prime",            amount:500,    type:"income",  date:dBack(38), accountId:"da1", pointed:true  },
  // Mois prcdent  da2
  { id:"dt23", title:"Salaire conjoint", amount:2400,   type:"income",  date:dBack(33), accountId:"da2", pointed:true  },
  { id:"dt24", title:"Crche",           amount:480,    type:"expense", date:dBack(34), accountId:"da2", pointed:true  },
  { id:"dt25", title:"Vacances",         amount:640,    type:"expense", date:dBack(36), accountId:"da2", pointed:true  },
].map(t => ({ ...t, pointed: t.pointed || false }));
const DEMO_SAVINGS_HISTORY = [
  { id:"dsh1", date: (() => { const d=new Date(); d.setMonth(d.getMonth()-2); d.setDate(1);  return d.toISOString().split("T")[0]; })(), available:7800,  blocked:37500, auto:true,  note:"" },
  { id:"dsh2", date: (() => { const d=new Date(); d.setMonth(d.getMonth()-2); d.setDate(15); return d.toISOString().split("T")[0]; })(), available:8100,  blocked:37500, auto:true,  note:"" },
  { id:"dsh3", date: (() => { const d=new Date(); d.setMonth(d.getMonth()-1); d.setDate(1);  return d.toISOString().split("T")[0]; })(), available:8300,  blocked:39000, auto:true,  note:"Versement PEL" },
  { id:"dsh4", date: (() => { const d=new Date(); d.setMonth(d.getMonth()-1); d.setDate(15); return d.toISOString().split("T")[0]; })(), available:8500,  blocked:39000, auto:true,  note:"" },
  { id:"dsh5", date: (() => { const d=new Date(); d.setDate(1); return d.toISOString().split("T")[0]; })(),                             available:8500,  blocked:39750, auto:true,  note:"Intrts assurance vie" },
];

//  Firebase helpers 
const fb = () => window._fb;

async function fbLoad(uid) {
  const { db, doc, getDoc } = fb();
  const ref = doc(db, "budgets", uid);
  const snap = await getDoc(ref);
  return snap.exists() ? snap.data() : null;
}

async function fbSave(uid, data) {
  const { db, doc, setDoc } = fb();
  await setDoc(doc(db, "budgets", uid), data, { merge: true });
}

//  Auth Context 
const AuthCtx   = createContext(null);
const ThemeCtx  = createContext({ theme:"dark", toggle:()=>{} });
const useTheme  = () => useContext(ThemeCtx);

//  useStore 
function useStore(uid, email) {
  const isDemo = email === DEMO_EMAIL;
  const [ready,        setReady]       = useState(false);
  const [transactions, setTx]          = useState([]);
  const [templates,    setTpl]         = useState(DEFAULT_TPL);
  const [accounts,     setAccounts]    = useState(DEFAULT_ACCOUNTS);
  const [cleanupDay,   setCleanupDay]   = useState(DEFAULT_CLEANUP_DAY);
  const [autoCleanup,  setAutoCleanup]  = useState(DEFAULT_AUTO_CLEANUP);
  const [savingsHistory,    setSavingsHistory]    = useState(DEFAULT_SAVINGS_HISTORY);
  const [savingsSnapDays,   setSavingsSnapDays]   = useState(DEFAULT_SAVINGS_SNAP_DAYS);
  const [savingsSnapActive, setSavingsSnapActive] = useState(DEFAULT_SAVINGS_SNAP_ACTIVE);
  const saveTimer = useRef(null);
  const loadedRef = useRef(false); // true once Firestore data is fully loaded

  //  Load from Firestore on mount 
  useEffect(() => {
    if (!uid) return;
    fbLoad(uid).then(data => {
      if (data) {
        setTx(        (data.transactions || SAMPLE_TX).map(t => ({ ...t, pointed: t.pointed || false })) );
        setTpl(       (() => {
            const t = data.templates;
            if (!t) return DEFAULT_TPL;
            // Migrate old format { even:{items:[]}, odd:{items:[]} }  per-account
            if (t.even || t.odd) {
              const firstCheckingId = (data.accounts||DEFAULT_ACCOUNTS).find(a=>a.type==="checking")?.id;
              return firstCheckingId ? { [firstCheckingId]: { even: t.even||{items:[]}, odd: t.odd||{items:[]} } } : DEFAULT_TPL;
            }
            return t;
          })() );
        setAccounts(  (data.accounts  || DEFAULT_ACCOUNTS).map(a => ({ ...a, balance: a.balance || 0, savingsSubtype: a.savingsSubtype || "available" })) );
        setCleanupDay(data.cleanupDay || DEFAULT_CLEANUP_DAY);
        setAutoCleanup(data.autoCleanup !== undefined ? data.autoCleanup : DEFAULT_AUTO_CLEANUP);
        setSavingsHistory(data.savingsHistory || DEFAULT_SAVINGS_HISTORY);
        setSavingsSnapDays(data.savingsSnapDays || DEFAULT_SAVINGS_SNAP_DAYS);
        setSavingsSnapActive(data.savingsSnapActive !== undefined ? data.savingsSnapActive : DEFAULT_SAVINGS_SNAP_ACTIVE);
        snapDaysRef.current   = data.savingsSnapDays   || DEFAULT_SAVINGS_SNAP_DAYS;
        snapActiveRef.current = data.savingsSnapActive !== undefined ? data.savingsSnapActive : DEFAULT_SAVINGS_SNAP_ACTIVE;
      } else {
        // First time: save sample data
        const initTx      = isDemo ? DEMO_TX      : SAMPLE_TX;
        const initAccts   = isDemo ? DEMO_ACCOUNTS : DEFAULT_ACCOUNTS;
        const initHistory = isDemo ? DEMO_SAVINGS_HISTORY : DEFAULT_SAVINGS_HISTORY;
        setTx(initTx);
        setAccounts(initAccts);
        setSavingsHistory(initHistory);
        fbSave(uid, { transactions:initTx, templates:DEFAULT_TPL, accounts:initAccts, cleanupDay:DEFAULT_CLEANUP_DAY, autoCleanup:DEFAULT_AUTO_CLEANUP, savingsHistory:initHistory, savingsSnapDays:DEFAULT_SAVINGS_SNAP_DAYS, savingsSnapActive:DEFAULT_SAVINGS_SNAP_ACTIVE });
      }
      loadedRef.current = true;
      setReady(true);
    });
  }, [uid]);

  //  Auto-save to Firestore (debounced 1s) 
  const persist = useCallback((tx, tpl, acct, cd, ac, sh, ssd, ssa) => {
    if (!uid || !ready) return;
    if (saveTimer.current) clearTimeout(saveTimer.current);
    saveTimer.current = setTimeout(() => {
      // Clean undefined values that Firestore rejects
      const cleanTx = tx.map(t => {
        const clean = {};
        Object.keys(t).forEach(k => { if (t[k] !== undefined) clean[k] = t[k]; });
        return clean;
      });
      fbSave(uid, { transactions: cleanTx, templates: tpl, accounts: acct, cleanupDay: cd, autoCleanup: ac, savingsHistory: sh, savingsSnapDays: ssd, savingsSnapActive: ssa });
    }, 1000);
  }, [uid, ready]);

  //  Auto-cleanup 
  useEffect(() => {
    if (!ready || !autoCleanup) return;
    const today = new Date();
    const currentDay = today.getDate();
    if (currentDay >= cleanupDay) {
      const currentKey = nowMKey();
      setTx(prev => {
        const filtered = prev.filter(t => mKey(t.date) >= currentKey);
        return filtered.length !== prev.length ? filtered : prev;
      });
    }
  }, [ready, autoCleanup, cleanupDay, transactions]);

  //  Persist on every state change 
  useEffect(() => { if (ready) persist(transactions, templates, accounts, cleanupDay, autoCleanup, savingsHistory, savingsSnapDays, savingsSnapActive); },
    [transactions, templates, accounts, cleanupDay, autoCleanup, savingsHistory, savingsSnapDays, savingsSnapActive, ready, persist]);

  //  Actions 
  const add    = tx  => setTx(p => [{ ...tx, id:genId(), pointed:false }, ...p]);
  const remove = id  => setTx(p => p.filter(t => t.id !== id));
  const update = (id, u) => setTx(p => p.map(t => {
    if (t.id !== id) return t;
    const updated = { ...t, ...u };
    delete updated._tpl;
    return updated;
  }));
  const togglePointed = id => setTx(p => p.map(t => t.id===id ? {...t,pointed:!t.pointed} : t));

  const addTplItem    = (accountId, parity, item) => setTpl(p => {
    const acct = p[accountId] || emptyAcctTpl();
    return { ...p, [accountId]: { ...acct, [parity]: { items: [...acct[parity].items, {...item, id:genId()}] } } };
  });
  const removeTplItem = (accountId, parity, id) => setTpl(p => {
    const acct = p[accountId] || emptyAcctTpl();
    return { ...p, [accountId]: { ...acct, [parity]: { items: acct[parity].items.filter(i=>i.id!==id) } } };
  });
  const updateTplItem = (accountId, parity, id, updates) => setTpl(p => {
    const acct = p[accountId] || emptyAcctTpl();
    return { ...p, [accountId]: { ...acct, [parity]: { items: acct[parity].items.map(i => i.id===id ? {...i,...updates} : i) } } };
  });
  const applyTemplate = (monthK, accountId) => {
    const parity = isEven(monthK) ? "even" : "odd";
    const acct   = templates[accountId] || emptyAcctTpl();
    const items  = acct[parity].items;
    if (!items.length) return;
    if (transactions.some(t => t._tpl===monthK && t.accountId===accountId)) return;
    setTx(p => [...items.map(item => {
      const day = String(item.day || 1).padStart(2, '0');
      return {...item, id:genId(), date:monthK+"-"+day, accountId, _tpl:monthK};
    }), ...p]);
  };

  const addAccount    = ()          => { if (accounts.length>=15) return; setAccounts(p=>[...p,{id:genId(),name:`Nouveau compte ${p.length+1}`,type:"checking",balance:0}]); };
  const removeAccount = id => {
    if (accounts.length<=1) return;
    setAccounts(p => p.filter(a => a.id !== id));
    setTx(p => p.filter(t => t.accountId !== id));
    setTpl(p => { const next = {...p}; delete next[id]; return next; });
    // Explicitly delete the template field in Firestore (merge:true won't delete missing fields)
    const { db, doc, setDoc, deleteField } = fb();
    setDoc(doc(db, "budgets", uid), { templates: { [id]: deleteField() } }, { merge: true });
  };
  const updateAccount = (id,updates)=> setAccounts(p=>p.map(a=>a.id===id?{...a,...updates}:a));
  const moveAccount   = (id, dir) => {
    setAccounts(p => {
      const type  = p.find(a => a.id === id)?.type;
      const group = p.filter(a => a.type === type);
      const rest  = p.filter(a => a.type !== type);
      const idx   = group.findIndex(a => a.id === id);
      const newIdx = idx + dir;
      if (newIdx < 0 || newIdx >= group.length) return p;
      const newGroup = [...group];
      [newGroup[idx], newGroup[newIdx]] = [newGroup[newIdx], newGroup[idx]];
      // Rebuild full array preserving relative positions of the other group
      return p.map(a => {
        if (a.type === type) return newGroup.shift();
        return a;
      });
    });
  };
  const updateCleanupDay  = day  => setCleanupDay(day);
  const updateAutoCleanup = val  => setAutoCleanup(val);
  const cleanupMonth  = ()    => setTx(prev => prev.filter(t => mKey(t.date) >= nowMKey()));

  //  Savings history actions 
  const addSavingsSnapshot = (entry) => setSavingsHistory(p => [{ ...entry, id: genId() }, ...p].sort((a,b) => b.date.localeCompare(a.date)));
  const updateSavingsSnapshot = (id, updates) => setSavingsHistory(p => p.map(e => e.id===id ? {...e,...updates} : e));
  const removeSavingsSnapshot = (id) => setSavingsHistory(p => p.filter(e => e.id !== id));

  const snapDaysRef   = useRef(DEFAULT_SAVINGS_SNAP_DAYS);
  const snapActiveRef = useRef(DEFAULT_SAVINGS_SNAP_ACTIVE);
  useEffect(() => { snapDaysRef.current   = savingsSnapDays;   }, [savingsSnapDays]);
  useEffect(() => { snapActiveRef.current = savingsSnapActive; }, [savingsSnapActive]);

  //  Auto-snapshot on configured days 
  // Runs once after Firestore data is fully loaded (loadedRef) to avoid
  // triggering with default values before real config is available.
  useEffect(() => {
    if (!ready || !loadedRef.current) return;
    if (!snapActiveRef.current) return;
    const savingsAccounts = accounts.filter(a => a.type === "savings");
    if (savingsAccounts.length === 0) return;

    const today = new Date();
    const d = today.getDate();
    if (!snapDaysRef.current.includes(d)) return;

    const pad = n => String(n).padStart(2, "0");
    const dateKey = `${today.getFullYear()}-${pad(today.getMonth()+1)}-${pad(d)}`;
    if (savingsHistory.some(e => e.date === dateKey)) return;

    const available = savingsAccounts.filter(a => a.savingsSubtype !== "blocked").reduce((s, a) => s + (a.balance || 0), 0);
    const blocked   = savingsAccounts.filter(a => a.savingsSubtype === "blocked").reduce((s, a) => s + (a.balance || 0), 0);
    addSavingsSnapshot({ date: dateKey, available, blocked, auto: true, note: "" });
  }, [ready]);

  return { ready, transactions, add, remove, update, togglePointed,
    templates, addTplItem, removeTplItem, updateTplItem, applyTemplate,
    accounts, addAccount, removeAccount, updateAccount, moveAccount,
    cleanupDay, updateCleanupDay, autoCleanup, updateAutoCleanup, cleanupMonth,
    savingsHistory, addSavingsSnapshot, updateSavingsSnapshot, removeSavingsSnapshot,
    savingsSnapDays, setSavingsSnapDays, savingsSnapActive, setSavingsSnapActive,
    isDemo };
}

//  Magic Word Hash (SHA-256  le mot n'apparat pas en clair) 
const DEMO_MAGIC_HASH = "eef0c396c1a2c19d3119217a759fad0d6ab57465cb9241e80277378bfd970236";

async function hashString(str) {
  const buf = await crypto.subtle.digest("SHA-256", new TextEncoder().encode(str));
  return Array.from(new Uint8Array(buf)).map(b => b.toString(16).padStart(2,"0")).join("");
}

//  Modale Mot Magique 
function MagicWordModal({ onSuccess, onClose }) {
  const [word, setWord]       = useState("");
  const [error, setError]     = useState("");
  const [shaking, setShaking] = useState(false);
  const inputRef              = React.useRef(null);

  React.useEffect(() => { setTimeout(() => inputRef.current?.focus(), 80); }, []);

  const handleCheck = async () => {
    const hash = await hashString(word.trim().toLowerCase());
    if (hash === DEMO_MAGIC_HASH) {
      onSuccess();
    } else {
      setError(" Ce n'est pas le bon mot");
      setShaking(true);
      setTimeout(() => setShaking(false), 500);
      setWord("");
    }
  };

  return (
    <div style={{
      position:"fixed", inset:0, background:"rgba(0,0,0,0.75)", backdropFilter:"blur(4px)",
      display:"flex", alignItems:"center", justifyContent:"center", zIndex:9999, padding:24
    }} onClick={e => e.target===e.currentTarget && onClose()}>
      <div style={{
        background:"var(--surface)", border:"1px solid var(--gold)",
        borderRadius:"var(--radius)", padding:32, maxWidth:360, width:"100%",
        boxShadow:"0 0 40px rgba(212,175,55,0.15)",
        animation: shaking ? "shake 0.4s ease" : "fadeInUp 0.25s ease",
      }}>
        {/* Icne */}
        <div style={{ textAlign:"center", marginBottom:20 }}>
          <div style={{
            display:"inline-flex", alignItems:"center", justifyContent:"center",
            width:64, height:64, borderRadius:"50%",
            background:"linear-gradient(135deg, #2a2208, #3d3010)",
            border:"2px solid var(--gold)", fontSize:28, marginBottom:12
          }}></div>
          <p style={{ fontFamily:"'DM Serif Display',serif", fontSize:22, color:"var(--gold)", margin:0 }}>
            Accs restreint
          </p>
          <p style={{ fontSize:13, color:"var(--text-muted)", marginTop:6, lineHeight:1.5 }}>
            Entrez le mot magique pour accder au mode dmo.
          </p>
        </div>

        {/* Champ */}
        <input
          ref={inputRef}
          type="password"
          value={word}
          onChange={e => { setWord(e.target.value); setError(""); }}
          onKeyDown={e => e.key === "Enter" && handleCheck()}
          placeholder="Mot magique"
          style={{
            width:"100%", fontSize:15, padding:"11px 14px", boxSizing:"border-box",
            background:"var(--surface2)", border:`1px solid ${error ? "var(--red)" : "var(--border)"}`,
            borderRadius:"var(--radius-sm)", color:"var(--text)", marginBottom:8,
            textAlign:"center", letterSpacing:"0.15em"
          }}
        />
        {error && <p style={{ fontSize:12, color:"var(--red)", textAlign:"center", marginBottom:8 }}>{error}</p>}

        {/* Boutons */}
        <div style={{ display:"flex", gap:10, marginTop:4 }}>
          <button onClick={onClose} style={{
            flex:1, padding:"11px", borderRadius:"var(--radius-sm)",
            background:"var(--surface2)", border:"1px solid var(--border)",
            color:"var(--text-muted)", fontSize:14, fontWeight:600, cursor:"pointer"
          }}>Annuler</button>
          <button onClick={handleCheck} style={{
            flex:2, padding:"11px", borderRadius:"var(--radius-sm)",
            background:"linear-gradient(135deg, var(--gold-light), var(--gold))",
            border:"none", color:"#0e0f13", fontSize:14, fontWeight:700, cursor:"pointer"
          }}> Entrer</button>
        </div>
      </div>

      <style>{`
        @keyframes fadeInUp {
          from { opacity:0; transform:translateY(16px); }
          to   { opacity:1; transform:translateY(0); }
        }
        @keyframes shake {
          0%,100% { transform:translateX(0); }
          20%     { transform:translateX(-8px); }
          40%     { transform:translateX(8px); }
          60%     { transform:translateX(-6px); }
          80%     { transform:translateX(6px); }
        }
      `}</style>
    </div>
  );
}

//  Login Screen 
function LoginScreen({ onLogin }) {
  const [email,       setEmail]       = useState("");
  const [password,    setPassword]    = useState("");
  const [error,       setError]       = useState("");
  const [loading,     setLoading]     = useState(false);
  const [demoLoading, setDemoLoading] = useState(false);
  const [showMagic,   setShowMagic]   = useState(false);

  const doLogin = async (credentials) => {
    const em = credentials?.email || email;
    const pw = credentials?.password || password;
    setError("");
    if (credentials) setDemoLoading(true); else setLoading(true);
    try {
      const { auth, signInWithEmailAndPassword } = fb();
      await signInWithEmailAndPassword(auth, em, pw);
    } catch (err) {
      setError("Email ou mot de passe incorrect.");
    } finally {
      setLoading(false); setDemoLoading(false);
    }
  };

  const handleSubmit  = () => doLogin();
  const handleDemo    = () => setShowMagic(true);
  const handleMagicOk = () => {
    setShowMagic(false);
    doLogin({ email: DEMO_EMAIL, password: DEMO_PASSWORD });
  };

  return (
    <>
      {showMagic && <MagicWordModal onSuccess={handleMagicOk} onClose={() => setShowMagic(false)} />}
      <div style={{ minHeight:"100vh", display:"flex", alignItems:"center", justifyContent:"center", padding:24, background:"var(--bg)" }}>
        <div style={{ width:"100%", maxWidth:380 }}>
          <div style={{ textAlign:"center", marginBottom:36 }}>
            <p style={{ fontFamily:"'DM Serif Display',serif", fontSize:38, color:"var(--gold)", letterSpacing:"-0.02em" }}>Mon Budget</p>
            <p style={{ fontSize:14, color:"var(--text-muted)", marginTop:6 }}>Connectez-vous pour accder  votre budget</p>
          </div>
          <div style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", padding:24, display:"flex", flexDirection:"column", gap:16 }}>
            <div>
              <label style={{ fontSize:11, fontWeight:600, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.07em", display:"block", marginBottom:6 }}>Email</label>
              <input type="email" value={email} onChange={e=>setEmail(e.target.value)}
                placeholder="votre@email.com" autoComplete="email"
                style={{ width:"100%", fontSize:15, padding:"10px 14px", background:"var(--surface2)", border:"1px solid var(--border)", borderRadius:"var(--radius-sm)", color:"var(--text)" }} />
            </div>
            <div>
              <label style={{ fontSize:11, fontWeight:600, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.07em", display:"block", marginBottom:6 }}>Mot de passe</label>
              <input type="password" value={password} onChange={e=>setPassword(e.target.value)}
                placeholder="" autoComplete="current-password"
                onKeyDown={e=>e.key==="Enter"&&handleSubmit()}
                style={{ width:"100%", fontSize:15, padding:"10px 14px", background:"var(--surface2)", border:"1px solid var(--border)", borderRadius:"var(--radius-sm)", color:"var(--text)" }} />
            </div>
            {error && <p style={{ fontSize:13, color:"var(--red)", textAlign:"center" }}>{error}</p>}
            <button onClick={handleSubmit} disabled={loading || demoLoading} style={{
              padding:"13px", borderRadius:"var(--radius-sm)",
              background: loading ? "var(--surface3)" : "linear-gradient(135deg, var(--gold-light), var(--gold))",
              border:"none", color:"#0e0f13", fontSize:15, fontWeight:700,
              opacity: loading ? 0.7 : 1,
            }}>
              {loading ? "Connexion" : "Se connecter"}
            </button>

            {/* Separator */}
            <div style={{ display:"flex", alignItems:"center", gap:10 }}>
              <div style={{ flex:1, height:1, background:"var(--border)" }} />
              <span style={{ fontSize:11, color:"var(--text-sub)", fontWeight:500 }}>ou</span>
              <div style={{ flex:1, height:1, background:"var(--border)" }} />
            </div>

            {/* Demo button */}
            <button onClick={handleDemo} disabled={loading || demoLoading} style={{
              padding:"12px", borderRadius:"var(--radius-sm)",
              background:"var(--surface2)", border:"1px solid var(--border)",
              color:"var(--text-muted)", fontSize:14, fontWeight:600,
              opacity: demoLoading ? 0.7 : 1, display:"flex", alignItems:"center", justifyContent:"center", gap:8
            }}>
              <span style={{ fontSize:16 }}></span>
              {demoLoading ? "Chargement" : "Voir la dmo"}
            </button>
          </div>
        </div>
      </div>
    </>
  );
}

//  Loading Screen 
function LoadingScreen() {
  return (
    <div style={{ minHeight:"100vh", display:"flex", flexDirection:"column", alignItems:"center", justifyContent:"center", gap:16, background:"var(--bg)" }}>
      <div className="spinner" style={{ width:36, height:36, border:"3px solid var(--border2)", borderTopColor:"var(--gold)", borderRadius:"50%" }} />
      <p style={{ fontSize:14, color:"var(--text-muted)" }}>Chargement</p>
    </div>
  );
}

//  App 
function App() {
  const [user,       setUser]    = useState(undefined); // undefined = checking, null = not logged in
  const [tab,        setTab]     = useState("dashboard");
  const [showForm,   setForm]    = useState(false);
  const [formAccount,setFormAcc] = useState(null);
  const [theme,      setTheme]   = useState(() => localStorage.getItem("budget_theme") || "dark");

  const store = useStore(user?.uid, user?.email);

  const INACTIVITY_LIMIT = (user?.email === DEMO_EMAIL ? 15 * 60 : 8 * 60 * 60) * 1000; // 15min demo, 8h normal
  const ACTIVITY_KEY     = "budget_last_activity";

  // Update last activity timestamp on any user interaction
  useEffect(() => {
    const touch = () => localStorage.setItem(ACTIVITY_KEY, Date.now().toString());
    const events = ["mousedown", "keydown", "touchstart", "scroll", "click"];
    events.forEach(e => window.addEventListener(e, touch, { passive: true }));
    return () => events.forEach(e => window.removeEventListener(e, touch));
  }, []);

  useEffect(() => {
    const { auth, onAuthStateChanged, signOut } = fb();
    return onAuthStateChanged(auth, async u => {
      if (u) {
        // Check inactivity on auth state change (app open / tab focus)
        const last = parseInt(localStorage.getItem(ACTIVITY_KEY) || "0", 10);
        const elapsed = Date.now() - last;
        if (last > 0 && elapsed > INACTIVITY_LIMIT) {
          await signOut(auth);
          localStorage.removeItem(ACTIVITY_KEY);
          return;
        }
        // Record activity on fresh login
        if (!last) localStorage.setItem(ACTIVITY_KEY, Date.now().toString());
      } else {
        localStorage.removeItem(ACTIVITY_KEY);
      }
      setUser(u || null);
    });
  }, []);

  // Also check inactivity when tab regains focus (fixes iOS Safari background freeze)
  useEffect(() => {
    const checkInactivity = async () => {
      if (!user) return;
      try {
        const last = parseInt(localStorage.getItem(ACTIVITY_KEY) || "0", 10);
        if (last > 0 && Date.now() - last > INACTIVITY_LIMIT) {
          const { auth, signOut } = fb();
          await signOut(auth);
          localStorage.removeItem(ACTIVITY_KEY);
        }
      } catch (e) {
        // localStorage may be blocked in iOS private mode  ignore silently
      }
    };

    // iOS Safari: visibilitychange is the most reliable event when returning from background
    const onVisibilityChange = () => {
      if (document.visibilityState === "visible") checkInactivity();
    };

    // Fallback for desktop browsers
    const onFocus = () => checkInactivity();

    // pageshow fires on iOS when navigating back (bfcache restore)  critical for iOS
    const onPageShow = (e) => {
      // e.persisted = true means page was restored from bfcache (common on iOS)
      if (e.persisted) checkInactivity();
    };

    window.addEventListener("focus", onFocus);
    window.addEventListener("pageshow", onPageShow);
    document.addEventListener("visibilitychange", onVisibilityChange);

    return () => {
      window.removeEventListener("focus", onFocus);
      window.removeEventListener("pageshow", onPageShow);
      document.removeEventListener("visibilitychange", onVisibilityChange);
    };
  }, [user, INACTIVITY_LIMIT]);

  useEffect(() => {
    document.documentElement.setAttribute("data-theme", theme);
    localStorage.setItem("budget_theme", theme);
  }, [theme]);

  if (user === undefined) return <LoadingScreen />;
  if (user === null)      return (
    <ThemeCtx.Provider value={{ theme, toggle:()=>setTheme(t=>t==="dark"?"light":"dark") }}>
      <LoginScreen />
    </ThemeCtx.Provider>
  );

  if (!store.ready) return <LoadingScreen />;

  const handleOpenForm = (account=null) => { setFormAcc(account); setForm(true); };

  return (
    <ThemeCtx.Provider value={{ theme, toggle:()=>setTheme(t=>t==="dark"?"light":"dark") }}>
      <div style={{ display:"flex", flexDirection:"column", height:"100vh", maxWidth:480, margin:"0 auto", background:"var(--bg)", transition:"background 0.3s" }}>
        {store.isDemo && (
          <div style={{ background:"linear-gradient(90deg,#c9a84c,#e8c96a)", padding:"8px 16px", display:"flex", alignItems:"center", justifyContent:"center", gap:8, zIndex:50 }}>
            <span style={{ fontSize:14 }}></span>
            <p style={{ fontSize:12, fontWeight:700, color:"#0e0f13", letterSpacing:"0.04em" }}>MODE DMO  Les modifications sont visibles par tous les visiteurs</p>
          </div>
        )}
        <div style={{ flex:1, overflowY:"auto", paddingBottom:80 }}>
          {tab==="dashboard"     && <Dashboard    store={store} onAdd={handleOpenForm} onGoSavings={()=>setTab("savingsStats")} />}
          {tab==="transactions"  && <Transactions store={store} onAdd={handleOpenForm} />}
          {tab==="settings"      && <Settings     store={store} user={user} />}
          {tab==="savingsStats"  && <SavingsStats store={store} onBack={()=>setTab("dashboard")} />}
        </div>
        <TabBar tab={tab} setTab={setTab} />
        {showForm && <FormModal store={store} account={formAccount} onClose={()=>setForm(false)} />}
      </div>
    </ThemeCtx.Provider>
  );
}

//  TabBar 
function TabBar({ tab, setTab }) {
  const tabs = [
    { id:"dashboard",    icon:"", label:"Tableau"    },
    { id:"transactions", icon:"", label:"Historique" },
    { id:"settings",     icon:"", label:"Rglages"   },
  ];
  return (
    <div style={{ position:"fixed", bottom:0, left:"50%", transform:"translateX(-50%)", width:"100%", maxWidth:480, background:"var(--tab-bg)", backdropFilter:"blur(20px)", borderTop:"1px solid var(--border)", display:"flex", justifyContent:"space-around", padding:"10px 0 16px", zIndex:100 }}>
      {tabs.map(t => (
        <button key={t.id} onClick={()=>setTab(t.id)} style={{ display:"flex", flexDirection:"column", alignItems:"center", gap:3, background:"none", border:"none", padding:"4px 16px", color:tab===t.id?"var(--gold)":"var(--text-sub)", transition:"color 0.2s" }}>
          <span style={{ fontSize:20, lineHeight:1 }}>{t.icon}</span>
          <span style={{ fontSize:10, fontWeight:500, letterSpacing:"0.04em" }}>{t.label}</span>
        </button>
      ))}
    </div>
  );
}

//  PageHeader 
function PageHeader({ title, onAdd, children }) {
  return (
    <div style={{ background:"var(--header-bg)", padding:"16px 20px 18px", borderBottom:"1px solid var(--border)" }}>
      <p style={{ fontFamily:"'DM Serif Display',serif", fontSize:28, letterSpacing:"-0.02em", color:"var(--header-text)", marginBottom:children?14:0 }}>{title}</p>
      {onAdd && !children && (
        <button onClick={onAdd}
          style={{ display:"flex", alignItems:"center", gap:6, padding:"7px 14px", borderRadius:20,
            background:"var(--gold-dim)", border:"1px solid var(--gold)",
            color:"var(--gold)", fontSize:13, fontWeight:600, marginTop:12 }}>
          <span style={{ fontSize:16, lineHeight:1 }}></span> Ajouter
        </button>
      )}
      {children && (
        <div style={{ display:"flex", alignItems:"center", gap:8 }}>
          <div style={{ flex:1 }}>{children}</div>
          {onAdd && (
            <button onClick={onAdd}
              style={{ display:"flex", alignItems:"center", gap:6, padding:"7px 14px", borderRadius:20,
                background:"var(--gold-dim)", border:"1px solid var(--gold)",
                color:"var(--gold)", fontSize:13, fontWeight:600, flexShrink:0, alignSelf:"flex-end" }}>
              <span style={{ fontSize:16, lineHeight:1 }}></span> Ajouter
            </button>
          )}
        </div>
      )}
    </div>
  );
}

//  MonthTabs 
function MonthTabs({ months, selected, onSelect }) {
  return (
    <div style={{ display:"flex", gap:6, overflowX:"auto", paddingBottom:2 }}>
      {months.map(m => (
        <button key={m} onClick={()=>onSelect(m)} style={{ flexShrink:0, padding:"5px 13px", borderRadius:20, border:"1px solid", borderColor:selected===m?"var(--gold)":"var(--header-btn-border)", background:selected===m?"rgba(201,168,76,0.2)":"var(--header-btn-bg)", color:selected===m?"#e8c96a":"var(--header-muted)", fontSize:13, fontWeight:500, transition:"all 0.2s" }}>
          {new Date(m+"-02").toLocaleDateString("fr-FR",{month:"short",year:"2-digit"})}
        </button>
      ))}
    </div>
  );
}

//  TxRow 
function TxRow({ tx, deletable, onDelete, onEdit, onTogglePointed, clicked, onToggleClicked, delay=0 }) {
  const handleTogglePointed = (e) => {
    e.stopPropagation();
    onTogglePointed();
    onToggleClicked && onToggleClicked(null);
  };
  return (
    <div className="slide-in" onClick={()=>deletable&&onToggleClicked&&onToggleClicked(tx.id)}
      style={{ display:"flex", alignItems:"center", gap:12, padding:"12px 16px", background:clicked?"rgba(128,128,128,0.04)":"transparent", transition:"background 0.15s", animationDelay:`${delay}s`, cursor:deletable?"pointer":"default" }}>
      <div style={{ width:38,height:38, borderRadius:10, flexShrink:0, background:tx.type==="expense"?"var(--red-dim)":"var(--green-dim)", display:"flex", alignItems:"center", justifyContent:"center", fontSize:18, position:"relative" }}>
        {tx.type==="expense"?"":""}
        {tx.pointed && <div style={{ position:"absolute", top:-2, right:-2, width:14, height:14, borderRadius:"50%", background:"var(--gold)", display:"flex", alignItems:"center", justifyContent:"center", fontSize:10, border:"2px solid var(--bg)" }}></div>}
      </div>
      <div style={{ flex:1, minWidth:0 }}>
        <p style={{ fontSize:14, fontWeight:500, whiteSpace:"nowrap", overflow:"hidden", textOverflow:"ellipsis" }}>
          {tx.title}
          {tx._tpl && !tx.pointed && <span style={{ marginLeft:6, fontSize:10, color:"var(--gold)", background:"var(--gold-dim)", padding:"1px 5px", borderRadius:4, fontWeight:600 }}>modle</span>}
        </p>
        <p style={{ fontSize:11, color:"var(--text-sub)", marginTop:1 }}>{fmtDate(tx.date)}</p>
      </div>
      <p style={{ fontSize:15, fontWeight:700, flexShrink:0, color:tx.type==="expense"?"var(--red)":"var(--green)" }}>
        {tx.type==="expense"?"":"+"}{fmtEur(tx.amount)}
      </p>
      {deletable && clicked && (
        <>
          {onTogglePointed && <button onClick={handleTogglePointed} style={{ background:tx.pointed?"var(--gold)":"var(--gold-dim)", border:"none", borderRadius:8, width:28,height:28, display:"flex", alignItems:"center", justifyContent:"center", color:tx.pointed?"#0e0f13":"var(--gold)", fontSize:14, flexShrink:0, fontWeight:700 }}></button>}
          {onEdit          && <button onClick={e=>{e.stopPropagation();onEdit();}}   style={{ background:"var(--gold-dim)", border:"none", borderRadius:8, width:28,height:28, display:"flex", alignItems:"center", justifyContent:"center", color:"var(--gold)", fontSize:14, flexShrink:0 }}></button>}
          <button onClick={e=>{e.stopPropagation();onDelete();}} style={{ background:"var(--red-dim)", border:"none", borderRadius:8, width:28,height:28, display:"flex", alignItems:"center", justifyContent:"center", color:"var(--red)", fontSize:14, flexShrink:0 }}></button>
        </>
      )}
    </div>
  );
}

//  DeleteModal 
function DeleteModal({ tx, onCancel, onConfirm }) {
  return (
    <div style={{ position:"fixed", inset:0, zIndex:200, background:"rgba(0,0,0,0.7)", backdropFilter:"blur(6px)", display:"flex", alignItems:"center", justifyContent:"center", padding:20 }}
      onClick={e=>e.target===e.currentTarget&&onCancel()}>
      <div className="scale-in" style={{ width:"100%", maxWidth:400, background:"var(--surface)", borderRadius:"var(--radius)", border:"1px solid var(--border)", padding:24 }}>
        <p style={{ fontSize:18, fontWeight:600, marginBottom:12 }}>Supprimer la transaction</p>
        <p style={{ fontSize:14, color:"var(--text-muted)", marginBottom:20, lineHeight:1.6 }}>
          Voulez-vous vraiment supprimer  {tx.title}  ({fmtEur(tx.amount)}) ?
        </p>
        <div style={{ display:"flex", gap:10 }}>
          <button onClick={onCancel} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--surface2)", border:"1px solid var(--border)", color:"var(--text)", fontSize:14, fontWeight:600 }}>Annuler</button>
          <button onClick={onConfirm} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--red)", border:"none", color:"#fff", fontSize:14, fontWeight:600 }}>Supprimer</button>
        </div>
      </div>
    </div>
  );
}

//  Dashboard 
function SavingsBalanceRow({ account, balance, store }) {
  const [editing, setEditing] = useState(false);
  const [draft,   setDraft]   = useState("");
  const inputRef = useRef(null);

  const startEdit = () => {
    setDraft((account.balance || 0).toString());
    setEditing(true);
    setTimeout(() => { inputRef.current?.select(); }, 0);
  };

  const commit = () => {
    const val = parseFloat(draft.replace(",", "."));
    if (!isNaN(val)) store.updateAccount(account.id, { balance: val });
    setEditing(false);
  };

  const onKeyDown = (e) => {
    if (e.key === "Enter")  commit();
    if (e.key === "Escape") setEditing(false);
  };

  return (
    <div style={{ display:"flex", justifyContent:"space-between", alignItems:"center", padding:"10px 12px", background:"var(--surface2)", borderRadius:"var(--radius-sm)" }}>
      <div style={{ display:"flex", alignItems:"center", gap:8 }}>
        <span style={{ fontSize:13, fontWeight:500 }}>{account.name}</span>
        <span style={{ fontSize:10, fontWeight:600, padding:"2px 6px", borderRadius:6, background:account.savingsSubtype==="blocked"?"var(--red-dim)":"var(--green-dim)", color:account.savingsSubtype==="blocked"?"var(--red)":"var(--green)" }}>
          {account.savingsSubtype==="blocked"?" Bloque":" Disponible"}
        </span>
      </div>
      {editing ? (
        <div style={{ display:"flex", alignItems:"center", gap:6 }}>
          <input ref={inputRef} type="number" step="0.01" value={draft} onChange={e=>setDraft(e.target.value)} onBlur={commit} onKeyDown={onKeyDown}
            inputMode="decimal"
            style={{ width:110, fontSize:14, fontWeight:700, fontFamily:"'DM Serif Display',serif", textAlign:"right",
              padding:"3px 8px", borderRadius:6, border:"1px solid var(--gold)", background:"var(--bg)", color:"var(--gold)",
              outline:"none" }} />
          <button onMouseDown={e=>{e.preventDefault();commit();}}
            style={{ background:"var(--gold-dim)", border:"none", borderRadius:6, width:24, height:24, color:"var(--gold)", fontSize:13, flexShrink:0, cursor:"pointer" }}></button>
        </div>
      ) : (
        <span onClick={startEdit} title="Cliquer pour modifier"
          style={{ fontSize:14, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:balance>=0?"var(--green)":"var(--red)",
            cursor:"pointer", borderBottom:"1px dashed", borderColor:"transparent",
            transition:"border-color 0.15s" }}
          onMouseEnter={e=>e.currentTarget.style.borderColor="currentColor"}
          onMouseLeave={e=>e.currentTarget.style.borderColor="transparent"}>
          {fmtEur(balance)}
        </span>
      )}
    </div>
  );
}

function Dashboard({ store, onAdd, onGoSavings }) {
  const [sel,              setSel]            = useState(nowMKey());
  const [selectedAccountId,setSelectedAccount] = useState("all");
  const [editingTx,        setEditingTx]      = useState(null);
  const [deletingTx,       setDeletingTx]     = useState(null);
  const [clickedTxId,      setClickedTxId]    = useState(null);

  const months = useMemo(() => {
    const today = new Date();
    const Y = today.getFullYear(), M = today.getMonth(), D = today.getDate();
    const fmt = (y,m) => `${y}-${String(m+1).padStart(2,'0')}`;
    const result = [];
    if (!store.autoCleanup || D < store.cleanupDay) {
      const pm = M===0?11:M-1, py = M===0?Y-1:Y;
      const pk = fmt(py,pm);
      if (store.transactions.some(t=>mKey(t.date)===pk)) result.push(pk);
    }
    result.push(fmt(Y,M));
    const m1=M===11?0:M+1, y1=M===11?Y+1:Y;
    result.push(fmt(y1,m1));
    const m2=m1===11?0:m1+1, y2=m1===11?y1+1:y1;
    result.push(fmt(y2,m2));
    return result;
  }, [store.cleanupDay, store.autoCleanup, store.transactions.length]);

  const txM = store.transactions.filter(t => mKey(t.date)===sel && (selectedAccountId==="all"||t.accountId===selectedAccountId));
  const income = txM.filter(t=>t.type==="income").reduce((s,t)=>s+t.amount,0);
  const expns  = txM.filter(t=>t.type==="expense").reduce((s,t)=>s+t.amount,0);
  const balance = income - expns;

  const accountBalances = useMemo(() => {
    if (selectedAccountId!=="all") return { checking:[], savings:[] };
    const checking=[], savings=[];
    store.accounts.forEach(acc => {
      if (acc.type==="checking") {
        const at=store.transactions.filter(t=>mKey(t.date)===sel&&t.accountId===acc.id);
        const inc=at.filter(t=>t.type==="income").reduce((s,t)=>s+t.amount,0);
        const exp=at.filter(t=>t.type==="expense").reduce((s,t)=>s+t.amount,0);
        checking.push({account:acc,balance:inc-exp});
      } else {
        savings.push({account:acc,balance:acc.balance||0});
      }
    });
    return {checking,savings};
  }, [store.transactions,store.accounts,sel,selectedAccountId]);

  const checkingBalance = accountBalances.checking.reduce((s,a)=>s+a.balance,0);
  const savingsBalance  = accountBalances.savings.reduce((s,a)=>s+a.balance,0);
  const parity   = isEven(sel) ? "even" : "odd";
  const acctTpl  = (store.templates[selectedAccountId] || emptyAcctTpl());
  const hasTpl   = acctTpl[parity].items.length > 0;
  const applied  = selectedAccountId!=="all" && store.transactions.some(t=>t._tpl===sel&&t.accountId===selectedAccountId);
  const selAcct  = store.accounts.find(a=>a.id===selectedAccountId);
  const isSavings = selAcct?.type==="savings";

  return (
    <div>
      <PageHeader title="Mon Budget"><MonthTabs months={months} selected={sel} onSelect={setSel} /></PageHeader>
      <div style={{ padding:"16px", display:"flex", flexDirection:"column", gap:14 }}>

        {/* Account tabs */}
        <div style={{ display:"flex", gap:6, overflowX:"auto", paddingBottom:2 }}>
          <button onClick={()=>setSelectedAccount("all")} style={{ flexShrink:0, padding:"6px 14px", borderRadius:20, border:"1px solid", borderColor:selectedAccountId==="all"?"var(--gold)":"var(--border)", background:selectedAccountId==="all"?"var(--gold-dim)":"var(--surface2)", color:selectedAccountId==="all"?"var(--gold)":"var(--text-muted)", fontSize:13, fontWeight:600, transition:"all 0.2s" }}> Tous les comptes</button>
          {store.accounts.filter(a=>a.type==="checking").map(acc=>(
            <button key={acc.id} onClick={()=>setSelectedAccount(acc.id)} style={{ flexShrink:0, padding:"6px 14px", borderRadius:20, border:"1px solid", borderColor:selectedAccountId===acc.id?"var(--gold)":"var(--border)", background:selectedAccountId===acc.id?"var(--gold-dim)":"var(--surface2)", color:selectedAccountId===acc.id?"var(--gold)":"var(--text-muted)", fontSize:13, fontWeight:600, transition:"all 0.2s" }}> {acc.name}</button>
          ))}
        </div>

        {/* Parity + template */}
        {selectedAccountId!=="all" && !isSavings && (
          <div style={{ display:"flex", alignItems:"center", gap:8, flexWrap:"wrap" }}>
            <span style={{ fontSize:11, fontWeight:600, padding:"3px 10px", borderRadius:20, background:isEven(sel)?"var(--gold-dim)":"var(--green-dim)", color:isEven(sel)?"var(--gold)":"var(--green)", border:`1px solid ${isEven(sel)?"var(--gold)":"var(--green)"}` }}>Mois {isEven(sel)?"pair":"impair"}</span>
            {hasTpl && !applied && <button onClick={()=>store.applyTemplate(sel,selectedAccountId)} style={{ fontSize:11, fontWeight:600, padding:"3px 10px", borderRadius:20, background:"var(--gold-dim)", border:"1px solid var(--gold)", color:"var(--gold)" }}> Appliquer le modle</button>}
            {applied && <span style={{ fontSize:11, color:"var(--text-sub)" }}> Modle appliqu</span>}
          </div>
        )}

        {/* Balance card (individual account) */}
        {selectedAccountId!=="all" && (
          <div className="fade-up" style={{ background:balance>=0?"linear-gradient(135deg,#1e2a1e,#162216)":"linear-gradient(135deg,#2a1e1e,#221616)", border:`1px solid ${balance>=0?"rgba(76,175,130,0.3)":"rgba(224,92,92,0.3)"}`, borderRadius:"var(--radius)", padding:"16px", position:"relative", overflow:"hidden" }}>
            <div style={{ position:"absolute", top:-15, right:-15, width:80, height:80, borderRadius:"50%", background:balance>=0?"rgba(76,175,130,0.06)":"rgba(224,92,92,0.06)" }} />
            <p style={{ fontSize:11, fontWeight:500, color:"rgba(240,236,228,0.5)", letterSpacing:"0.08em", textTransform:"uppercase", marginBottom:6 }}>Solde {selAcct?.name||""}</p>
            <p style={{ fontFamily:"'DM Serif Display',serif", fontSize:28, color:balance>=0?"#4caf82":"#e05c5c", letterSpacing:"-0.02em" }}>{fmtEur(balance)}</p>
          </div>
        )}

        {/* All accounts breakdown */}
        {selectedAccountId==="all" && (accountBalances.checking.length>0||accountBalances.savings.length>0) && (
          <div className="fade-up" style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", padding:16, animationDelay:"0.05s" }}>
            {accountBalances.checking.length>0 && <>
              <div style={{ display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:12 }}>
                <div style={{ display:"flex", alignItems:"center", gap:10 }}><span style={{ fontSize:24 }}></span><p style={{ fontSize:14, fontWeight:600, color:"var(--text)", letterSpacing:"0.04em", textTransform:"uppercase" }}>Comptes courants</p></div>
                <p style={{ fontSize:22, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:checkingBalance>=0?"var(--green)":"var(--red)" }}>{fmtEur(checkingBalance)}</p>
              </div>
              <div style={{ display:"flex", flexDirection:"column", gap:8, marginBottom:accountBalances.savings.length>0?16:0 }}>
                {accountBalances.checking.map(({account,balance})=>(
                  <div key={account.id} style={{ display:"flex", justifyContent:"space-between", alignItems:"center", padding:"10px 12px", background:"var(--surface2)", borderRadius:"var(--radius-sm)" }}>
                    <span style={{ fontSize:13, fontWeight:500 }}>{account.name}</span>
                    <span style={{ fontSize:14, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:balance>=0?"var(--green)":"var(--red)" }}>{fmtEur(balance)}</span>
                  </div>
                ))}
              </div>
            </>}
            {accountBalances.savings.length>0 && <>
              <div style={{ display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:12 }}>
                <div style={{ display:"flex", alignItems:"center", gap:10 }}><span style={{ fontSize:24 }}></span><p style={{ fontSize:14, fontWeight:600, color:"var(--text)", letterSpacing:"0.04em", textTransform:"uppercase" }}>Comptes pargne</p></div>
                <div style={{ display:"flex", alignItems:"center", gap:8 }}>
                  <p style={{ fontSize:22, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:savingsBalance>=0?"var(--green)":"var(--red)" }}>{fmtEur(savingsBalance)}</p>
                  <button onClick={onGoSavings} style={{ padding:"5px 10px", borderRadius:8, background:"var(--gold-dim)", border:"1px solid var(--gold)", color:"var(--gold)", fontSize:11, fontWeight:700, whiteSpace:"nowrap", flexShrink:0 }}> Stats</button>
                </div>
              </div>
              <div style={{ display:"flex", flexDirection:"column", gap:8 }}>
                {accountBalances.savings.map(({account,balance})=>(
                  <SavingsBalanceRow key={account.id} account={account} balance={balance} store={store} />
                ))}
              </div>
            </>}
          </div>
        )}

        {/* Income / Expense */}
        <div className="fade-up" style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:10 }}>
          {[{label:"Revenus",val:income,color:"var(--green)",bg:"var(--green-dim)",icon:""},{label:"Dpenses",val:expns,color:"var(--red)",bg:"var(--red-dim)",icon:""}].map(c=>(
            <div key={c.label} style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", padding:"16px" }}>
              <div style={{ display:"flex", alignItems:"center", gap:6, marginBottom:8 }}>
                <span style={{ width:26,height:26, borderRadius:8, background:c.bg, display:"flex", alignItems:"center", justifyContent:"center", fontSize:14, color:c.color, fontWeight:700 }}>{c.icon}</span>
                <span style={{ fontSize:12, color:"var(--text-muted)", fontWeight:500 }}>{c.label}</span>
              </div>
              <p style={{ fontFamily:"'DM Serif Display',serif", fontSize:22, color:c.color }}>{fmtEur(c.val)}</p>
            </div>
          ))}
        </div>

        {/* Recent */}
        <div className="fade-up">
          <div style={{ display:"flex", alignItems:"center", justifyContent:"space-between", marginBottom:10 }}>
            <p style={{ fontSize:11, fontWeight:600, color:"var(--text-sub)", letterSpacing:"0.06em", textTransform:"uppercase" }}>Rcents</p>
            <button onClick={()=>onAdd(null)} style={{ background:"none", border:"none", color:"var(--gold)", fontSize:13, fontWeight:600, padding:0, cursor:"pointer" }}>+ Ajouter</button>
          </div>
          {txM.length===0 ? <EmptyState text="Aucune transaction ce mois-ci" />
            : <div style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", overflow:"hidden" }}>
                {txM.slice(0,5).map((tx,i)=>(
                  <div key={tx.id}>
                    {i>0&&<div style={{ height:1, background:"var(--border)", margin:"0 16px" }} />}
                    <TxRow tx={tx} deletable clicked={clickedTxId===tx.id} onToggleClicked={id=>setClickedTxId(clickedTxId===id?null:id)} onDelete={()=>setDeletingTx(tx)} onEdit={()=>setEditingTx(tx)} onTogglePointed={()=>store.togglePointed(tx.id)} delay={i*0.04} />
                  </div>
                ))}
              </div>}
        </div>
      </div>

      {editingTx && <FormModal store={store} transaction={editingTx} onClose={()=>setEditingTx(null)} />}
      {deletingTx && <DeleteModal tx={deletingTx} onCancel={()=>setDeletingTx(null)} onConfirm={()=>{store.remove(deletingTx.id);setDeletingTx(null);}} />}
    </div>
  );
}

//  Transactions 
function Transactions({ store, onAdd }) {
  const [search,       setSearch]      = useState("");
  const [filterType,   setFilter]      = useState("all");
  const [editingTx,    setEditingTx]   = useState(null);
  const [deletingTx,   setDeletingTx]  = useState(null);
  const [clickedTxId,  setClickedTxId] = useState(null);

  const filtered = useMemo(()=>store.transactions.filter(t=>{
    const ms=t.title.toLowerCase().includes(search.toLowerCase());
    return ms&&(filterType==="all"||t.type===filterType);
  }),[store.transactions,search,filterType]);

  const grouped = useMemo(()=>{
    const map={};
    filtered.forEach(tx=>{if(!map[tx.date])map[tx.date]=[];map[tx.date].push(tx);});
    return Object.entries(map).sort((a,b)=>b[0].localeCompare(a[0]));
  },[filtered]);

  return (
    <div>
      <PageHeader title="Transactions" onAdd={()=>onAdd(null)}>
        <div style={{ display:"flex", alignItems:"center", gap:8, background:"var(--header-input-bg)", border:"1px solid var(--header-input-border)", borderRadius:"var(--radius-sm)", padding:"9px 14px", marginBottom:12 }}>
          <span style={{ color:"var(--header-muted)", fontSize:16 }}></span>
          <input value={search} onChange={e=>setSearch(e.target.value)} placeholder="Rechercher" style={{ flex:1, fontSize:14, color:"var(--header-text)" }} />
        </div>
        <div style={{ display:"flex", gap:6 }}>
          {[["all","Tout"],["expense","Dpenses"],["income","Revenus"]].map(([v,l])=>(
            <button key={v} onClick={()=>setFilter(v)} style={{ padding:"5px 13px", borderRadius:20, border:"1px solid", borderColor:filterType===v?"var(--gold)":"var(--header-btn-border)", background:filterType===v?"rgba(201,168,76,0.2)":"var(--header-btn-bg)", color:filterType===v?"#e8c96a":"var(--header-muted)", fontSize:12, fontWeight:500, transition:"all 0.2s" }}>{l}</button>
          ))}
        </div>
      </PageHeader>
      <div style={{ padding:"12px 16px 16px" }}>
        {grouped.length===0 ? <EmptyState text="Aucune transaction trouve" />
          : grouped.map(([date,txs])=>(
            <div key={date} className="slide-in">
              <p style={{ fontSize:11, fontWeight:600, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.08em", margin:"14px 0 6px 4px" }}>{fmtDate(date)}</p>
              <div style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", overflow:"hidden" }}>
                {txs.map((tx,i)=>(
                  <div key={tx.id}>
                    {i>0&&<div style={{ height:1, background:"var(--border)", margin:"0 16px" }} />}
                    <TxRow tx={tx} deletable clicked={clickedTxId===tx.id} onToggleClicked={id=>setClickedTxId(clickedTxId===id?null:id)} onDelete={()=>setDeletingTx(tx)} onEdit={()=>setEditingTx(tx)} onTogglePointed={()=>store.togglePointed(tx.id)} />
                  </div>
                ))}
              </div>
            </div>
          ))}
      </div>
      {editingTx  && <FormModal store={store} transaction={editingTx} onClose={()=>setEditingTx(null)} />}
      {deletingTx && <DeleteModal tx={deletingTx} onCancel={()=>setDeletingTx(null)} onConfirm={()=>{store.remove(deletingTx.id);setDeletingTx(null);}} />}
    </div>
  );
}

//  Settings 
function Settings({ store, user }) {
  const { theme, toggle } = useTheme();
  const checkingAccounts = store.accounts.filter(a => a.type === "checking");
  const [activeParity,       setParity]          = useState("even");
  const [activeAccountId,    setActiveAccountId] = useState(() => checkingAccounts[0]?.id || "");
  const [showAdd,            setShowAdd]          = useState(false);
  const [editingTplItem,     setEditingTplItem]   = useState(null);
  const [editingAccounts,    setEditingAccounts]  = useState(false);
  const [showCleanupConfirm, setShowCleanupConfirm] = useState(false);
  const [cleanupMessage,     setCleanupMessage]   = useState("");

  // Keep activeAccountId in sync if accounts change
  React.useEffect(() => {
    if (!checkingAccounts.find(a => a.id === activeAccountId) && checkingAccounts.length > 0) {
      setActiveAccountId(checkingAccounts[0].id);
    }
  }, [store.accounts]);

  const acctTpl     = (store.templates[activeAccountId] || emptyAcctTpl());
  const tpl         = acctTpl[activeParity];
  const totalIncome = tpl.items.filter(i=>i.type==="income").reduce((s,i)=>s+i.amount,0);
  const totalExpense= tpl.items.filter(i=>i.type==="expense").reduce((s,i)=>s+i.amount,0);

  const handleCleanupClick = () => {
    const currentKey = nowMKey();
    const count = store.transactions.filter(t => mKey(t.date) < currentKey).length;
    const currentName = new Date().toLocaleDateString("fr-FR", { month:"long", year:"numeric" });
    setCleanupMessage(count === 0 ? `Aucune transaction antrieure  ${currentName}.` : `Supprimer ${count} transaction(s) antrieure(s)  ${currentName} ?`);
    setShowCleanupConfirm(true);
  };

  const confirmCleanup = () => {
    store.cleanupMonth();
    setShowCleanupConfirm(false);
  };

  const handleLogout = async () => {
    const { auth, signOut } = fb();
    localStorage.removeItem("budget_last_activity");
    await signOut(auth);
  };

  const [resetting, setResetting] = useState(false);
  const handleDemoReset = async () => {
    if (!window.confirm("Rinitialiser les donnes dmo ? Toutes les modifications seront perdues.")) return;
    setResetting(true);
    try {
      const uid = user.uid;
      await fbSave(uid, {
        transactions: DEMO_TX,
        templates: DEFAULT_TPL,
        accounts: DEMO_ACCOUNTS,
        cleanupDay: DEFAULT_CLEANUP_DAY,
        autoCleanup: DEFAULT_AUTO_CLEANUP,
        savingsHistory: DEMO_SAVINGS_HISTORY,
        savingsSnapDays: DEFAULT_SAVINGS_SNAP_DAYS,
        savingsSnapActive: DEFAULT_SAVINGS_SNAP_ACTIVE,
      });
      // Reload page to reinitialize store state cleanly
      window.location.reload();
    } catch(e) {
      alert("Erreur lors de la rinitialisation.");
      setResetting(false);
    }
  };

  return (
    <div>
      <PageHeader title="Rglages" />
      <div style={{ padding:"16px", display:"flex", flexDirection:"column", gap:20 }}>

        {/* Apparence */}
        <Section title="Apparence" icon="">
          <div style={{ display:"flex", justifyContent:"space-between", alignItems:"center", padding:"14px 16px" }}>
            <div style={{ display:"flex", alignItems:"center", gap:10 }}>
              <span style={{ fontSize:22 }}>{theme==="dark"?"":""}</span>
              <div>
                <p style={{ fontSize:14, fontWeight:500 }}>{theme==="dark"?"Mode sombre":"Mode clair"}</p>
                <p style={{ fontSize:12, color:"var(--text-muted)" }}>Thme de l'interface</p>
              </div>
            </div>
            <Toggle checked={theme==="light"} onChange={toggle} />
          </div>
        </Section>

        {/* Comptes */}
        <Section title="Comptes bancaires" icon="">
          <div style={{ padding:"14px 16px" }}>
            <p style={{ fontSize:12, color:"var(--text-muted)", marginBottom:12, lineHeight:1.6 }}>
              Grez vos comptes (max. 15). Les soldes pargne  sont saisis manuellement.
            </p>
            <div style={{ display:"flex", flexDirection:"column", gap:10, marginBottom:12 }}>
              {/* Comptes courants */}
              {store.accounts.filter(a=>a.type==="checking").length > 0 && editingAccounts && (
                <p style={{ fontSize:10, fontWeight:700, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.08em" }}> Comptes courants</p>
              )}
              {store.accounts.filter(a=>a.type==="checking").map((acc)=>(
                <AccountRow key={acc.id} acc={acc} store={store} editingAccounts={editingAccounts} />
              ))}
              {/* Comptes pargne */}
              {store.accounts.filter(a=>a.type==="savings").length > 0 && editingAccounts && (
                <p style={{ fontSize:10, fontWeight:700, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.08em", marginTop:4 }}> Comptes pargne</p>
              )}
              {store.accounts.filter(a=>a.type==="savings").map((acc)=>(
                <AccountRow key={acc.id} acc={acc} store={store} editingAccounts={editingAccounts} />
              ))}
            </div>
            {!editingAccounts ? (
              <button onClick={()=>setEditingAccounts(true)} style={{ width:"100%", padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--gold-dim)", border:"1px solid var(--gold)", color:"var(--gold)", fontSize:13, fontWeight:600 }}> Modifier les comptes</button>
            ) : (
              <div style={{ display:"flex", flexDirection:"column", gap:8 }}>
                {store.accounts.length<15 && (
                  <button onClick={()=>store.addAccount()} style={{ width:"100%", padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--green-dim)", border:"1px dashed var(--green)", color:"var(--green)", fontSize:13, fontWeight:600 }}>+ Ajouter un compte ({store.accounts.length}/15)</button>
                )}
                <button onClick={()=>setEditingAccounts(false)} style={{ width:"100%", padding:"10px", borderRadius:"var(--radius-sm)", background:"linear-gradient(135deg,var(--gold-light),var(--gold))", border:"none", color:"#0e0f13", fontSize:14, fontWeight:700 }}> Terminer</button>
              </div>
            )}
          </div>
        </Section>

        {/* Modles */}
        <Section title="Modles rcurrents" icon="">
          <div style={{ padding:"12px 16px 8px", borderBottom:"1px solid var(--border)" }}>
            <p style={{ fontSize:12, color:"var(--text-muted)", lineHeight:1.6 }}>Oprations rcurrentes par compte, pour les mois pairs et impairs.</p>
          </div>

          {/* Slecteur de compte */}
          {checkingAccounts.length > 1 && (
            <div style={{ display:"flex", gap:6, overflowX:"auto", padding:"10px 16px", borderBottom:"1px solid var(--border)" }}>
              {checkingAccounts.map(acc => (
                <button key={acc.id} onClick={()=>setActiveAccountId(acc.id)} style={{ flexShrink:0, padding:"5px 13px", borderRadius:20, border:"1px solid", borderColor:activeAccountId===acc.id?"var(--gold)":"var(--border)", background:activeAccountId===acc.id?"var(--gold-dim)":"var(--surface2)", color:activeAccountId===acc.id?"var(--gold)":"var(--text-muted)", fontSize:12, fontWeight:600 }}> {acc.name}</button>
              ))}
            </div>
          )}

          {/* Slecteur pair/impair */}
          <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:8, padding:"12px 16px" }}>
            {[["even","Mois pairs","2,4,6"],["odd","Mois impairs","1,3,5"]].map(([k,l,sub])=>(
              <button key={k} onClick={()=>setParity(k)} style={{ padding:"10px 12px", borderRadius:"var(--radius-sm)", border:"1px solid", borderColor:activeParity===k?"var(--gold)":"var(--border)", background:activeParity===k?"var(--gold-dim)":"var(--surface2)", textAlign:"left" }}>
                <p style={{ fontSize:13, fontWeight:600, color:activeParity===k?"var(--gold)":"var(--text)" }}>{l}</p>
                <p style={{ fontSize:11, color:"var(--text-muted)", marginTop:2 }}>{sub}</p>
              </button>
            ))}
          </div>

          {/* Totaux */}
          {(totalIncome>0||totalExpense>0) && (
            <div style={{ display:"flex", gap:8, padding:"0 16px 10px" }}>
              {totalIncome>0  && <span style={{ fontSize:11, padding:"3px 8px", borderRadius:12, background:"var(--green-dim)", color:"var(--green)", fontWeight:600 }}> {fmtEur(totalIncome)}</span>}
              {totalExpense>0 && <span style={{ fontSize:11, padding:"3px 8px", borderRadius:12, background:"var(--red-dim)",   color:"var(--red)",   fontWeight:600 }}> {fmtEur(totalExpense)}</span>}
              <span style={{ fontSize:11, padding:"3px 8px", borderRadius:12, background:"var(--surface2)", color:"var(--text-muted)", fontWeight:600 }}>{fmtEur(totalIncome-totalExpense)} net</span>
            </div>
          )}

          {/* Lignes du modle */}
          {checkingAccounts.length === 0
            ? <p style={{ padding:"12px 16px", fontSize:13, color:"var(--text-sub)", textAlign:"center" }}>Aucun compte courant configur</p>
            : tpl.items.length===0
              ? <p style={{ padding:"12px 16px", fontSize:13, color:"var(--text-sub)", textAlign:"center" }}>Aucune opration rcurrente</p>
              : <div>{tpl.items.map((item,i)=>(
                  <div key={item.id}>
                    {i>0&&<div style={{ height:1, background:"var(--border)", margin:"0 16px" }} />}
                    <TplItemRow item={item} onDelete={()=>store.removeTplItem(activeAccountId, activeParity, item.id)} onEdit={()=>setEditingTplItem({item, parity: activeParity})} />
                  </div>
                ))}</div>
          }

          {/* Bouton ajouter */}
          {checkingAccounts.length > 0 && (
            <div style={{ padding:"10px 16px 14px" }}>
              <button onClick={()=>setShowAdd(true)} style={{ width:"100%", padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--gold-dim)", border:"1px dashed var(--gold)", color:"var(--gold)", fontSize:13, fontWeight:600 }}>+ Ajouter une opration rcurrente</button>
            </div>
          )}
        </Section>

        {/* Nettoyage */}
        <Section title="Nettoyage automatique" icon="">
          <div style={{ padding:"14px 16px" }}>
            {/* Toggle activation */}
            <div style={{ display:"flex", justifyContent:"space-between", alignItems:"center", marginBottom:14 }}>
              <div>
                <p style={{ fontSize:14, fontWeight:500 }}>Nettoyage automatique</p>
                <p style={{ fontSize:12, color:"var(--text-muted)", marginTop:2 }}>
                  {store.autoCleanup ? "Actif  les transactions des mois passs sont supprimes automatiquement" : "Inactif  aucune suppression automatique"}
                </p>
              </div>
              <Toggle checked={store.autoCleanup} onChange={()=>store.updateAutoCleanup(!store.autoCleanup)} />
            </div>

            {/* Slecteur de jour (gris si dsactiv) */}
            <div style={{ opacity: store.autoCleanup ? 1 : 0.4, pointerEvents: store.autoCleanup ? "auto" : "none", transition:"opacity 0.2s" }}>
              <div style={{ display:"flex", alignItems:"center", gap:12, marginBottom:12 }}>
                <div style={{ flex:1 }}>
                  <p style={{ fontSize:11, fontWeight:600, color:"var(--text-sub)", letterSpacing:"0.07em", textTransform:"uppercase", marginBottom:6 }}>Jour de nettoyage</p>
                  <select value={store.cleanupDay} onChange={e=>store.updateCleanupDay(parseInt(e.target.value,10))}
                    style={{ fontSize:15, fontWeight:500, width:"100%", padding:"10px 12px", background:"var(--surface2)", border:"1px solid var(--border)", borderRadius:"var(--radius-sm)", color:"var(--text)" }}>
                    {Array.from({length:31},(_,i)=>i+1).map(d=>(
                      <option key={d} value={d} style={{ background:"var(--select-bg)" }}>{d===1?"1er":d} du mois</option>
                    ))}
                  </select>
                </div>
                <div style={{ padding:"12px 16px", background:"var(--gold-dim)", border:"1px solid var(--gold)", borderRadius:"var(--radius-sm)", textAlign:"center" }}>
                  <p style={{ fontSize:10, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.06em", marginBottom:2 }}>Actuel</p>
                  <p style={{ fontSize:24, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:"var(--gold)" }}>{store.cleanupDay}</p>
                </div>
              </div>
              {(store.cleanupDay === 29 || store.cleanupDay === 30) && (
                <div style={{ display:"flex", gap:8, padding:"9px 12px", background:"rgba(201,168,76,0.08)", border:"1px solid rgba(201,168,76,0.25)", borderRadius:8, marginBottom:12 }}>
                  <span style={{ fontSize:13, flexShrink:0 }}></span>
                  <p style={{ fontSize:12, color:"var(--text-muted)", lineHeight:1.5 }}>
                    Le nettoyage automatique pourrait ne pas fonctionner en fvrier, qui ne compte pas de jour {store.cleanupDay}.
                  </p>
                </div>
              )}
              {store.cleanupDay === 31 && (
                <div style={{ display:"flex", gap:8, padding:"9px 12px", background:"rgba(201,168,76,0.08)", border:"1px solid rgba(201,168,76,0.25)", borderRadius:8, marginBottom:12 }}>
                  <span style={{ fontSize:13, flexShrink:0 }}></span>
                  <p style={{ fontSize:12, color:"var(--text-muted)", lineHeight:1.5 }}>
                    Le nettoyage automatique pourrait ne pas fonctionner certains mois  avril, juin, septembre, novembre et fvrier ne comptent pas de 31e jour.
                  </p>
                </div>
              )}
            </div>

            <button onClick={handleCleanupClick} style={{ width:"100%", padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--red-dim)", border:"1px solid var(--red)", color:"var(--red)", fontSize:13, fontWeight:600 }}>
               Nettoyer les mois prcdents maintenant
            </button>
          </div>
        </Section>

        {/* Snapshots pargne */}
        <Section title="Snapshots pargne" icon="">
          <div style={{ padding:"14px 16px" }}>
            {/* Toggle activation */}
            <div style={{ display:"flex", justifyContent:"space-between", alignItems:"center", marginBottom:16 }}>
              <div>
                <p style={{ fontSize:14, fontWeight:500 }}>Snapshots automatiques</p>
                <p style={{ fontSize:12, color:"var(--text-muted)", marginTop:2 }}>
                  {store.savingsSnapActive ? "Actifs  l'pargne est enregistre automatiquement" : "Inactifs  aucun snapshot automatique"}
                </p>
              </div>
              <Toggle checked={store.savingsSnapActive} onChange={()=>store.setSavingsSnapActive(!store.savingsSnapActive)} />
            </div>

            {/* Slecteur des jours */}
            <div style={{ opacity: store.savingsSnapActive ? 1 : 0.4, pointerEvents: store.savingsSnapActive ? "auto" : "none", transition:"opacity 0.2s" }}>
              <p style={{ fontSize:11, fontWeight:600, color:"var(--text-sub)", letterSpacing:"0.07em", textTransform:"uppercase", marginBottom:10 }}>
                Jours de snapshot  {store.savingsSnapDays.length} slectionn{store.savingsSnapDays.length > 1 ? "s" : ""}
              </p>
              <div style={{ display:"grid", gridTemplateColumns:"repeat(7, 1fr)", gap:5 }}>
                {Array.from({length:31}, (_,i) => i+1).map(day => {
                  const selected = store.savingsSnapDays.includes(day);
                  const toggle   = () => {
                    if (selected) {
                      store.setSavingsSnapDays(store.savingsSnapDays.filter(d => d !== day));
                    } else {
                      store.setSavingsSnapDays([...store.savingsSnapDays, day].sort((a,b)=>a-b));
                    }
                  };
                  return (
                    <button key={day} onClick={toggle}
                      style={{ padding:"7px 2px", borderRadius:7, border:"1px solid", fontSize:12, fontWeight:600, textAlign:"center",
                        borderColor: selected ? "var(--gold)" : "var(--border)",
                        background:  selected ? "var(--gold-dim)" : "var(--bg)",
                        color:       selected ? "var(--gold)" : "var(--text-muted)",
                        transition:  "all 0.15s" }}>
                      {day}
                    </button>
                  );
                })}
              </div>
              {store.savingsSnapDays.some(d => d === 29 || d === 30) && !store.savingsSnapDays.includes(31) && (
                <div style={{ display:"flex", gap:8, padding:"9px 12px", background:"rgba(201,168,76,0.08)", border:"1px solid rgba(201,168,76,0.25)", borderRadius:8, marginTop:10 }}>
                  <span style={{ fontSize:13, flexShrink:0 }}></span>
                  <p style={{ fontSize:12, color:"var(--text-muted)", lineHeight:1.5 }}>
                    Le snapshot automatique du {store.savingsSnapDays.filter(d => d === 29 || d === 30).join(" et du ")} pourrait ne pas se dclencher en fvrier.
                  </p>
                </div>
              )}
              {store.savingsSnapDays.includes(31) && (
                <div style={{ display:"flex", gap:8, padding:"9px 12px", background:"rgba(201,168,76,0.08)", border:"1px solid rgba(201,168,76,0.25)", borderRadius:8, marginTop:10 }}>
                  <span style={{ fontSize:13, flexShrink:0 }}></span>
                  <p style={{ fontSize:12, color:"var(--text-muted)", lineHeight:1.5 }}>
                    Le snapshot automatique du 31 pourrait ne pas se dclencher certains mois  avril, juin, septembre, novembre et fvrier ne comptent pas de 31e jour.
                    {store.savingsSnapDays.some(d => d === 29 || d === 30) && ` Les jours ${store.savingsSnapDays.filter(d => d === 29 || d === 30).join(" et ")} pourraient galement ne pas se dclencher en fvrier.`}
                  </p>
                </div>
              )}
            </div>
          </div>
        </Section>

        {/* Donnes */}
        <Section title="Donnes" icon="">
          <div style={{ padding:"14px 16px" }}>
            <p style={{ fontSize:13, color:"var(--text-muted)", marginBottom:4 }}>{store.transactions.length} transactions  synchronises sur Firebase</p>
            <p style={{ fontSize:12, color:"var(--text-sub)", marginBottom:12 }}>Connect en tant que {user.email}</p>
            {store.isDemo && (
              <button onClick={handleDemoReset} disabled={resetting}
                style={{ width:"100%", padding:"10px", borderRadius:"var(--radius-sm)", background:"rgba(201,168,76,0.1)", border:"1px solid var(--gold)", color:"var(--gold)", fontSize:13, fontWeight:600, marginBottom:10, opacity: resetting ? 0.6 : 1 }}>
                {resetting ? " Rinitialisation" : " Rinitialiser les donnes dmo"}
              </button>
            )}
            <button onClick={handleLogout} style={{ width:"100%", padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--red-dim)", border:"1px solid var(--red)", color:"var(--red)", fontSize:13, fontWeight:600 }}>
               Se dconnecter
            </button>
          </div>
        </Section>
      </div>

      {showAdd && <TplAddModal onClose={()=>setShowAdd(false)} onSave={item=>{store.addTplItem(activeAccountId, activeParity, item);setShowAdd(false);}} />}
      {editingTplItem && <TplAddModal item={editingTplItem.item} onClose={()=>setEditingTplItem(null)} onSave={updates=>{store.updateTplItem(activeAccountId, editingTplItem.parity, editingTplItem.item.id, updates);setEditingTplItem(null);}} />}

      {showCleanupConfirm && (
        <div style={{ position:"fixed", inset:0, zIndex:200, background:"rgba(0,0,0,0.7)", backdropFilter:"blur(6px)", display:"flex", alignItems:"center", justifyContent:"center", padding:20 }}
          onClick={e=>e.target===e.currentTarget&&setShowCleanupConfirm(false)}>
          <div className="scale-in" style={{ width:"100%", maxWidth:400, background:"var(--surface)", borderRadius:"var(--radius)", border:"1px solid var(--border)", padding:24 }}>
            <p style={{ fontSize:18, fontWeight:600, marginBottom:12 }}>Confirmation</p>
            <p style={{ fontSize:14, color:"var(--text-muted)", marginBottom:20, lineHeight:1.6 }}>{cleanupMessage}</p>
            <div style={{ display:"flex", gap:10 }}>
              <button onClick={()=>setShowCleanupConfirm(false)} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--surface2)", border:"1px solid var(--border)", color:"var(--text)", fontSize:14, fontWeight:600 }}>Annuler</button>
              {cleanupMessage.includes("Supprimer") && <button onClick={confirmCleanup} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--red)", border:"none", color:"#fff", fontSize:14, fontWeight:600 }}>Supprimer</button>}
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

//  Small components 
function Section({ title, icon, children }) {
  return (
    <div>
      <div style={{ display:"flex", alignItems:"center", gap:6, marginBottom:8 }}>
        <span style={{ fontSize:14 }}>{icon}</span>
        <p style={{ fontSize:12, fontWeight:700, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.08em" }}>{title}</p>
      </div>
      <div style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", overflow:"hidden" }}>{children}</div>
    </div>
  );
}

function Toggle({ checked, onChange }) {
  return (
    <button onClick={onChange} style={{ width:48,height:26, borderRadius:13, background:checked?"var(--gold)":"var(--surface3)", border:"none", position:"relative", transition:"background 0.25s", flexShrink:0 }}>
      <div style={{ width:20,height:20, borderRadius:"50%", background:"#fff", position:"absolute", top:3, left:checked?25:3, transition:"left 0.25s", boxShadow:"0 1px 4px rgba(0,0,0,0.3)" }} />
    </button>
  );
}

//  AccountRow 
function AccountRow({ acc, store, editingAccounts }) {
  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);
  const sameType  = store.accounts.filter(a => a.type === acc.type);
  const idx       = sameType.findIndex(a => a.id === acc.id);
  const isFirst   = idx === 0;
  const isLast    = idx === sameType.length - 1;
  const canDelete = store.accounts.length > 1;
  const txCount   = store.transactions.filter(t => t.accountId === acc.id).length;

  const handleDeleteClick = () => {
    if (!canDelete) return;
    if (txCount > 0) { setShowDeleteConfirm(true); }
    else { store.removeAccount(acc.id); }
  };

  return (
    <div style={{ background:"var(--surface2)", borderRadius:"var(--radius-sm)", padding:"12px 14px" }}>
      {!editingAccounts ? (
        <div style={{ display:"flex", alignItems:"center", gap:10 }}>
          <span style={{ fontSize:20 }}>{acc.type==="savings"?"":""}</span>
          <div style={{ flex:1 }}>
            <p style={{ fontSize:14, fontWeight:500 }}>{acc.name}</p>
            <p style={{ fontSize:11, color:"var(--text-muted)" }}>
              {acc.type==="savings"
                ? (acc.savingsSubtype==="blocked" ? " Bloque  " : " Disponible  ") + fmtEur(acc.balance)
                : "Compte courant"}
            </p>
          </div>
        </div>
      ) : (
        <div style={{ display:"flex", flexDirection:"column", gap:8 }}>
          {/* Nom + boutons ordre + supprimer */}
          <div style={{ display:"flex", gap:6 }}>
            <input value={acc.name} onChange={e=>store.updateAccount(acc.id,{name:e.target.value})} placeholder="Nom du compte"
              style={{ flex:1, fontSize:14, padding:"8px 10px", background:"var(--bg)", border:"1px solid var(--border)", borderRadius:8, color:"var(--text)" }} />
            {/* Boutons dplacement (uniquement si plusieurs comptes du mme type) */}
            {sameType.length > 1 && (
              <div style={{ display:"flex", flexDirection:"column", gap:3 }}>
                <button onClick={()=>store.moveAccount(acc.id,-1)} disabled={isFirst}
                  style={{ padding:"3px 8px", borderRadius:6, background:"var(--surface3)", border:"1px solid var(--border)", color:isFirst?"var(--text-sub)":"var(--text)", fontSize:12, opacity:isFirst?0.3:1, lineHeight:1 }}></button>
                <button onClick={()=>store.moveAccount(acc.id,1)} disabled={isLast}
                  style={{ padding:"3px 8px", borderRadius:6, background:"var(--surface3)", border:"1px solid var(--border)", color:isLast?"var(--text-sub)":"var(--text)", fontSize:12, opacity:isLast?0.3:1, lineHeight:1 }}></button>
              </div>
            )}
            <button onClick={handleDeleteClick} disabled={!canDelete}
              style={{ padding:"8px 12px", borderRadius:8, background:"var(--red-dim)", border:"1px solid var(--red)", color:"var(--red)", fontSize:13, fontWeight:600, opacity:canDelete?1:0.4, alignSelf:"stretch" }}></button>
          </div>
          {/* Type courant / pargne */}
          <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:6 }}>
            {[["checking"," Courant"],["savings"," pargne"]].map(([type,label])=>(
              <button key={type} onClick={()=>store.updateAccount(acc.id,{type})}
                style={{ padding:"8px", borderRadius:8, border:"1px solid", borderColor:acc.type===type?"var(--gold)":"var(--border)", background:acc.type===type?"var(--gold-dim)":"var(--bg)", color:acc.type===type?"var(--gold)":"var(--text-muted)", fontSize:12, fontWeight:600 }}>{label}</button>
            ))}
          </div>
          {/* Sous-type pargne (disponible / bloque) */}
          {acc.type==="savings" && (
            <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:6 }}>
              <button onClick={()=>store.updateAccount(acc.id,{savingsSubtype:"available"})}
                style={{ padding:"8px", borderRadius:8, border:"1px solid", borderColor:(acc.savingsSubtype||"available")==="available"?"var(--green)":"var(--border)", background:(acc.savingsSubtype||"available")==="available"?"var(--green-dim)":"var(--bg)", color:(acc.savingsSubtype||"available")==="available"?"var(--green)":"var(--text-muted)", fontSize:12, fontWeight:600 }}> Disponible</button>
              <button onClick={()=>store.updateAccount(acc.id,{savingsSubtype:"blocked"})}
                style={{ padding:"8px", borderRadius:8, border:"1px solid", borderColor:acc.savingsSubtype==="blocked"?"var(--red)":"var(--border)", background:acc.savingsSubtype==="blocked"?"var(--red-dim)":"var(--bg)", color:acc.savingsSubtype==="blocked"?"var(--red)":"var(--text-muted)", fontSize:12, fontWeight:600 }}> Bloque</button>
            </div>
          )}
          {/* Solde (pargne uniquement) */}
          {acc.type==="savings" && (
            <div>
              <label style={{ fontSize:11, fontWeight:600, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.06em", display:"block", marginBottom:4 }}>Solde</label>
              <input type="number" step="0.01" value={acc.balance||0} onChange={e=>store.updateAccount(acc.id,{balance:parseFloat(e.target.value)||0})} placeholder="0.00"
                style={{ width:"100%", fontSize:14, padding:"8px 10px", background:"var(--bg)", border:"1px solid var(--border)", borderRadius:8, color:"var(--text)" }} />
            </div>
          )}
        </div>
      )}

      {showDeleteConfirm && (
        <div style={{ position:"fixed", inset:0, zIndex:200, background:"rgba(0,0,0,0.7)", backdropFilter:"blur(6px)", display:"flex", alignItems:"center", justifyContent:"center", padding:20 }}
          onClick={e=>e.target===e.currentTarget&&setShowDeleteConfirm(false)}>
          <div className="scale-in" style={{ width:"100%", maxWidth:400, background:"var(--surface)", borderRadius:"var(--radius)", border:"1px solid var(--border)", padding:24 }}>
            <p style={{ fontSize:18, fontWeight:600, marginBottom:12 }}>Supprimer le compte</p>
            <p style={{ fontSize:14, color:"var(--text-muted)", marginBottom:20, lineHeight:1.6 }}>
              Le compte  {acc.name}  contient <strong style={{ color:"var(--red)" }}>{txCount} transaction{txCount>1?"s":""}</strong> qui {txCount>1?"seront galement supprimes":"sera galement supprime"}.
            </p>
            <div style={{ display:"flex", gap:10 }}>
              <button onClick={()=>setShowDeleteConfirm(false)} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--surface2)", border:"1px solid var(--border)", color:"var(--text)", fontSize:14, fontWeight:600 }}>Annuler</button>
              <button onClick={()=>{store.removeAccount(acc.id);setShowDeleteConfirm(false);}} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--red)", border:"none", color:"#fff", fontSize:14, fontWeight:600 }}>Supprimer</button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

function TplItemRow({ item, onDelete, onEdit }) {
  const [hover, setHover] = useState(false);
  return (
    <div onMouseEnter={()=>setHover(true)} onMouseLeave={()=>setHover(false)}
      style={{ display:"flex", alignItems:"center", gap:12, padding:"11px 16px", background:hover?"rgba(128,128,128,0.04)":"transparent", transition:"background 0.15s" }}>
      <div style={{ width:36,height:36, borderRadius:9, flexShrink:0, background:item.type==="expense"?"var(--red-dim)":"var(--green-dim)", display:"flex", alignItems:"center", justifyContent:"center", fontSize:16 }}>{item.type==="expense"?"":""}</div>
      <div style={{ flex:1, minWidth:0 }}>
        <p style={{ fontSize:14, fontWeight:500, overflow:"hidden", textOverflow:"ellipsis", whiteSpace:"nowrap" }}>{item.title}</p>
        <p style={{ fontSize:11, color:"var(--text-sub)" }}>
          Le {item.day||1}{(item.day||1)===1?"er":""} du mois
          {item.note ? `  ${item.note}` : ""}
        </p>
      </div>
      <p style={{ fontSize:14, fontWeight:700, flexShrink:0, color:item.type==="expense"?"var(--red)":"var(--green)" }}>{item.type==="expense"?"":"+"}{fmtEur(item.amount)}</p>
      {hover && <button onClick={onEdit} style={{ background:"var(--gold-dim)", border:"none", borderRadius:7, width:26,height:26, display:"flex", alignItems:"center", justifyContent:"center", color:"var(--gold)", fontSize:13, flexShrink:0 }}></button>}
      {hover && <button onClick={onDelete} style={{ background:"var(--red-dim)", border:"none", borderRadius:7, width:26,height:26, display:"flex", alignItems:"center", justifyContent:"center", color:"var(--red)", fontSize:13, flexShrink:0 }}></button>}
    </div>
  );
}

function EmptyState({ text }) {
  return <div style={{ textAlign:"center", padding:"40px 20px", color:"var(--text-muted)", fontSize:14 }}><p style={{ fontSize:32, marginBottom:10 }}></p>{text}</div>;
}

function Field({ label, children }) {
  return (
    <div style={{ background:"var(--surface2)", border:"1px solid var(--border)", borderRadius:"var(--radius-sm)", padding:"10px 14px" }}>
      <p style={{ fontSize:10, color:"var(--text-sub)", fontWeight:600, letterSpacing:"0.07em", textTransform:"uppercase", marginBottom:5 }}>{label}</p>
      {children}
    </div>
  );
}

//  TplAddModal 
function TplAddModal({ onClose, onSave, item }) {
  const isEditing = !!item;
  const [type,setType]=useState(item?.type||"expense");
  const [title,setTitle]=useState(item?.title||"");
  const [amount,setAmount]=useState(item?.amount?.toString()||"");
  const [day,setDay]=useState(String(item?.day||"1"));
  const [note,setNote]=useState(item?.note||"");
  const [error,setError]=useState("");
  const handleSave=()=>{
    if(!title.trim()) return setError("Veuillez saisir un libell.");
    const amt=parseFloat(amount.replace(",","."));
    if(isNaN(amt)||amt<=0) return setError("Montant invalide.");
    onSave({title:title.trim(),amount:amt,type,day:parseInt(day,10),note});
  };
  return (
    <div style={{ position:"fixed", inset:0, zIndex:200, background:"rgba(0,0,0,0.7)", backdropFilter:"blur(6px)", display:"flex", alignItems:"center", justifyContent:"center", padding:20 }}
      onClick={e=>e.target===e.currentTarget&&onClose()}>
      <div className="scale-in" style={{ width:"100%", maxWidth:400, background:"var(--surface)", borderRadius:"var(--radius)", border:"1px solid var(--border)", overflow:"hidden" }}>
        <div style={{ background:"var(--surface2)", padding:"16px 20px", borderBottom:"1px solid var(--border)", display:"flex", justifyContent:"space-between", alignItems:"center" }}>
          <p style={{ fontSize:17, fontWeight:600 }}>{isEditing ? "Modifier l'opration" : "Opration rcurrente"}</p>
          <button onClick={onClose} style={{ background:"transparent", border:"none", color:"var(--text-muted)", fontSize:18 }}></button>
        </div>
        <div style={{ padding:"16px 20px", display:"flex", flexDirection:"column", gap:12 }}>
          <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:6, background:"var(--surface2)", borderRadius:"var(--radius-sm)", padding:4 }}>
            {[["expense","Dpense","var(--red)"],["income","Revenu","var(--green)"]].map(([v,l,c])=>(
              <button key={v} onClick={()=>setType(v)} style={{ padding:"9px", borderRadius:8, background:type===v?c+"22":"transparent", border:`1px solid ${type===v?c:"transparent"}`, color:type===v?c:"var(--text-muted)", fontSize:14, fontWeight:600 }}>{l}</button>
            ))}
          </div>
          <Field label="Montant">
            <input value={amount} onChange={e=>setAmount(e.target.value)} placeholder="0,00" inputMode="decimal"
              style={{ fontSize:22, fontFamily:"'DM Serif Display',serif", width:"100%", color:type==="expense"?"var(--red)":"var(--green)" }} />
          </Field>
          <Field label="Libell">
            <input value={title} onChange={e=>setTitle(e.target.value)} placeholder="Ex: Loyer, Salaire" style={{ fontSize:15, width:"100%" }} />
          </Field>
          <Field label="Jour du mois">
            <select value={day} onChange={e=>setDay(e.target.value)} style={{ fontSize:15, width:"100%", background:"var(--select-bg)", color:"var(--text)" }}>
              {Array.from({length:28},(_,i)=>i+1).map(d=>(
                <option key={d} value={d} style={{ background:"var(--select-bg)" }}>{d===1?"1er":d} du mois</option>
              ))}
            </select>
          </Field>
          <Field label="Note (optionnelle)">
            <textarea value={note} onChange={e=>setNote(e.target.value)} placeholder="Commentaire" rows={2} style={{ fontSize:14, width:"100%", resize:"none", lineHeight:1.5 }} />
          </Field>
          {error && <p style={{ color:"var(--red)", fontSize:13 }}>{error}</p>}
          <button onClick={handleSave} style={{ padding:"13px", borderRadius:"var(--radius-sm)", background:"linear-gradient(135deg,var(--gold-light),var(--gold))", border:"none", color:"#0e0f13", fontSize:15, fontWeight:700 }}>{isEditing ? "Enregistrer" : "Ajouter"}</button>
        </div>
      </div>
    </div>
  );
}

//  FormModal 
function FormModal({ store, account, transaction, onClose }) {
  const [type,setType]=useState(transaction?.type||"expense");
  const [title,setTitle]=useState(transaction?.title||"");
  const [amount,setAmount]=useState(transaction?.amount?.toString()||"");
  const [selAcctId,setSelAcctId]=useState(transaction?.accountId||account||store.accounts.find(a=>a.type==="checking")?.id||"");
  const [date,setDate]=useState(transaction?.date||new Date().toISOString().split("T")[0]);
  const [note,setNote]=useState(transaction?.note||"");
  const [error,setError]=useState("");
  const isEditing=!!transaction;

  const handleSubmit=()=>{
    if(!title.trim()) return setError("Veuillez saisir un libell.");
    const amt=parseFloat(amount.replace(",","."));
    if(isNaN(amt)||amt<=0) return setError("Montant invalide.");
    if(!selAcctId) return setError("Veuillez slectionner un compte.");
    if(isEditing) store.update(transaction.id,{title:title.trim(),amount:amt,type,accountId:selAcctId,date,note});
    else store.add({title:title.trim(),amount:amt,type,accountId:selAcctId,date,note});
    onClose();
  };

  return (
    <div style={{ position:"fixed", inset:0, zIndex:200, background:"rgba(0,0,0,0.7)", backdropFilter:"blur(6px)", display:"flex", alignItems:"flex-end" }}
      onClick={e=>e.target===e.currentTarget&&onClose()}>
      <div className="scale-in" style={{ width:"100%", maxWidth:480, margin:"0 auto", background:"var(--surface)", borderRadius:"24px 24px 0 0", border:"1px solid var(--border)", borderBottom:"none", padding:"0 0 32px", maxHeight:"90vh", overflowY:"auto" }}>
        <div style={{ display:"flex", justifyContent:"center", padding:"12px 0 0" }}>
          <div style={{ width:36,height:4, borderRadius:2, background:"var(--border)" }} />
        </div>
        <div style={{ display:"flex", justifyContent:"space-between", alignItems:"center", padding:"14px 20px 16px" }}>
          <p style={{ fontFamily:"'DM Serif Display',serif", fontSize:22 }}>{isEditing?"Modifier":"Nouvelle transaction"}</p>
          <button onClick={onClose} style={{ background:"var(--surface2)", border:"1px solid var(--border)", borderRadius:8, width:32,height:32, color:"var(--text-muted)", fontSize:16, display:"flex", alignItems:"center", justifyContent:"center" }}></button>
        </div>
        <div style={{ padding:"0 20px", display:"flex", flexDirection:"column", gap:14 }}>
          <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:6, background:"var(--surface2)", borderRadius:"var(--radius-sm)", padding:4 }}>
            {[["expense","Dpense","var(--red)"],["income","Revenu","var(--green)"]].map(([v,l,c])=>(
              <button key={v} onClick={()=>setType(v)} style={{ padding:"9px", borderRadius:8, background:type===v?c+"22":"transparent", border:`1px solid ${type===v?c:"transparent"}`, color:type===v?c:"var(--text-muted)", fontSize:14, fontWeight:600 }}>{l}</button>
            ))}
          </div>
          <div style={{ background:"var(--surface2)", border:"1px solid var(--border)", borderRadius:"var(--radius)", padding:"14px 16px" }}>
            <p style={{ fontSize:11, color:"var(--text-sub)", fontWeight:600, letterSpacing:"0.07em", textTransform:"uppercase", marginBottom:6 }}>Montant</p>
            <div style={{ display:"flex", alignItems:"baseline", gap:6 }}>
              <span style={{ fontSize:24, color:"var(--text-muted)", fontFamily:"'DM Serif Display',serif" }}></span>
              <input value={amount} onChange={e=>setAmount(e.target.value)} placeholder="0,00" inputMode="decimal"
                style={{ fontSize:34, fontFamily:"'DM Serif Display',serif", flex:1, color:type==="expense"?"var(--red)":"var(--green)" }} />
            </div>
          </div>
          <Field label="Libell"><input value={title} onChange={e=>setTitle(e.target.value)} placeholder="Ex : Courses, Salaire" style={{ fontSize:15, width:"100%", padding:"0 2px" }} /></Field>
          <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:10 }}>
            <Field label="Compte">
              <select value={selAcctId} onChange={e=>setSelAcctId(e.target.value)} style={{ fontSize:14, width:"100%", background:"var(--select-bg)", color:"var(--text)" }}>
                {store.accounts.filter(a=>a.type==="checking").map(a=><option key={a.id} value={a.id} style={{ background:"var(--select-bg)" }}> {a.name}</option>)}
              </select>
            </Field>
            <Field label="Date"><input type="date" value={date} onChange={e=>setDate(e.target.value)} style={{ fontSize:14, width:"100%", colorScheme:"var(--colorscheme)" }} /></Field>
          </div>
          <Field label="Note (optionnelle)"><textarea value={note} onChange={e=>setNote(e.target.value)} placeholder="Commentaire" rows={2} style={{ fontSize:14, width:"100%", resize:"none", lineHeight:1.5 }} /></Field>
          {error && <p style={{ color:"var(--red)", fontSize:13 }}>{error}</p>}
          <button onClick={handleSubmit} style={{ padding:"14px", borderRadius:"var(--radius)", background:"linear-gradient(135deg,var(--gold-light),var(--gold))", border:"none", color:"#0e0f13", fontSize:16, fontWeight:700, boxShadow:"0 4px 20px rgba(201,168,76,0.35)", marginTop:4 }}>Enregistrer</button>
        </div>
      </div>
    </div>
  );
}

//  SavingsStats 
function fmtSnapshotDate(dateStr) {
  const d = new Date(dateStr + "T00:00:00");
  const day = d.getDate();
  return `${day===1?"1er":day} ${d.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}`;
}

function Variation({ value }) {
  if (value === null || value === undefined) return <span style={{ color:"var(--text-sub)", fontSize:12 }}></span>;
  const pos = value >= 0;
  return (
    <span style={{ fontSize:12, fontWeight:700, color: pos ? "var(--green)" : "var(--red)" }}>
      {pos ? "+" : ""}{fmtEur(value)}
    </span>
  );
}

function SavingsSnapshotModal({ snapshot, defaults, onClose, onSave }) {
  const isNew = !snapshot?.id;
  const [date,        setDate]        = useState(snapshot?.date        || new Date().toISOString().split("T")[0]);
  const [available,   setAvailable]   = useState(snapshot?.available?.toString() || defaults?.available?.toString() || "");
  const [blocked,     setBlocked]     = useState(snapshot?.blocked?.toString()   || defaults?.blocked?.toString()   || "");
  const [note,        setNote]        = useState(snapshot?.note        || "");
  const [error,       setError]       = useState("");

  const handleSave = () => {
    const avail = parseFloat(available.replace(",","."));
    const bloc  = parseFloat(blocked.replace(",","."));
    if (isNaN(avail) || avail < 0) return setError("pargne disponible invalide.");
    if (isNaN(bloc)  || bloc  < 0) return setError("pargne bloque invalide.");
    if (!date) return setError("Date requise.");
    onSave({ date, available: avail, blocked: bloc, note, auto: false });
  };

  return (
    <div style={{ position:"fixed", inset:0, zIndex:200, background:"rgba(0,0,0,0.75)", backdropFilter:"blur(6px)", display:"flex", alignItems:"center", justifyContent:"center", padding:20 }}
      onClick={e=>e.target===e.currentTarget&&onClose()}>
      <div className="scale-in" style={{ width:"100%", maxWidth:420, background:"var(--surface)", borderRadius:"var(--radius)", border:"1px solid var(--border)", overflow:"hidden" }}>
        <div style={{ background:"var(--surface2)", padding:"16px 20px", borderBottom:"1px solid var(--border)", display:"flex", justifyContent:"space-between", alignItems:"center" }}>
          <p style={{ fontSize:17, fontWeight:600 }}>{isNew ? "Nouvelle entre" : "Modifier l'entre"}</p>
          <button onClick={onClose} style={{ background:"transparent", border:"none", color:"var(--text-muted)", fontSize:18 }}></button>
        </div>
        <div style={{ padding:"16px 20px", display:"flex", flexDirection:"column", gap:12 }}>
          <Field label="Date">
            <input type="date" value={date} onChange={e=>setDate(e.target.value)} style={{ fontSize:14, width:"100%", colorScheme:"var(--colorscheme)", color:"var(--text)" }} />
          </Field>
          <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:10 }}>
            <Field label="pargne disponible ()">
              <input type="number" step="0.01" value={available} onChange={e=>setAvailable(e.target.value)} placeholder="0.00" inputMode="decimal"
                style={{ fontSize:15, width:"100%", color:"var(--green)" }} />
            </Field>
            <Field label="pargne bloque ()">
              <input type="number" step="0.01" value={blocked} onChange={e=>setBlocked(e.target.value)} placeholder="0.00" inputMode="decimal"
                style={{ fontSize:15, width:"100%", color:"var(--red)" }} />
            </Field>
          </div>
          <Field label="Note (optionnelle)">
            <input value={note} onChange={e=>setNote(e.target.value)} placeholder="Ex: rebalancement, intrts" style={{ fontSize:14, width:"100%" }} />
          </Field>
          {!isNew && (
            <div style={{ display:"flex", gap:8, padding:"10px 12px", background:"rgba(201,168,76,0.08)", border:"1px solid rgba(201,168,76,0.25)", borderRadius:8 }}>
              <span style={{ fontSize:14, flexShrink:0 }}></span>
              <p style={{ fontSize:12, color:"var(--text-muted)", lineHeight:1.5 }}>
                Cette modification ne porte que sur ce snapshot historique. Les soldes actuels de vos comptes pargne ne seront pas affects.
              </p>
            </div>
          )}
          {error && <p style={{ color:"var(--red)", fontSize:13 }}>{error}</p>}
          <button onClick={handleSave} style={{ padding:"13px", borderRadius:"var(--radius-sm)", background:"linear-gradient(135deg,var(--gold-light),var(--gold))", border:"none", color:"#0e0f13", fontSize:15, fontWeight:700 }}>
            {isNew ? "Ajouter" : "Enregistrer"}
          </button>
        </div>
      </div>
    </div>
  );
}

function MiniSparkline({ data, color, width=80, height=32 }) {
  if (!data || data.length < 2) return null;
  const min = Math.min(...data);
  const max = Math.max(...data);
  const range = max - min || 1;
  const pts = data.map((v, i) => {
    const x = (i / (data.length - 1)) * width;
    const y = height - ((v - min) / range) * (height - 4) - 2;
    return `${x},${y}`;
  }).join(" ");
  return (
    <svg width={width} height={height} style={{ display:"block" }}>
      <polyline points={pts} fill="none" stroke={color} strokeWidth="2" strokeLinejoin="round" strokeLinecap="round" />
    </svg>
  );
}

//  SavingsChart 
function SavingsChart({ rows }) {
  const [tooltip, setTooltip] = useState(null);
  const W = 440, H = 180, PAD = { top:16, right:16, bottom:36, left:56 };
  const innerW = W - PAD.left - PAD.right;
  const innerH = H - PAD.top  - PAD.bottom;

  // rows are newest-first  reverse for chart (left=oldest, right=newest)
  const sorted = [...rows].reverse();

  const allVals = sorted.flatMap(r => [r.available||0, r.blocked||0, (r.available||0)+(r.blocked||0)]);
  const minV = 0;
  const maxV = Math.max(...allVals, 1);

  const xOf = i => PAD.left + (i / Math.max(sorted.length - 1, 1)) * innerW;
  const yOf = v => PAD.top  + innerH - ((v - minV) / (maxV - minV)) * innerH;

  const makePath = (vals) => vals.map((v, i) => `${i===0?"M":"L"}${xOf(i).toFixed(1)},${yOf(v).toFixed(1)}`).join(" ");
  const makeArea = (vals) => {
    const top  = vals.map((v, i) => `${i===0?"M":"L"}${xOf(i).toFixed(1)},${yOf(v).toFixed(1)}`).join(" ");
    const base = `L${xOf(vals.length-1).toFixed(1)},${(PAD.top+innerH).toFixed(1)} L${PAD.left.toFixed(1)},${(PAD.top+innerH).toFixed(1)} Z`;
    return top + " " + base;
  };

  const availVals = sorted.map(r => r.available||0);
  const blocVals  = sorted.map(r => r.blocked||0);
  const totVals   = sorted.map(r => (r.available||0)+(r.blocked||0));

  // Y-axis ticks (4 ticks)
  const yTicks = [0,1,2,3].map(i => minV + (maxV - minV) * i / 3);

  // X-axis labels: show up to 5 evenly spaced dates
  const xLabelIdxs = sorted.length <= 5
    ? sorted.map((_,i)=>i)
    : [0,1,2,3,4].map(i => Math.round(i * (sorted.length-1)/4));

  const handleMouseMove = (e) => {
    const svg = e.currentTarget;
    const rect = svg.getBoundingClientRect();
    const mx = (e.clientX - rect.left) * (W / rect.width);
    if (mx < PAD.left || mx > W - PAD.right) { setTooltip(null); return; }
    const ratio = (mx - PAD.left) / innerW;
    const idx   = Math.round(ratio * (sorted.length - 1));
    const row   = sorted[Math.max(0, Math.min(idx, sorted.length-1))];
    const cx    = xOf(Math.max(0, Math.min(idx, sorted.length-1)));
    setTooltip({ row, cx, idx });
  };

  return (
    <div style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", padding:"14px 0 0", marginBottom:16, overflow:"hidden" }}>
      <p style={{ fontSize:11, fontWeight:700, color:"var(--text-sub)", textTransform:"uppercase", letterSpacing:"0.08em", padding:"0 16px", marginBottom:8 }}>volution de l'pargne</p>
      <div style={{ overflowX:"auto" }}>
        <svg width={W} height={H} viewBox={`0 0 ${W} ${H}`} style={{ display:"block", minWidth:300, width:"100%" }}
          onMouseMove={handleMouseMove} onMouseLeave={()=>setTooltip(null)}>
          <defs>
            <linearGradient id="gradAvail" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stopColor="#4caf82" stopOpacity="0.25"/>
              <stop offset="100%" stopColor="#4caf82" stopOpacity="0.02"/>
            </linearGradient>
            <linearGradient id="gradBloc" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stopColor="#e05c5c" stopOpacity="0.18"/>
              <stop offset="100%" stopColor="#e05c5c" stopOpacity="0.02"/>
            </linearGradient>
            <linearGradient id="gradTot" x1="0" y1="0" x2="0" y2="1">
              <stop offset="0%" stopColor="#c9a84c" stopOpacity="0.15"/>
              <stop offset="100%" stopColor="#c9a84c" stopOpacity="0.02"/>
            </linearGradient>
          </defs>

          {/* Grid lines */}
          {yTicks.map((v,i) => (
            <g key={i}>
              <line x1={PAD.left} x2={W-PAD.right} y1={yOf(v)} y2={yOf(v)} stroke="rgba(255,255,255,0.05)" strokeWidth="1"/>
              <text x={PAD.left-6} y={yOf(v)+4} textAnchor="end" fontSize="9" fill="rgba(240,236,228,0.35)" fontFamily="DM Sans,sans-serif">
                {v>=1000?`${(v/1000).toFixed(v%1000===0?0:1)}k`:Math.round(v)}
              </text>
            </g>
          ))}

          {/* Area fills */}
          <path d={makeArea(totVals)}   fill="url(#gradTot)"   />
          <path d={makeArea(availVals)} fill="url(#gradAvail)" />
          <path d={makeArea(blocVals)}  fill="url(#gradBloc)"  />

          {/* Lines */}
          <path d={makePath(totVals)}   fill="none" stroke="#c9a84c" strokeWidth="1.5" strokeDasharray="5 3" strokeLinejoin="round" strokeLinecap="round"/>
          <path d={makePath(availVals)} fill="none" stroke="#4caf82" strokeWidth="2"   strokeLinejoin="round" strokeLinecap="round"/>
          <path d={makePath(blocVals)}  fill="none" stroke="#e05c5c" strokeWidth="2"   strokeLinejoin="round" strokeLinecap="round"/>

          {/* X axis labels */}
          {xLabelIdxs.map(i => {
            const r = sorted[i];
            if (!r) return null;
            const d = new Date(r.date+"T00:00:00");
            const label = `${d.getDate()}/${d.getMonth()+1}/${String(d.getFullYear()).slice(2)}`;
            return (
              <text key={i} x={xOf(i)} y={H-6} textAnchor="middle" fontSize="9" fill="rgba(240,236,228,0.4)" fontFamily="DM Sans,sans-serif">{label}</text>
            );
          })}

          {/* Tooltip crosshair */}
          {tooltip && (
            <g>
              <line x1={tooltip.cx} x2={tooltip.cx} y1={PAD.top} y2={PAD.top+innerH} stroke="rgba(255,255,255,0.15)" strokeWidth="1" strokeDasharray="3 3"/>
              <circle cx={tooltip.cx} cy={yOf(availVals[tooltip.idx])} r="4" fill="#4caf82" stroke="var(--surface)" strokeWidth="1.5"/>
              <circle cx={tooltip.cx} cy={yOf(blocVals[tooltip.idx])}  r="4" fill="#e05c5c" stroke="var(--surface)" strokeWidth="1.5"/>
              <circle cx={tooltip.cx} cy={yOf(totVals[tooltip.idx])}   r="3" fill="#c9a84c" stroke="var(--surface)" strokeWidth="1.5"/>
            </g>
          )}
        </svg>
      </div>

      {/* Tooltip info box */}
      {tooltip ? (
        <div style={{ padding:"10px 16px 12px", borderTop:"1px solid var(--border)", display:"grid", gridTemplateColumns:"1fr 1fr 1fr", gap:8 }}>
          <div>
            <p style={{ fontSize:9, color:"var(--text-sub)", fontWeight:700, textTransform:"uppercase", letterSpacing:"0.06em", marginBottom:3 }}>Disponible</p>
            <p style={{ fontSize:14, fontWeight:700, color:"#4caf82", fontFamily:"'DM Serif Display',serif" }}>{fmtEur(tooltip.row.available||0)}</p>
          </div>
          <div>
            <p style={{ fontSize:9, color:"var(--text-sub)", fontWeight:700, textTransform:"uppercase", letterSpacing:"0.06em", marginBottom:3 }}>Bloque</p>
            <p style={{ fontSize:14, fontWeight:700, color:"#e05c5c", fontFamily:"'DM Serif Display',serif" }}>{fmtEur(tooltip.row.blocked||0)}</p>
          </div>
          <div>
            <p style={{ fontSize:9, color:"var(--text-sub)", fontWeight:700, textTransform:"uppercase", letterSpacing:"0.06em", marginBottom:3 }}>Total</p>
            <p style={{ fontSize:14, fontWeight:700, color:"#c9a84c", fontFamily:"'DM Serif Display',serif" }}>{fmtEur((tooltip.row.available||0)+(tooltip.row.blocked||0))}</p>
          </div>
        </div>
      ) : (
        <div style={{ padding:"8px 16px 10px", borderTop:"1px solid var(--border)" }}>
          <p style={{ fontSize:11, color:"var(--text-sub)", textAlign:"center" }}>Survolez le graphique pour voir les dtails</p>
        </div>
      )}
    </div>
  );
}

function SavingsStats({ store, onBack }) {
  const [showModal,    setShowModal]    = useState(false);
  const [editSnapshot, setEditSnapshot] = useState(null);
  const [deleteSnap,   setDeleteSnap]   = useState(null);

  const history = store.savingsHistory; // sorted desc by date

  // Compute variations
  const rows = useMemo(() => {
    const sorted = [...history].sort((a,b) => b.date.localeCompare(a.date)); // newest first
    return sorted.map((entry, i) => {
      const prev = sorted[i + 1]; // older entry
      return {
        ...entry,
        varAvailable: prev != null ? entry.available - prev.available : null,
        varBlocked:   prev != null ? entry.blocked   - prev.blocked   : null,
        total: (entry.available || 0) + (entry.blocked || 0),
      };
    });
  }, [history]);

  const totalAvailable = store.accounts.filter(a=>a.type==="savings"&&a.savingsSubtype!=="blocked").reduce((s,a)=>s+(a.balance||0),0);
  const totalBlocked   = store.accounts.filter(a=>a.type==="savings"&&a.savingsSubtype==="blocked").reduce((s,a)=>s+(a.balance||0),0);
  const totalSavings   = totalAvailable + totalBlocked;

  // Sparkline data (oldestnewest)
  const sparkAvail   = [...rows].reverse().map(r=>r.available||0);
  const sparkBlocked = [...rows].reverse().map(r=>r.blocked||0);

  const handleSaveNew = (entry) => {
    store.addSavingsSnapshot(entry);
    setShowModal(false);
  };
  const handleSaveEdit = (entry) => {
    store.updateSavingsSnapshot(editSnapshot.id, entry);
    setEditSnapshot(null);
  };

  return (
    <div style={{ minHeight:"100vh", background:"var(--bg)" }}>
      {/* Header */}
      <div style={{ background:"var(--header-bg)", padding:"16px 20px 20px", borderBottom:"1px solid var(--border)" }}>
        <div style={{ display:"flex", alignItems:"center", gap:12, marginBottom:16 }}>
          <button onClick={onBack} style={{ background:"var(--header-btn-bg)", border:"1px solid var(--header-btn-border)", borderRadius:8, padding:"6px 12px", color:"var(--header-muted)", fontSize:13, fontWeight:500 }}> Retour</button>
          <p style={{ fontFamily:"'DM Serif Display',serif", fontSize:26, letterSpacing:"-0.02em", color:"var(--header-text)" }}>Statistiques pargne</p>
        </div>

        {/* Summary cards */}
        <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr 1fr", gap:8 }}>
          {[
            { label:"Total pargne", value:totalSavings, color:"var(--gold)", spark: sparkAvail.map((a,i)=>a+(sparkBlocked[i]||0)) },
            { label:"Disponible",    value:totalAvailable, color:"var(--green)", spark: sparkAvail },
            { label:"Bloque",       value:totalBlocked,   color:"var(--red)",   spark: sparkBlocked },
          ].map(c=>(
            <div key={c.label} style={{ background:"rgba(255,255,255,0.05)", borderRadius:10, padding:"10px 12px", border:"1px solid rgba(255,255,255,0.08)" }}>
              <p style={{ fontSize:10, color:"var(--header-muted)", fontWeight:600, textTransform:"uppercase", letterSpacing:"0.06em", marginBottom:4 }}>{c.label}</p>
              <p style={{ fontSize:16, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:c.color, marginBottom:4 }}>{fmtEur(c.value)}</p>
              <MiniSparkline data={c.spark} color={c.color} />
            </div>
          ))}
        </div>
      </div>

      {/* Content */}
      <div style={{ padding:"16px" }}>
        {/* Add button */}
        <button onClick={()=>setShowModal(true)} style={{ width:"100%", padding:"11px", borderRadius:"var(--radius-sm)", background:"var(--gold-dim)", border:"1px dashed var(--gold)", color:"var(--gold)", fontSize:13, fontWeight:600, marginBottom:16 }}>
          + Ajouter une entre manuellement
        </button>

        {/* Chart */}
        {rows.length >= 2 && (
          <SavingsChart rows={rows} />
        )}

        {/* Legend */}
        <div style={{ display:"flex", gap:12, marginBottom:12, flexWrap:"wrap" }}>
          <span style={{ fontSize:11, color:"var(--green)", fontWeight:600, display:"flex", alignItems:"center", gap:4 }}><span style={{ width:10,height:10,borderRadius:2,background:"var(--green)",display:"inline-block" }}/>Disponible</span>
          <span style={{ fontSize:11, color:"var(--red)", fontWeight:600, display:"flex", alignItems:"center", gap:4 }}><span style={{ width:10,height:10,borderRadius:2,background:"var(--red)",display:"inline-block" }}/>Bloque</span>
          <span style={{ fontSize:11, color:"var(--gold)", fontWeight:600, display:"flex", alignItems:"center", gap:4 }}><span style={{ width:10,height:10,borderRadius:2,background:"var(--gold)",display:"inline-block" }}/>Total</span>
          <span style={{ fontSize:11, color:"var(--text-sub)", fontWeight:600, display:"flex", alignItems:"center", gap:4 }}><span style={{ fontSize:10 }}></span>Auto</span>
        </div>

        {/* Table / Cards */}
        {rows.length === 0 ? (
          <div style={{ textAlign:"center", padding:"60px 20px", color:"var(--text-muted)" }}>
            <p style={{ fontSize:36, marginBottom:12 }}></p>
            <p style={{ fontSize:15, fontWeight:500, marginBottom:6 }}>Aucune entre pour l'instant</p>
            <p style={{ fontSize:13 }}>Les entres sont cres automatiquement le 1er et le 15 de chaque mois, ou vous pouvez en ajouter manuellement.</p>
          </div>
        ) : (
          <div style={{ display:"flex", flexDirection:"column", gap:10 }}>
            {rows.map((row, i) => (
              <div key={row.id} className="fade-up" style={{ background:"var(--surface)", border:"1px solid var(--border)", borderRadius:"var(--radius)", overflow:"hidden", animationDelay:`${i*0.03}s` }}>
                {/* Date + actions header */}
                <div style={{ display:"flex", justifyContent:"space-between", alignItems:"center", padding:"10px 14px", background:"var(--surface2)", borderBottom:"1px solid var(--border)" }}>
                  <div style={{ display:"flex", alignItems:"center", gap:8 }}>
                    <span style={{ fontFamily:"'DM Serif Display',serif", fontSize:15, fontWeight:600, color:"var(--gold)" }}>{fmtSnapshotDate(row.date)}</span>
                    {row.auto && <span style={{ fontSize:10, padding:"2px 6px", borderRadius:4, background:"var(--gold-dim)", color:"var(--gold)", fontWeight:600 }}> Auto</span>}
                    {row.note && <span style={{ fontSize:11, color:"var(--text-muted)", fontStyle:"italic" }}>{row.note}</span>}
                  </div>
                  <div style={{ display:"flex", gap:6 }}>
                    <button onClick={()=>setEditSnapshot(row)} style={{ background:"var(--gold-dim)", border:"none", borderRadius:6, width:24,height:24, display:"flex", alignItems:"center", justifyContent:"center", color:"var(--gold)", fontSize:12 }}></button>
                    <button onClick={()=>setDeleteSnap(row)} style={{ background:"var(--red-dim)", border:"none", borderRadius:6, width:24,height:24, display:"flex", alignItems:"center", justifyContent:"center", color:"var(--red)", fontSize:12 }}></button>
                  </div>
                </div>

                {/* 2-column data */}
                <div style={{ display:"grid", gridTemplateColumns:"1fr 1fr", gap:0 }}>
                  {/* Available */}
                  <div style={{ padding:"12px 14px", borderRight:"1px solid var(--border)" }}>
                    <p style={{ fontSize:10, color:"var(--text-sub)", fontWeight:600, textTransform:"uppercase", letterSpacing:"0.06em", marginBottom:4 }}>Disponible</p>
                    <p style={{ fontSize:18, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:"var(--green)", marginBottom:4 }}>{fmtEur(row.available||0)}</p>
                    <Variation value={row.varAvailable} />
                  </div>
                  {/* Blocked */}
                  <div style={{ padding:"12px 14px" }}>
                    <p style={{ fontSize:10, color:"var(--text-sub)", fontWeight:600, textTransform:"uppercase", letterSpacing:"0.06em", marginBottom:4 }}>Bloque</p>
                    <p style={{ fontSize:18, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:"var(--red)", marginBottom:4 }}>{fmtEur(row.blocked||0)}</p>
                    <Variation value={row.varBlocked} />
                  </div>
                </div>

                {/* Total */}
                <div style={{ padding:"8px 14px", borderTop:"1px solid var(--border)", display:"flex", justifyContent:"space-between", alignItems:"center", background:"rgba(0,0,0,0.02)" }}>
                  <span style={{ fontSize:11, color:"var(--text-sub)", fontWeight:600, textTransform:"uppercase", letterSpacing:"0.06em" }}>Total pargne</span>
                  <span style={{ fontSize:15, fontWeight:700, fontFamily:"'DM Serif Display',serif", color:"var(--gold)" }}>{fmtEur(row.total)}</span>
                </div>
              </div>
            ))}
          </div>
        )}
      </div>

      {/* Modals */}
      {showModal    && <SavingsSnapshotModal defaults={{ available: totalAvailable, blocked: totalBlocked }} onClose={()=>setShowModal(false)}    onSave={handleSaveNew} />}
      {editSnapshot && <SavingsSnapshotModal snapshot={editSnapshot} onClose={()=>setEditSnapshot(null)} onSave={handleSaveEdit} />}
      {deleteSnap   && (
        <div style={{ position:"fixed", inset:0, zIndex:200, background:"rgba(0,0,0,0.7)", backdropFilter:"blur(6px)", display:"flex", alignItems:"center", justifyContent:"center", padding:20 }}
          onClick={e=>e.target===e.currentTarget&&setDeleteSnap(null)}>
          <div className="scale-in" style={{ width:"100%", maxWidth:400, background:"var(--surface)", borderRadius:"var(--radius)", border:"1px solid var(--border)", padding:24 }}>
            <p style={{ fontSize:18, fontWeight:600, marginBottom:12 }}>Supprimer cette entre</p>
            <p style={{ fontSize:14, color:"var(--text-muted)", marginBottom:20, lineHeight:1.6 }}>
              Supprimer l'entre du <strong>{fmtSnapshotDate(deleteSnap.date)}</strong> ? Cette action est irrversible.
            </p>
            <div style={{ display:"flex", gap:10 }}>
              <button onClick={()=>setDeleteSnap(null)} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--surface2)", border:"1px solid var(--border)", color:"var(--text)", fontSize:14, fontWeight:600 }}>Annuler</button>
              <button onClick={()=>{store.removeSavingsSnapshot(deleteSnap.id);setDeleteSnap(null);}} style={{ flex:1, padding:"10px", borderRadius:"var(--radius-sm)", background:"var(--red)", border:"none", color:"#fff", fontSize:14, fontWeight:600 }}>Supprimer</button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
}

//  Mount 
// Wait for Firebase to initialize before mounting React
function waitForFb(cb) {
  if (window._fb) cb();
  else setTimeout(()=>waitForFb(cb), 50);
}
waitForFb(()=>{
  ReactDOM.createRoot(document.getElementById("root")).render(<App />);
});
</script>
</body>
</html>
